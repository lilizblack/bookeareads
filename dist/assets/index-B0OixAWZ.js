function Kw(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var va=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Gw={exports:{}},ou={},zw={exports:{}},We={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Go=Symbol.for("react.element"),t2=Symbol.for("react.portal"),r2=Symbol.for("react.fragment"),n2=Symbol.for("react.strict_mode"),A2=Symbol.for("react.profiler"),s2=Symbol.for("react.provider"),i2=Symbol.for("react.context"),a2=Symbol.for("react.forward_ref"),o2=Symbol.for("react.suspense"),l2=Symbol.for("react.memo"),c2=Symbol.for("react.lazy"),kg=Symbol.iterator;function u2(e){return e===null||typeof e!="object"?null:(e=kg&&e[kg]||e["@@iterator"],typeof e=="function"?e:null)}var Ww={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Yw=Object.assign,Xw={};function ia(e,t,r){this.props=e,this.context=t,this.refs=Xw,this.updater=r||Ww}ia.prototype.isReactComponent={};ia.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ia.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Jw(){}Jw.prototype=ia.prototype;function e0(e,t,r){this.props=e,this.context=t,this.refs=Xw,this.updater=r||Ww}var t0=e0.prototype=new Jw;t0.constructor=e0;Yw(t0,ia.prototype);t0.isPureReactComponent=!0;var Qg=Array.isArray,Zw=Object.prototype.hasOwnProperty,r0={current:null},qw={key:!0,ref:!0,__self:!0,__source:!0};function $w(e,t,r){var n,s={},a=null,c=null;if(t!=null)for(n in t.ref!==void 0&&(c=t.ref),t.key!==void 0&&(a=""+t.key),t)Zw.call(t,n)&&!qw.hasOwnProperty(n)&&(s[n]=t[n]);var f=arguments.length-2;if(f===1)s.children=r;else if(1<f){for(var g=Array(f),w=0;w<f;w++)g[w]=arguments[w+2];s.children=g}if(e&&e.defaultProps)for(n in f=e.defaultProps,f)s[n]===void 0&&(s[n]=f[n]);return{$$typeof:Go,type:e,key:a,ref:c,props:s,_owner:r0.current}}function d2(e,t){return{$$typeof:Go,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function n0(e){return typeof e=="object"&&e!==null&&e.$$typeof===Go}function h2(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Og=/\/+/g;function ld(e,t){return typeof e=="object"&&e!==null&&e.key!=null?h2(""+e.key):t.toString(36)}function tc(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var c=!1;if(e===null)c=!0;else switch(a){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case Go:case t2:c=!0}}if(c)return c=e,s=s(c),e=n===""?"."+ld(c,0):n,Qg(s)?(r="",e!=null&&(r=e.replace(Og,"$&/")+"/"),tc(s,t,r,"",function(w){return w})):s!=null&&(n0(s)&&(s=d2(s,r+(!s.key||c&&c.key===s.key?"":(""+s.key).replace(Og,"$&/")+"/")+e)),t.push(s)),1;if(c=0,n=n===""?".":n+":",Qg(e))for(var f=0;f<e.length;f++){a=e[f];var g=n+ld(a,f);c+=tc(a,t,r,g,s)}else if(g=u2(e),typeof g=="function")for(e=g.call(e),f=0;!(a=e.next()).done;)a=a.value,g=n+ld(a,f++),c+=tc(a,t,r,g,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function cl(e,t,r){if(e==null)return e;var n=[],s=0;return tc(e,n,"","",function(a){return t.call(r,a,s++)}),n}function f2(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var _r={current:null},rc={transition:null},g2={ReactCurrentDispatcher:_r,ReactCurrentBatchConfig:rc,ReactCurrentOwner:r0};function em(){throw Error("act(...) is not supported in production builds of React.")}We.Children={map:cl,forEach:function(e,t,r){cl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return cl(e,function(){t++}),t},toArray:function(e){return cl(e,function(t){return t})||[]},only:function(e){if(!n0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};We.Component=ia;We.Fragment=r2;We.Profiler=A2;We.PureComponent=e0;We.StrictMode=n2;We.Suspense=o2;We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g2;We.act=em;We.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Yw({},e.props),s=e.key,a=e.ref,c=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,c=r0.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var f=e.type.defaultProps;for(g in t)Zw.call(t,g)&&!qw.hasOwnProperty(g)&&(n[g]=t[g]===void 0&&f!==void 0?f[g]:t[g])}var g=arguments.length-2;if(g===1)n.children=r;else if(1<g){f=Array(g);for(var w=0;w<g;w++)f[w]=arguments[w+2];n.children=f}return{$$typeof:Go,type:e.type,key:s,ref:a,props:n,_owner:c}};We.createContext=function(e){return e={$$typeof:i2,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:s2,_context:e},e.Consumer=e};We.createElement=$w;We.createFactory=function(e){var t=$w.bind(null,e);return t.type=e,t};We.createRef=function(){return{current:null}};We.forwardRef=function(e){return{$$typeof:a2,render:e}};We.isValidElement=n0;We.lazy=function(e){return{$$typeof:c2,_payload:{_status:-1,_result:e},_init:f2}};We.memo=function(e,t){return{$$typeof:l2,type:e,compare:t===void 0?null:t}};We.startTransition=function(e){var t=rc.transition;rc.transition={};try{e()}finally{rc.transition=t}};We.unstable_act=em;We.useCallback=function(e,t){return _r.current.useCallback(e,t)};We.useContext=function(e){return _r.current.useContext(e)};We.useDebugValue=function(){};We.useDeferredValue=function(e){return _r.current.useDeferredValue(e)};We.useEffect=function(e,t){return _r.current.useEffect(e,t)};We.useId=function(){return _r.current.useId()};We.useImperativeHandle=function(e,t,r){return _r.current.useImperativeHandle(e,t,r)};We.useInsertionEffect=function(e,t){return _r.current.useInsertionEffect(e,t)};We.useLayoutEffect=function(e,t){return _r.current.useLayoutEffect(e,t)};We.useMemo=function(e,t){return _r.current.useMemo(e,t)};We.useReducer=function(e,t,r){return _r.current.useReducer(e,t,r)};We.useRef=function(e){return _r.current.useRef(e)};We.useState=function(e){return _r.current.useState(e)};We.useSyncExternalStore=function(e,t,r){return _r.current.useSyncExternalStore(e,t,r)};We.useTransition=function(){return _r.current.useTransition()};We.version="18.3.1";zw.exports=We;var z=zw.exports;const po=Vw(z),p2=Kw({__proto__:null,default:po},[z]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w2=z,m2=Symbol.for("react.element"),x2=Symbol.for("react.fragment"),B2=Object.prototype.hasOwnProperty,y2=w2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,C2={key:!0,ref:!0,__self:!0,__source:!0};function tm(e,t,r){var n,s={},a=null,c=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(c=t.ref);for(n in t)B2.call(t,n)&&!C2.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:m2,type:e,key:a,ref:c,props:s,_owner:y2.current}}ou.Fragment=x2;ou.jsx=tm;ou.jsxs=tm;Gw.exports=ou;var h=Gw.exports,gh={},rm={exports:{}},an={},nm={exports:{}},Am={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Ae,xe){var pe=Ae.length;Ae.push(xe);e:for(;0<pe;){var Me=pe-1>>>1,ie=Ae[Me];if(0<s(ie,xe))Ae[Me]=xe,Ae[pe]=ie,pe=Me;else break e}}function r(Ae){return Ae.length===0?null:Ae[0]}function n(Ae){if(Ae.length===0)return null;var xe=Ae[0],pe=Ae.pop();if(pe!==xe){Ae[0]=pe;e:for(var Me=0,ie=Ae.length,J=ie>>>1;Me<J;){var ne=2*(Me+1)-1,Ie=Ae[ne],j=ne+1,V=Ae[j];if(0>s(Ie,pe))j<ie&&0>s(V,Ie)?(Ae[Me]=V,Ae[j]=pe,Me=j):(Ae[Me]=Ie,Ae[ne]=pe,Me=ne);else if(j<ie&&0>s(V,pe))Ae[Me]=V,Ae[j]=pe,Me=j;else break e}}return xe}function s(Ae,xe){var pe=Ae.sortIndex-xe.sortIndex;return pe!==0?pe:Ae.id-xe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var g=[],w=[],B=1,x=null,v=3,E=!1,b=!1,S=!1,R=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(Ae){for(var xe=r(w);xe!==null;){if(xe.callback===null)n(w);else if(xe.startTime<=Ae)n(w),xe.sortIndex=xe.expirationTime,t(g,xe);else break;xe=r(w)}}function k(Ae){if(S=!1,U(Ae),!b)if(r(g)!==null)b=!0,oe(H);else{var xe=r(w);xe!==null&&ge(k,xe.startTime-Ae)}}function H(Ae,xe){b=!1,S&&(S=!1,T(X),X=-1),E=!0;var pe=v;try{for(U(xe),x=r(g);x!==null&&(!(x.expirationTime>xe)||Ae&&!Ne());){var Me=x.callback;if(typeof Me=="function"){x.callback=null,v=x.priorityLevel;var ie=Me(x.expirationTime<=xe);xe=e.unstable_now(),typeof ie=="function"?x.callback=ie:x===r(g)&&n(g),U(xe)}else n(g);x=r(g)}if(x!==null)var J=!0;else{var ne=r(w);ne!==null&&ge(k,ne.startTime-xe),J=!1}return J}finally{x=null,v=pe,E=!1}}var M=!1,L=null,X=-1,G=5,ce=-1;function Ne(){return!(e.unstable_now()-ce<G)}function fe(){if(L!==null){var Ae=e.unstable_now();ce=Ae;var xe=!0;try{xe=L(!0,Ae)}finally{xe?me():(M=!1,L=null)}}else M=!1}var me;if(typeof I=="function")me=function(){I(fe)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,D=Te.port2;Te.port1.onmessage=fe,me=function(){D.postMessage(null)}}else me=function(){R(fe,0)};function oe(Ae){L=Ae,M||(M=!0,me())}function ge(Ae,xe){X=R(function(){Ae(e.unstable_now())},xe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Ae){Ae.callback=null},e.unstable_continueExecution=function(){b||E||(b=!0,oe(H))},e.unstable_forceFrameRate=function(Ae){0>Ae||125<Ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<Ae?Math.floor(1e3/Ae):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return r(g)},e.unstable_next=function(Ae){switch(v){case 1:case 2:case 3:var xe=3;break;default:xe=v}var pe=v;v=xe;try{return Ae()}finally{v=pe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Ae,xe){switch(Ae){case 1:case 2:case 3:case 4:case 5:break;default:Ae=3}var pe=v;v=Ae;try{return xe()}finally{v=pe}},e.unstable_scheduleCallback=function(Ae,xe,pe){var Me=e.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Me+pe:Me):pe=Me,Ae){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=pe+ie,Ae={id:B++,callback:xe,priorityLevel:Ae,startTime:pe,expirationTime:ie,sortIndex:-1},pe>Me?(Ae.sortIndex=pe,t(w,Ae),r(g)===null&&Ae===r(w)&&(S?(T(X),X=-1):S=!0,ge(k,pe-Me))):(Ae.sortIndex=ie,t(g,Ae),b||E||(b=!0,oe(H))),Ae},e.unstable_shouldYield=Ne,e.unstable_wrapCallback=function(Ae){var xe=v;return function(){var pe=v;v=xe;try{return Ae.apply(this,arguments)}finally{v=pe}}}})(Am);nm.exports=Am;var v2=nm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b2=z,sn=v2;function ue(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sm=new Set,wo={};function zs(e,t){Xi(e,t),Xi(e+"Capture",t)}function Xi(e,t){for(wo[e]=t,e=0;e<t.length;e++)sm.add(t[e])}var fA=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ph=Object.prototype.hasOwnProperty,E2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Dg={},Rg={};function S2(e){return ph.call(Rg,e)?!0:ph.call(Dg,e)?!1:E2.test(e)?Rg[e]=!0:(Dg[e]=!0,!1)}function I2(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function F2(e,t,r,n){if(t===null||typeof t>"u"||I2(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function kr(e,t,r,n,s,a,c){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=c}var mr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){mr[e]=new kr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];mr[t]=new kr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){mr[e]=new kr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){mr[e]=new kr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){mr[e]=new kr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){mr[e]=new kr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){mr[e]=new kr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){mr[e]=new kr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){mr[e]=new kr(e,5,!1,e.toLowerCase(),null,!1,!1)});var A0=/[\-:]([a-z])/g;function s0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(A0,s0);mr[t]=new kr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(A0,s0);mr[t]=new kr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(A0,s0);mr[t]=new kr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){mr[e]=new kr(e,1,!1,e.toLowerCase(),null,!1,!1)});mr.xlinkHref=new kr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){mr[e]=new kr(e,1,!1,e.toLowerCase(),null,!0,!0)});function i0(e,t,r,n){var s=mr.hasOwnProperty(t)?mr[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(F2(t,r,s,n)&&(r=null),n||s===null?S2(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var BA=b2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ul=Symbol.for("react.element"),bi=Symbol.for("react.portal"),Ei=Symbol.for("react.fragment"),a0=Symbol.for("react.strict_mode"),wh=Symbol.for("react.profiler"),im=Symbol.for("react.provider"),am=Symbol.for("react.context"),o0=Symbol.for("react.forward_ref"),mh=Symbol.for("react.suspense"),xh=Symbol.for("react.suspense_list"),l0=Symbol.for("react.memo"),QA=Symbol.for("react.lazy"),om=Symbol.for("react.offscreen"),Mg=Symbol.iterator;function ba(e){return e===null||typeof e!="object"?null:(e=Mg&&e[Mg]||e["@@iterator"],typeof e=="function"?e:null)}var _t=Object.assign,cd;function La(e){if(cd===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);cd=t&&t[1]||""}return`
`+cd+e}var ud=!1;function dd(e,t){if(!e||ud)return"";ud=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(w){var n=w}Reflect.construct(e,[],t)}else{try{t.call()}catch(w){n=w}e.call(t.prototype)}else{try{throw Error()}catch(w){n=w}e()}}catch(w){if(w&&n&&typeof w.stack=="string"){for(var s=w.stack.split(`
`),a=n.stack.split(`
`),c=s.length-1,f=a.length-1;1<=c&&0<=f&&s[c]!==a[f];)f--;for(;1<=c&&0<=f;c--,f--)if(s[c]!==a[f]){if(c!==1||f!==1)do if(c--,f--,0>f||s[c]!==a[f]){var g=`
`+s[c].replace(" at new "," at ");return e.displayName&&g.includes("<anonymous>")&&(g=g.replace("<anonymous>",e.displayName)),g}while(1<=c&&0<=f);break}}}finally{ud=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?La(e):""}function N2(e){switch(e.tag){case 5:return La(e.type);case 16:return La("Lazy");case 13:return La("Suspense");case 19:return La("SuspenseList");case 0:case 2:case 15:return e=dd(e.type,!1),e;case 11:return e=dd(e.type.render,!1),e;case 1:return e=dd(e.type,!0),e;default:return""}}function Bh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ei:return"Fragment";case bi:return"Portal";case wh:return"Profiler";case a0:return"StrictMode";case mh:return"Suspense";case xh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case am:return(e.displayName||"Context")+".Consumer";case im:return(e._context.displayName||"Context")+".Provider";case o0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case l0:return t=e.displayName||null,t!==null?t:Bh(e.type)||"Memo";case QA:t=e._payload,e=e._init;try{return Bh(e(t))}catch{}}return null}function T2(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bh(t);case 8:return t===a0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function as(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function lm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function U2(e){var t=lm(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(c){n=""+c,a.call(this,c)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(c){n=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function dl(e){e._valueTracker||(e._valueTracker=U2(e))}function cm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=lm(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function mc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function yh(e,t){var r=t.checked;return _t({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Lg(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=as(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function um(e,t){t=t.checked,t!=null&&i0(e,"checked",t,!1)}function Ch(e,t){um(e,t);var r=as(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?vh(e,t.type,r):t.hasOwnProperty("defaultValue")&&vh(e,t.type,as(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function jg(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function vh(e,t,r){(t!=="number"||mc(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ja=Array.isArray;function Li(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+as(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function bh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ue(91));return _t({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Hg(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ue(92));if(ja(r)){if(1<r.length)throw Error(ue(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:as(r)}}function dm(e,t){var r=as(t.value),n=as(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Pg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function hm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Eh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?hm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var hl,fm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(hl=hl||document.createElement("div"),hl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=hl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function mo(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var $a={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_2=["Webkit","ms","Moz","O"];Object.keys($a).forEach(function(e){_2.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),$a[t]=$a[e]})});function gm(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||$a.hasOwnProperty(e)&&$a[e]?(""+t).trim():t+"px"}function pm(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=gm(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var k2=_t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sh(e,t){if(t){if(k2[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ue(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ue(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ue(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ue(62))}}function Ih(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fh=null;function c0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Nh=null,ji=null,Hi=null;function Kg(e){if(e=Yo(e)){if(typeof Nh!="function")throw Error(ue(280));var t=e.stateNode;t&&(t=hu(t),Nh(e.stateNode,e.type,t))}}function wm(e){ji?Hi?Hi.push(e):Hi=[e]:ji=e}function mm(){if(ji){var e=ji,t=Hi;if(Hi=ji=null,Kg(e),t)for(e=0;e<t.length;e++)Kg(t[e])}}function xm(e,t){return e(t)}function Bm(){}var hd=!1;function ym(e,t,r){if(hd)return e(t,r);hd=!0;try{return xm(e,t,r)}finally{hd=!1,(ji!==null||Hi!==null)&&(Bm(),mm())}}function xo(e,t){var r=e.stateNode;if(r===null)return null;var n=hu(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ue(231,t,typeof r));return r}var Th=!1;if(fA)try{var Ea={};Object.defineProperty(Ea,"passive",{get:function(){Th=!0}}),window.addEventListener("test",Ea,Ea),window.removeEventListener("test",Ea,Ea)}catch{Th=!1}function Q2(e,t,r,n,s,a,c,f,g){var w=Array.prototype.slice.call(arguments,3);try{t.apply(r,w)}catch(B){this.onError(B)}}var eo=!1,xc=null,Bc=!1,Uh=null,O2={onError:function(e){eo=!0,xc=e}};function D2(e,t,r,n,s,a,c,f,g){eo=!1,xc=null,Q2.apply(O2,arguments)}function R2(e,t,r,n,s,a,c,f,g){if(D2.apply(this,arguments),eo){if(eo){var w=xc;eo=!1,xc=null}else throw Error(ue(198));Bc||(Bc=!0,Uh=w)}}function Ws(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Cm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Vg(e){if(Ws(e)!==e)throw Error(ue(188))}function M2(e){var t=e.alternate;if(!t){if(t=Ws(e),t===null)throw Error(ue(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return Vg(s),e;if(a===n)return Vg(s),t;a=a.sibling}throw Error(ue(188))}if(r.return!==n.return)r=s,n=a;else{for(var c=!1,f=s.child;f;){if(f===r){c=!0,r=s,n=a;break}if(f===n){c=!0,n=s,r=a;break}f=f.sibling}if(!c){for(f=a.child;f;){if(f===r){c=!0,r=a,n=s;break}if(f===n){c=!0,n=a,r=s;break}f=f.sibling}if(!c)throw Error(ue(189))}}if(r.alternate!==n)throw Error(ue(190))}if(r.tag!==3)throw Error(ue(188));return r.stateNode.current===r?e:t}function vm(e){return e=M2(e),e!==null?bm(e):null}function bm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=bm(e);if(t!==null)return t;e=e.sibling}return null}var Em=sn.unstable_scheduleCallback,Gg=sn.unstable_cancelCallback,L2=sn.unstable_shouldYield,j2=sn.unstable_requestPaint,Gt=sn.unstable_now,H2=sn.unstable_getCurrentPriorityLevel,u0=sn.unstable_ImmediatePriority,Sm=sn.unstable_UserBlockingPriority,yc=sn.unstable_NormalPriority,P2=sn.unstable_LowPriority,Im=sn.unstable_IdlePriority,lu=null,eA=null;function K2(e){if(eA&&typeof eA.onCommitFiberRoot=="function")try{eA.onCommitFiberRoot(lu,e,void 0,(e.current.flags&128)===128)}catch{}}var Dn=Math.clz32?Math.clz32:z2,V2=Math.log,G2=Math.LN2;function z2(e){return e>>>=0,e===0?32:31-(V2(e)/G2|0)|0}var fl=64,gl=4194304;function Ha(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Cc(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,c=r&268435455;if(c!==0){var f=c&~s;f!==0?n=Ha(f):(a&=c,a!==0&&(n=Ha(a)))}else c=r&~s,c!==0?n=Ha(c):a!==0&&(n=Ha(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Dn(t),s=1<<r,n|=e[r],t&=~s;return n}function W2(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Y2(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var c=31-Dn(a),f=1<<c,g=s[c];g===-1?(!(f&r)||f&n)&&(s[c]=W2(f,t)):g<=t&&(e.expiredLanes|=f),a&=~f}}function _h(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Fm(){var e=fl;return fl<<=1,!(fl&4194240)&&(fl=64),e}function fd(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function zo(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Dn(t),e[t]=r}function X2(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Dn(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function d0(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Dn(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ot=0;function Nm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Tm,h0,Um,_m,km,kh=!1,pl=[],XA=null,JA=null,ZA=null,Bo=new Map,yo=new Map,MA=[],J2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zg(e,t){switch(e){case"focusin":case"focusout":XA=null;break;case"dragenter":case"dragleave":JA=null;break;case"mouseover":case"mouseout":ZA=null;break;case"pointerover":case"pointerout":Bo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yo.delete(t.pointerId)}}function Sa(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Yo(t),t!==null&&h0(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Z2(e,t,r,n,s){switch(t){case"focusin":return XA=Sa(XA,e,t,r,n,s),!0;case"dragenter":return JA=Sa(JA,e,t,r,n,s),!0;case"mouseover":return ZA=Sa(ZA,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return Bo.set(a,Sa(Bo.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,yo.set(a,Sa(yo.get(a)||null,e,t,r,n,s)),!0}return!1}function Qm(e){var t=_s(e.target);if(t!==null){var r=Ws(t);if(r!==null){if(t=r.tag,t===13){if(t=Cm(r),t!==null){e.blockedOn=t,km(e.priority,function(){Um(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function nc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Qh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Fh=n,r.target.dispatchEvent(n),Fh=null}else return t=Yo(r),t!==null&&h0(t),e.blockedOn=r,!1;t.shift()}return!0}function Wg(e,t,r){nc(e)&&r.delete(t)}function q2(){kh=!1,XA!==null&&nc(XA)&&(XA=null),JA!==null&&nc(JA)&&(JA=null),ZA!==null&&nc(ZA)&&(ZA=null),Bo.forEach(Wg),yo.forEach(Wg)}function Ia(e,t){e.blockedOn===t&&(e.blockedOn=null,kh||(kh=!0,sn.unstable_scheduleCallback(sn.unstable_NormalPriority,q2)))}function Co(e){function t(s){return Ia(s,e)}if(0<pl.length){Ia(pl[0],e);for(var r=1;r<pl.length;r++){var n=pl[r];n.blockedOn===e&&(n.blockedOn=null)}}for(XA!==null&&Ia(XA,e),JA!==null&&Ia(JA,e),ZA!==null&&Ia(ZA,e),Bo.forEach(t),yo.forEach(t),r=0;r<MA.length;r++)n=MA[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<MA.length&&(r=MA[0],r.blockedOn===null);)Qm(r),r.blockedOn===null&&MA.shift()}var Pi=BA.ReactCurrentBatchConfig,vc=!0;function $2(e,t,r,n){var s=ot,a=Pi.transition;Pi.transition=null;try{ot=1,f0(e,t,r,n)}finally{ot=s,Pi.transition=a}}function ev(e,t,r,n){var s=ot,a=Pi.transition;Pi.transition=null;try{ot=4,f0(e,t,r,n)}finally{ot=s,Pi.transition=a}}function f0(e,t,r,n){if(vc){var s=Qh(e,t,r,n);if(s===null)bd(e,t,n,bc,r),zg(e,n);else if(Z2(s,e,t,r,n))n.stopPropagation();else if(zg(e,n),t&4&&-1<J2.indexOf(e)){for(;s!==null;){var a=Yo(s);if(a!==null&&Tm(a),a=Qh(e,t,r,n),a===null&&bd(e,t,n,bc,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else bd(e,t,n,null,r)}}var bc=null;function Qh(e,t,r,n){if(bc=null,e=c0(n),e=_s(e),e!==null)if(t=Ws(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Cm(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return bc=e,null}function Om(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(H2()){case u0:return 1;case Sm:return 4;case yc:case P2:return 16;case Im:return 536870912;default:return 16}default:return 16}}var PA=null,g0=null,Ac=null;function Dm(){if(Ac)return Ac;var e,t=g0,r=t.length,n,s="value"in PA?PA.value:PA.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var c=r-e;for(n=1;n<=c&&t[r-n]===s[a-n];n++);return Ac=s.slice(e,1<n?1-n:void 0)}function sc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function wl(){return!0}function Yg(){return!1}function on(e){function t(r,n,s,a,c){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=c,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(r=e[f],this[f]=r?r(a):a[f]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?wl:Yg,this.isPropagationStopped=Yg,this}return _t(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=wl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=wl)},persist:function(){},isPersistent:wl}),t}var aa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},p0=on(aa),Wo=_t({},aa,{view:0,detail:0}),tv=on(Wo),gd,pd,Fa,cu=_t({},Wo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:w0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fa&&(Fa&&e.type==="mousemove"?(gd=e.screenX-Fa.screenX,pd=e.screenY-Fa.screenY):pd=gd=0,Fa=e),gd)},movementY:function(e){return"movementY"in e?e.movementY:pd}}),Xg=on(cu),rv=_t({},cu,{dataTransfer:0}),nv=on(rv),Av=_t({},Wo,{relatedTarget:0}),wd=on(Av),sv=_t({},aa,{animationName:0,elapsedTime:0,pseudoElement:0}),iv=on(sv),av=_t({},aa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ov=on(av),lv=_t({},aa,{data:0}),Jg=on(lv),cv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=dv[e])?!!t[e]:!1}function w0(){return hv}var fv=_t({},Wo,{key:function(e){if(e.key){var t=cv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=sc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:w0,charCode:function(e){return e.type==="keypress"?sc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?sc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gv=on(fv),pv=_t({},cu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zg=on(pv),wv=_t({},Wo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:w0}),mv=on(wv),xv=_t({},aa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bv=on(xv),yv=_t({},cu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Cv=on(yv),vv=[9,13,27,32],m0=fA&&"CompositionEvent"in window,to=null;fA&&"documentMode"in document&&(to=document.documentMode);var bv=fA&&"TextEvent"in window&&!to,Rm=fA&&(!m0||to&&8<to&&11>=to),qg=" ",$g=!1;function Mm(e,t){switch(e){case"keyup":return vv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Si=!1;function Ev(e,t){switch(e){case"compositionend":return Lm(t);case"keypress":return t.which!==32?null:($g=!0,qg);case"textInput":return e=t.data,e===qg&&$g?null:e;default:return null}}function Sv(e,t){if(Si)return e==="compositionend"||!m0&&Mm(e,t)?(e=Dm(),Ac=g0=PA=null,Si=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rm&&t.locale!=="ko"?null:t.data;default:return null}}var Iv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function e1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Iv[e.type]:t==="textarea"}function jm(e,t,r,n){wm(n),t=Ec(t,"onChange"),0<t.length&&(r=new p0("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ro=null,vo=null;function Fv(e){Zm(e,0)}function uu(e){var t=Ni(e);if(cm(t))return e}function Nv(e,t){if(e==="change")return t}var Hm=!1;if(fA){var md;if(fA){var xd="oninput"in document;if(!xd){var t1=document.createElement("div");t1.setAttribute("oninput","return;"),xd=typeof t1.oninput=="function"}md=xd}else md=!1;Hm=md&&(!document.documentMode||9<document.documentMode)}function r1(){ro&&(ro.detachEvent("onpropertychange",Pm),vo=ro=null)}function Pm(e){if(e.propertyName==="value"&&uu(vo)){var t=[];jm(t,vo,e,c0(e)),ym(Fv,t)}}function Tv(e,t,r){e==="focusin"?(r1(),ro=t,vo=r,ro.attachEvent("onpropertychange",Pm)):e==="focusout"&&r1()}function Uv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return uu(vo)}function _v(e,t){if(e==="click")return uu(t)}function kv(e,t){if(e==="input"||e==="change")return uu(t)}function Qv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ln=typeof Object.is=="function"?Object.is:Qv;function bo(e,t){if(Ln(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!ph.call(t,s)||!Ln(e[s],t[s]))return!1}return!0}function n1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function A1(e,t){var r=n1(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=n1(r)}}function Km(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Km(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Vm(){for(var e=window,t=mc();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=mc(e.document)}return t}function x0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ov(e){var t=Vm(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Km(r.ownerDocument.documentElement,r)){if(n!==null&&x0(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=A1(r,a);var c=A1(r,n);s&&c&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==c.node||e.focusOffset!==c.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(c.node,c.offset)):(t.setEnd(c.node,c.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Dv=fA&&"documentMode"in document&&11>=document.documentMode,Ii=null,Oh=null,no=null,Dh=!1;function s1(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Dh||Ii==null||Ii!==mc(n)||(n=Ii,"selectionStart"in n&&x0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),no&&bo(no,n)||(no=n,n=Ec(Oh,"onSelect"),0<n.length&&(t=new p0("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ii)))}function ml(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Fi={animationend:ml("Animation","AnimationEnd"),animationiteration:ml("Animation","AnimationIteration"),animationstart:ml("Animation","AnimationStart"),transitionend:ml("Transition","TransitionEnd")},Bd={},Gm={};fA&&(Gm=document.createElement("div").style,"AnimationEvent"in window||(delete Fi.animationend.animation,delete Fi.animationiteration.animation,delete Fi.animationstart.animation),"TransitionEvent"in window||delete Fi.transitionend.transition);function du(e){if(Bd[e])return Bd[e];if(!Fi[e])return e;var t=Fi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Gm)return Bd[e]=t[r];return e}var zm=du("animationend"),Wm=du("animationiteration"),Ym=du("animationstart"),Xm=du("transitionend"),Jm=new Map,i1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function us(e,t){Jm.set(e,t),zs(t,[e])}for(var yd=0;yd<i1.length;yd++){var Cd=i1[yd],Rv=Cd.toLowerCase(),Mv=Cd[0].toUpperCase()+Cd.slice(1);us(Rv,"on"+Mv)}us(zm,"onAnimationEnd");us(Wm,"onAnimationIteration");us(Ym,"onAnimationStart");us("dblclick","onDoubleClick");us("focusin","onFocus");us("focusout","onBlur");us(Xm,"onTransitionEnd");Xi("onMouseEnter",["mouseout","mouseover"]);Xi("onMouseLeave",["mouseout","mouseover"]);Xi("onPointerEnter",["pointerout","pointerover"]);Xi("onPointerLeave",["pointerout","pointerover"]);zs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zs("onBeforeInput",["compositionend","keypress","textInput","paste"]);zs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pa));function a1(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,R2(n,t,void 0,e),e.currentTarget=null}function Zm(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var c=n.length-1;0<=c;c--){var f=n[c],g=f.instance,w=f.currentTarget;if(f=f.listener,g!==a&&s.isPropagationStopped())break e;a1(s,f,w),a=g}else for(c=0;c<n.length;c++){if(f=n[c],g=f.instance,w=f.currentTarget,f=f.listener,g!==a&&s.isPropagationStopped())break e;a1(s,f,w),a=g}}}if(Bc)throw e=Uh,Bc=!1,Uh=null,e}function yt(e,t){var r=t[Hh];r===void 0&&(r=t[Hh]=new Set);var n=e+"__bubble";r.has(n)||(qm(t,e,2,!1),r.add(n))}function vd(e,t,r){var n=0;t&&(n|=4),qm(r,e,n,t)}var xl="_reactListening"+Math.random().toString(36).slice(2);function Eo(e){if(!e[xl]){e[xl]=!0,sm.forEach(function(r){r!=="selectionchange"&&(Lv.has(r)||vd(r,!1,e),vd(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[xl]||(t[xl]=!0,vd("selectionchange",!1,t))}}function qm(e,t,r,n){switch(Om(t)){case 1:var s=$2;break;case 4:s=ev;break;default:s=f0}r=s.bind(null,t,r,e),s=void 0,!Th||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function bd(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var c=n.tag;if(c===3||c===4){var f=n.stateNode.containerInfo;if(f===s||f.nodeType===8&&f.parentNode===s)break;if(c===4)for(c=n.return;c!==null;){var g=c.tag;if((g===3||g===4)&&(g=c.stateNode.containerInfo,g===s||g.nodeType===8&&g.parentNode===s))return;c=c.return}for(;f!==null;){if(c=_s(f),c===null)return;if(g=c.tag,g===5||g===6){n=a=c;continue e}f=f.parentNode}}n=n.return}ym(function(){var w=a,B=c0(r),x=[];e:{var v=Jm.get(e);if(v!==void 0){var E=p0,b=e;switch(e){case"keypress":if(sc(r)===0)break e;case"keydown":case"keyup":E=gv;break;case"focusin":b="focus",E=wd;break;case"focusout":b="blur",E=wd;break;case"beforeblur":case"afterblur":E=wd;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=Xg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=nv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=mv;break;case zm:case Wm:case Ym:E=iv;break;case Xm:E=Bv;break;case"scroll":E=tv;break;case"wheel":E=Cv;break;case"copy":case"cut":case"paste":E=ov;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=Zg}var S=(t&4)!==0,R=!S&&e==="scroll",T=S?v!==null?v+"Capture":null:v;S=[];for(var I=w,U;I!==null;){U=I;var k=U.stateNode;if(U.tag===5&&k!==null&&(U=k,T!==null&&(k=xo(I,T),k!=null&&S.push(So(I,k,U)))),R)break;I=I.return}0<S.length&&(v=new E(v,b,null,r,B),x.push({event:v,listeners:S}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",E=e==="mouseout"||e==="pointerout",v&&r!==Fh&&(b=r.relatedTarget||r.fromElement)&&(_s(b)||b[gA]))break e;if((E||v)&&(v=B.window===B?B:(v=B.ownerDocument)?v.defaultView||v.parentWindow:window,E?(b=r.relatedTarget||r.toElement,E=w,b=b?_s(b):null,b!==null&&(R=Ws(b),b!==R||b.tag!==5&&b.tag!==6)&&(b=null)):(E=null,b=w),E!==b)){if(S=Xg,k="onMouseLeave",T="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(S=Zg,k="onPointerLeave",T="onPointerEnter",I="pointer"),R=E==null?v:Ni(E),U=b==null?v:Ni(b),v=new S(k,I+"leave",E,r,B),v.target=R,v.relatedTarget=U,k=null,_s(B)===w&&(S=new S(T,I+"enter",b,r,B),S.target=U,S.relatedTarget=R,k=S),R=k,E&&b)t:{for(S=E,T=b,I=0,U=S;U;U=si(U))I++;for(U=0,k=T;k;k=si(k))U++;for(;0<I-U;)S=si(S),I--;for(;0<U-I;)T=si(T),U--;for(;I--;){if(S===T||T!==null&&S===T.alternate)break t;S=si(S),T=si(T)}S=null}else S=null;E!==null&&o1(x,v,E,S,!1),b!==null&&R!==null&&o1(x,R,b,S,!0)}}e:{if(v=w?Ni(w):window,E=v.nodeName&&v.nodeName.toLowerCase(),E==="select"||E==="input"&&v.type==="file")var H=Nv;else if(e1(v))if(Hm)H=kv;else{H=Uv;var M=Tv}else(E=v.nodeName)&&E.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(H=_v);if(H&&(H=H(e,w))){jm(x,H,r,B);break e}M&&M(e,v,w),e==="focusout"&&(M=v._wrapperState)&&M.controlled&&v.type==="number"&&vh(v,"number",v.value)}switch(M=w?Ni(w):window,e){case"focusin":(e1(M)||M.contentEditable==="true")&&(Ii=M,Oh=w,no=null);break;case"focusout":no=Oh=Ii=null;break;case"mousedown":Dh=!0;break;case"contextmenu":case"mouseup":case"dragend":Dh=!1,s1(x,r,B);break;case"selectionchange":if(Dv)break;case"keydown":case"keyup":s1(x,r,B)}var L;if(m0)e:{switch(e){case"compositionstart":var X="onCompositionStart";break e;case"compositionend":X="onCompositionEnd";break e;case"compositionupdate":X="onCompositionUpdate";break e}X=void 0}else Si?Mm(e,r)&&(X="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(X="onCompositionStart");X&&(Rm&&r.locale!=="ko"&&(Si||X!=="onCompositionStart"?X==="onCompositionEnd"&&Si&&(L=Dm()):(PA=B,g0="value"in PA?PA.value:PA.textContent,Si=!0)),M=Ec(w,X),0<M.length&&(X=new Jg(X,e,null,r,B),x.push({event:X,listeners:M}),L?X.data=L:(L=Lm(r),L!==null&&(X.data=L)))),(L=bv?Ev(e,r):Sv(e,r))&&(w=Ec(w,"onBeforeInput"),0<w.length&&(B=new Jg("onBeforeInput","beforeinput",null,r,B),x.push({event:B,listeners:w}),B.data=L))}Zm(x,t)})}function So(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ec(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=xo(e,r),a!=null&&n.unshift(So(e,a,s)),a=xo(e,t),a!=null&&n.push(So(e,a,s))),e=e.return}return n}function si(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function o1(e,t,r,n,s){for(var a=t._reactName,c=[];r!==null&&r!==n;){var f=r,g=f.alternate,w=f.stateNode;if(g!==null&&g===n)break;f.tag===5&&w!==null&&(f=w,s?(g=xo(r,a),g!=null&&c.unshift(So(r,g,f))):s||(g=xo(r,a),g!=null&&c.push(So(r,g,f)))),r=r.return}c.length!==0&&e.push({event:t,listeners:c})}var jv=/\r\n?/g,Hv=/\u0000|\uFFFD/g;function l1(e){return(typeof e=="string"?e:""+e).replace(jv,`
`).replace(Hv,"")}function Bl(e,t,r){if(t=l1(t),l1(e)!==t&&r)throw Error(ue(425))}function Sc(){}var Rh=null,Mh=null;function Lh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var jh=typeof setTimeout=="function"?setTimeout:void 0,Pv=typeof clearTimeout=="function"?clearTimeout:void 0,c1=typeof Promise=="function"?Promise:void 0,Kv=typeof queueMicrotask=="function"?queueMicrotask:typeof c1<"u"?function(e){return c1.resolve(null).then(e).catch(Vv)}:jh;function Vv(e){setTimeout(function(){throw e})}function Ed(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Co(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Co(t)}function qA(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function u1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var oa=Math.random().toString(36).slice(2),Zn="__reactFiber$"+oa,Io="__reactProps$"+oa,gA="__reactContainer$"+oa,Hh="__reactEvents$"+oa,Gv="__reactListeners$"+oa,zv="__reactHandles$"+oa;function _s(e){var t=e[Zn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[gA]||r[Zn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=u1(e);e!==null;){if(r=e[Zn])return r;e=u1(e)}return t}e=r,r=e.parentNode}return null}function Yo(e){return e=e[Zn]||e[gA],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ni(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ue(33))}function hu(e){return e[Io]||null}var Ph=[],Ti=-1;function ds(e){return{current:e}}function vt(e){0>Ti||(e.current=Ph[Ti],Ph[Ti]=null,Ti--)}function wt(e,t){Ti++,Ph[Ti]=e.current,e.current=t}var os={},Sr=ds(os),Kr=ds(!1),Hs=os;function Ji(e,t){var r=e.type.contextTypes;if(!r)return os;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Vr(e){return e=e.childContextTypes,e!=null}function Ic(){vt(Kr),vt(Sr)}function d1(e,t,r){if(Sr.current!==os)throw Error(ue(168));wt(Sr,t),wt(Kr,r)}function $m(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(ue(108,T2(e)||"Unknown",s));return _t({},r,n)}function Fc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||os,Hs=Sr.current,wt(Sr,e),wt(Kr,Kr.current),!0}function h1(e,t,r){var n=e.stateNode;if(!n)throw Error(ue(169));r?(e=$m(e,t,Hs),n.__reactInternalMemoizedMergedChildContext=e,vt(Kr),vt(Sr),wt(Sr,e)):vt(Kr),wt(Kr,r)}var oA=null,fu=!1,Sd=!1;function ex(e){oA===null?oA=[e]:oA.push(e)}function Wv(e){fu=!0,ex(e)}function hs(){if(!Sd&&oA!==null){Sd=!0;var e=0,t=ot;try{var r=oA;for(ot=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}oA=null,fu=!1}catch(s){throw oA!==null&&(oA=oA.slice(e+1)),Em(u0,hs),s}finally{ot=t,Sd=!1}}return null}var Ui=[],_i=0,Nc=null,Tc=0,pn=[],wn=0,Ps=null,lA=1,cA="";function Es(e,t){Ui[_i++]=Tc,Ui[_i++]=Nc,Nc=e,Tc=t}function tx(e,t,r){pn[wn++]=lA,pn[wn++]=cA,pn[wn++]=Ps,Ps=e;var n=lA;e=cA;var s=32-Dn(n)-1;n&=~(1<<s),r+=1;var a=32-Dn(t)+s;if(30<a){var c=s-s%5;a=(n&(1<<c)-1).toString(32),n>>=c,s-=c,lA=1<<32-Dn(t)+s|r<<s|n,cA=a+e}else lA=1<<a|r<<s|n,cA=e}function B0(e){e.return!==null&&(Es(e,1),tx(e,1,0))}function y0(e){for(;e===Nc;)Nc=Ui[--_i],Ui[_i]=null,Tc=Ui[--_i],Ui[_i]=null;for(;e===Ps;)Ps=pn[--wn],pn[wn]=null,cA=pn[--wn],pn[wn]=null,lA=pn[--wn],pn[wn]=null}var An=null,nn=null,St=!1,On=null;function rx(e,t){var r=xn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function f1(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,An=e,nn=qA(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,An=e,nn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ps!==null?{id:lA,overflow:cA}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=xn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,An=e,nn=null,!0):!1;default:return!1}}function Kh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Vh(e){if(St){var t=nn;if(t){var r=t;if(!f1(e,t)){if(Kh(e))throw Error(ue(418));t=qA(r.nextSibling);var n=An;t&&f1(e,t)?rx(n,r):(e.flags=e.flags&-4097|2,St=!1,An=e)}}else{if(Kh(e))throw Error(ue(418));e.flags=e.flags&-4097|2,St=!1,An=e}}}function g1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;An=e}function yl(e){if(e!==An)return!1;if(!St)return g1(e),St=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Lh(e.type,e.memoizedProps)),t&&(t=nn)){if(Kh(e))throw nx(),Error(ue(418));for(;t;)rx(e,t),t=qA(t.nextSibling)}if(g1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ue(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){nn=qA(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}nn=null}}else nn=An?qA(e.stateNode.nextSibling):null;return!0}function nx(){for(var e=nn;e;)e=qA(e.nextSibling)}function Zi(){nn=An=null,St=!1}function C0(e){On===null?On=[e]:On.push(e)}var Yv=BA.ReactCurrentBatchConfig;function Na(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ue(309));var n=r.stateNode}if(!n)throw Error(ue(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(c){var f=s.refs;c===null?delete f[a]:f[a]=c},t._stringRef=a,t)}if(typeof e!="string")throw Error(ue(284));if(!r._owner)throw Error(ue(290,e))}return e}function Cl(e,t){throw e=Object.prototype.toString.call(t),Error(ue(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function p1(e){var t=e._init;return t(e._payload)}function Ax(e){function t(T,I){if(e){var U=T.deletions;U===null?(T.deletions=[I],T.flags|=16):U.push(I)}}function r(T,I){if(!e)return null;for(;I!==null;)t(T,I),I=I.sibling;return null}function n(T,I){for(T=new Map;I!==null;)I.key!==null?T.set(I.key,I):T.set(I.index,I),I=I.sibling;return T}function s(T,I){return T=rs(T,I),T.index=0,T.sibling=null,T}function a(T,I,U){return T.index=U,e?(U=T.alternate,U!==null?(U=U.index,U<I?(T.flags|=2,I):U):(T.flags|=2,I)):(T.flags|=1048576,I)}function c(T){return e&&T.alternate===null&&(T.flags|=2),T}function f(T,I,U,k){return I===null||I.tag!==6?(I=kd(U,T.mode,k),I.return=T,I):(I=s(I,U),I.return=T,I)}function g(T,I,U,k){var H=U.type;return H===Ei?B(T,I,U.props.children,k,U.key):I!==null&&(I.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===QA&&p1(H)===I.type)?(k=s(I,U.props),k.ref=Na(T,I,U),k.return=T,k):(k=dc(U.type,U.key,U.props,null,T.mode,k),k.ref=Na(T,I,U),k.return=T,k)}function w(T,I,U,k){return I===null||I.tag!==4||I.stateNode.containerInfo!==U.containerInfo||I.stateNode.implementation!==U.implementation?(I=Qd(U,T.mode,k),I.return=T,I):(I=s(I,U.children||[]),I.return=T,I)}function B(T,I,U,k,H){return I===null||I.tag!==7?(I=Ms(U,T.mode,k,H),I.return=T,I):(I=s(I,U),I.return=T,I)}function x(T,I,U){if(typeof I=="string"&&I!==""||typeof I=="number")return I=kd(""+I,T.mode,U),I.return=T,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case ul:return U=dc(I.type,I.key,I.props,null,T.mode,U),U.ref=Na(T,null,I),U.return=T,U;case bi:return I=Qd(I,T.mode,U),I.return=T,I;case QA:var k=I._init;return x(T,k(I._payload),U)}if(ja(I)||ba(I))return I=Ms(I,T.mode,U,null),I.return=T,I;Cl(T,I)}return null}function v(T,I,U,k){var H=I!==null?I.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return H!==null?null:f(T,I,""+U,k);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case ul:return U.key===H?g(T,I,U,k):null;case bi:return U.key===H?w(T,I,U,k):null;case QA:return H=U._init,v(T,I,H(U._payload),k)}if(ja(U)||ba(U))return H!==null?null:B(T,I,U,k,null);Cl(T,U)}return null}function E(T,I,U,k,H){if(typeof k=="string"&&k!==""||typeof k=="number")return T=T.get(U)||null,f(I,T,""+k,H);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case ul:return T=T.get(k.key===null?U:k.key)||null,g(I,T,k,H);case bi:return T=T.get(k.key===null?U:k.key)||null,w(I,T,k,H);case QA:var M=k._init;return E(T,I,U,M(k._payload),H)}if(ja(k)||ba(k))return T=T.get(U)||null,B(I,T,k,H,null);Cl(I,k)}return null}function b(T,I,U,k){for(var H=null,M=null,L=I,X=I=0,G=null;L!==null&&X<U.length;X++){L.index>X?(G=L,L=null):G=L.sibling;var ce=v(T,L,U[X],k);if(ce===null){L===null&&(L=G);break}e&&L&&ce.alternate===null&&t(T,L),I=a(ce,I,X),M===null?H=ce:M.sibling=ce,M=ce,L=G}if(X===U.length)return r(T,L),St&&Es(T,X),H;if(L===null){for(;X<U.length;X++)L=x(T,U[X],k),L!==null&&(I=a(L,I,X),M===null?H=L:M.sibling=L,M=L);return St&&Es(T,X),H}for(L=n(T,L);X<U.length;X++)G=E(L,T,X,U[X],k),G!==null&&(e&&G.alternate!==null&&L.delete(G.key===null?X:G.key),I=a(G,I,X),M===null?H=G:M.sibling=G,M=G);return e&&L.forEach(function(Ne){return t(T,Ne)}),St&&Es(T,X),H}function S(T,I,U,k){var H=ba(U);if(typeof H!="function")throw Error(ue(150));if(U=H.call(U),U==null)throw Error(ue(151));for(var M=H=null,L=I,X=I=0,G=null,ce=U.next();L!==null&&!ce.done;X++,ce=U.next()){L.index>X?(G=L,L=null):G=L.sibling;var Ne=v(T,L,ce.value,k);if(Ne===null){L===null&&(L=G);break}e&&L&&Ne.alternate===null&&t(T,L),I=a(Ne,I,X),M===null?H=Ne:M.sibling=Ne,M=Ne,L=G}if(ce.done)return r(T,L),St&&Es(T,X),H;if(L===null){for(;!ce.done;X++,ce=U.next())ce=x(T,ce.value,k),ce!==null&&(I=a(ce,I,X),M===null?H=ce:M.sibling=ce,M=ce);return St&&Es(T,X),H}for(L=n(T,L);!ce.done;X++,ce=U.next())ce=E(L,T,X,ce.value,k),ce!==null&&(e&&ce.alternate!==null&&L.delete(ce.key===null?X:ce.key),I=a(ce,I,X),M===null?H=ce:M.sibling=ce,M=ce);return e&&L.forEach(function(fe){return t(T,fe)}),St&&Es(T,X),H}function R(T,I,U,k){if(typeof U=="object"&&U!==null&&U.type===Ei&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case ul:e:{for(var H=U.key,M=I;M!==null;){if(M.key===H){if(H=U.type,H===Ei){if(M.tag===7){r(T,M.sibling),I=s(M,U.props.children),I.return=T,T=I;break e}}else if(M.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===QA&&p1(H)===M.type){r(T,M.sibling),I=s(M,U.props),I.ref=Na(T,M,U),I.return=T,T=I;break e}r(T,M);break}else t(T,M);M=M.sibling}U.type===Ei?(I=Ms(U.props.children,T.mode,k,U.key),I.return=T,T=I):(k=dc(U.type,U.key,U.props,null,T.mode,k),k.ref=Na(T,I,U),k.return=T,T=k)}return c(T);case bi:e:{for(M=U.key;I!==null;){if(I.key===M)if(I.tag===4&&I.stateNode.containerInfo===U.containerInfo&&I.stateNode.implementation===U.implementation){r(T,I.sibling),I=s(I,U.children||[]),I.return=T,T=I;break e}else{r(T,I);break}else t(T,I);I=I.sibling}I=Qd(U,T.mode,k),I.return=T,T=I}return c(T);case QA:return M=U._init,R(T,I,M(U._payload),k)}if(ja(U))return b(T,I,U,k);if(ba(U))return S(T,I,U,k);Cl(T,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,I!==null&&I.tag===6?(r(T,I.sibling),I=s(I,U),I.return=T,T=I):(r(T,I),I=kd(U,T.mode,k),I.return=T,T=I),c(T)):r(T,I)}return R}var qi=Ax(!0),sx=Ax(!1),Uc=ds(null),_c=null,ki=null,v0=null;function b0(){v0=ki=_c=null}function E0(e){var t=Uc.current;vt(Uc),e._currentValue=t}function Gh(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ki(e,t){_c=e,v0=ki=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Pr=!0),e.firstContext=null)}function vn(e){var t=e._currentValue;if(v0!==e)if(e={context:e,memoizedValue:t,next:null},ki===null){if(_c===null)throw Error(ue(308));ki=e,_c.dependencies={lanes:0,firstContext:e}}else ki=ki.next=e;return t}var ks=null;function S0(e){ks===null?ks=[e]:ks.push(e)}function ix(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,S0(t)):(r.next=s.next,s.next=r),t.interleaved=r,pA(e,n)}function pA(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var OA=!1;function I0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ax(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function dA(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $A(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,$e&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,pA(e,r)}return s=n.interleaved,s===null?(t.next=t,S0(n)):(t.next=s.next,s.next=t),n.interleaved=t,pA(e,r)}function ic(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,d0(e,r)}}function w1(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var c={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=c:a=a.next=c,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function kc(e,t,r,n){var s=e.updateQueue;OA=!1;var a=s.firstBaseUpdate,c=s.lastBaseUpdate,f=s.shared.pending;if(f!==null){s.shared.pending=null;var g=f,w=g.next;g.next=null,c===null?a=w:c.next=w,c=g;var B=e.alternate;B!==null&&(B=B.updateQueue,f=B.lastBaseUpdate,f!==c&&(f===null?B.firstBaseUpdate=w:f.next=w,B.lastBaseUpdate=g))}if(a!==null){var x=s.baseState;c=0,B=w=g=null,f=a;do{var v=f.lane,E=f.eventTime;if((n&v)===v){B!==null&&(B=B.next={eventTime:E,lane:0,tag:f.tag,payload:f.payload,callback:f.callback,next:null});e:{var b=e,S=f;switch(v=t,E=r,S.tag){case 1:if(b=S.payload,typeof b=="function"){x=b.call(E,x,v);break e}x=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=S.payload,v=typeof b=="function"?b.call(E,x,v):b,v==null)break e;x=_t({},x,v);break e;case 2:OA=!0}}f.callback!==null&&f.lane!==0&&(e.flags|=64,v=s.effects,v===null?s.effects=[f]:v.push(f))}else E={eventTime:E,lane:v,tag:f.tag,payload:f.payload,callback:f.callback,next:null},B===null?(w=B=E,g=x):B=B.next=E,c|=v;if(f=f.next,f===null){if(f=s.shared.pending,f===null)break;v=f,f=v.next,v.next=null,s.lastBaseUpdate=v,s.shared.pending=null}}while(!0);if(B===null&&(g=x),s.baseState=g,s.firstBaseUpdate=w,s.lastBaseUpdate=B,t=s.shared.interleaved,t!==null){s=t;do c|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Vs|=c,e.lanes=c,e.memoizedState=x}}function m1(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(ue(191,s));s.call(n)}}}var Xo={},tA=ds(Xo),Fo=ds(Xo),No=ds(Xo);function Qs(e){if(e===Xo)throw Error(ue(174));return e}function F0(e,t){switch(wt(No,t),wt(Fo,e),wt(tA,Xo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Eh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Eh(t,e)}vt(tA),wt(tA,t)}function $i(){vt(tA),vt(Fo),vt(No)}function ox(e){Qs(No.current);var t=Qs(tA.current),r=Eh(t,e.type);t!==r&&(wt(Fo,e),wt(tA,r))}function N0(e){Fo.current===e&&(vt(tA),vt(Fo))}var Tt=ds(0);function Qc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Id=[];function T0(){for(var e=0;e<Id.length;e++)Id[e]._workInProgressVersionPrimary=null;Id.length=0}var ac=BA.ReactCurrentDispatcher,Fd=BA.ReactCurrentBatchConfig,Ks=0,Ut=null,er=null,ir=null,Oc=!1,Ao=!1,To=0,Xv=0;function yr(){throw Error(ue(321))}function U0(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ln(e[r],t[r]))return!1;return!0}function _0(e,t,r,n,s,a){if(Ks=a,Ut=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ac.current=e===null||e.memoizedState===null?$v:eb,e=r(n,s),Ao){a=0;do{if(Ao=!1,To=0,25<=a)throw Error(ue(301));a+=1,ir=er=null,t.updateQueue=null,ac.current=tb,e=r(n,s)}while(Ao)}if(ac.current=Dc,t=er!==null&&er.next!==null,Ks=0,ir=er=Ut=null,Oc=!1,t)throw Error(ue(300));return e}function k0(){var e=To!==0;return To=0,e}function Xn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ir===null?Ut.memoizedState=ir=e:ir=ir.next=e,ir}function bn(){if(er===null){var e=Ut.alternate;e=e!==null?e.memoizedState:null}else e=er.next;var t=ir===null?Ut.memoizedState:ir.next;if(t!==null)ir=t,er=e;else{if(e===null)throw Error(ue(310));er=e,e={memoizedState:er.memoizedState,baseState:er.baseState,baseQueue:er.baseQueue,queue:er.queue,next:null},ir===null?Ut.memoizedState=ir=e:ir=ir.next=e}return ir}function Uo(e,t){return typeof t=="function"?t(e):t}function Nd(e){var t=bn(),r=t.queue;if(r===null)throw Error(ue(311));r.lastRenderedReducer=e;var n=er,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var c=s.next;s.next=a.next,a.next=c}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var f=c=null,g=null,w=a;do{var B=w.lane;if((Ks&B)===B)g!==null&&(g=g.next={lane:0,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),n=w.hasEagerState?w.eagerState:e(n,w.action);else{var x={lane:B,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null};g===null?(f=g=x,c=n):g=g.next=x,Ut.lanes|=B,Vs|=B}w=w.next}while(w!==null&&w!==a);g===null?c=n:g.next=f,Ln(n,t.memoizedState)||(Pr=!0),t.memoizedState=n,t.baseState=c,t.baseQueue=g,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,Ut.lanes|=a,Vs|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Td(e){var t=bn(),r=t.queue;if(r===null)throw Error(ue(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var c=s=s.next;do a=e(a,c.action),c=c.next;while(c!==s);Ln(a,t.memoizedState)||(Pr=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function lx(){}function cx(e,t){var r=Ut,n=bn(),s=t(),a=!Ln(n.memoizedState,s);if(a&&(n.memoizedState=s,Pr=!0),n=n.queue,Q0(hx.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||ir!==null&&ir.memoizedState.tag&1){if(r.flags|=2048,_o(9,dx.bind(null,r,n,s,t),void 0,null),ar===null)throw Error(ue(349));Ks&30||ux(r,t,s)}return s}function ux(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ut.updateQueue,t===null?(t={lastEffect:null,stores:null},Ut.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function dx(e,t,r,n){t.value=r,t.getSnapshot=n,fx(t)&&gx(e)}function hx(e,t,r){return r(function(){fx(t)&&gx(e)})}function fx(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ln(e,r)}catch{return!0}}function gx(e){var t=pA(e,1);t!==null&&Rn(t,e,1,-1)}function x1(e){var t=Xn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uo,lastRenderedState:e},t.queue=e,e=e.dispatch=qv.bind(null,Ut,e),[t.memoizedState,e]}function _o(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ut.updateQueue,t===null?(t={lastEffect:null,stores:null},Ut.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function px(){return bn().memoizedState}function oc(e,t,r,n){var s=Xn();Ut.flags|=e,s.memoizedState=_o(1|t,r,void 0,n===void 0?null:n)}function gu(e,t,r,n){var s=bn();n=n===void 0?null:n;var a=void 0;if(er!==null){var c=er.memoizedState;if(a=c.destroy,n!==null&&U0(n,c.deps)){s.memoizedState=_o(t,r,a,n);return}}Ut.flags|=e,s.memoizedState=_o(1|t,r,a,n)}function B1(e,t){return oc(8390656,8,e,t)}function Q0(e,t){return gu(2048,8,e,t)}function wx(e,t){return gu(4,2,e,t)}function mx(e,t){return gu(4,4,e,t)}function xx(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Bx(e,t,r){return r=r!=null?r.concat([e]):null,gu(4,4,xx.bind(null,t,e),r)}function O0(){}function yx(e,t){var r=bn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&U0(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Cx(e,t){var r=bn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&U0(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function vx(e,t,r){return Ks&21?(Ln(r,t)||(r=Fm(),Ut.lanes|=r,Vs|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Pr=!0),e.memoizedState=r)}function Jv(e,t){var r=ot;ot=r!==0&&4>r?r:4,e(!0);var n=Fd.transition;Fd.transition={};try{e(!1),t()}finally{ot=r,Fd.transition=n}}function bx(){return bn().memoizedState}function Zv(e,t,r){var n=ts(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Ex(e))Sx(t,r);else if(r=ix(e,t,r,n),r!==null){var s=Ur();Rn(r,e,n,s),Ix(r,t,n)}}function qv(e,t,r){var n=ts(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ex(e))Sx(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var c=t.lastRenderedState,f=a(c,r);if(s.hasEagerState=!0,s.eagerState=f,Ln(f,c)){var g=t.interleaved;g===null?(s.next=s,S0(t)):(s.next=g.next,g.next=s),t.interleaved=s;return}}catch{}finally{}r=ix(e,t,s,n),r!==null&&(s=Ur(),Rn(r,e,n,s),Ix(r,t,n))}}function Ex(e){var t=e.alternate;return e===Ut||t!==null&&t===Ut}function Sx(e,t){Ao=Oc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Ix(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,d0(e,r)}}var Dc={readContext:vn,useCallback:yr,useContext:yr,useEffect:yr,useImperativeHandle:yr,useInsertionEffect:yr,useLayoutEffect:yr,useMemo:yr,useReducer:yr,useRef:yr,useState:yr,useDebugValue:yr,useDeferredValue:yr,useTransition:yr,useMutableSource:yr,useSyncExternalStore:yr,useId:yr,unstable_isNewReconciler:!1},$v={readContext:vn,useCallback:function(e,t){return Xn().memoizedState=[e,t===void 0?null:t],e},useContext:vn,useEffect:B1,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,oc(4194308,4,xx.bind(null,t,e),r)},useLayoutEffect:function(e,t){return oc(4194308,4,e,t)},useInsertionEffect:function(e,t){return oc(4,2,e,t)},useMemo:function(e,t){var r=Xn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Xn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Zv.bind(null,Ut,e),[n.memoizedState,e]},useRef:function(e){var t=Xn();return e={current:e},t.memoizedState=e},useState:x1,useDebugValue:O0,useDeferredValue:function(e){return Xn().memoizedState=e},useTransition:function(){var e=x1(!1),t=e[0];return e=Jv.bind(null,e[1]),Xn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ut,s=Xn();if(St){if(r===void 0)throw Error(ue(407));r=r()}else{if(r=t(),ar===null)throw Error(ue(349));Ks&30||ux(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,B1(hx.bind(null,n,a,e),[e]),n.flags|=2048,_o(9,dx.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Xn(),t=ar.identifierPrefix;if(St){var r=cA,n=lA;r=(n&~(1<<32-Dn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=To++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Xv++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},eb={readContext:vn,useCallback:yx,useContext:vn,useEffect:Q0,useImperativeHandle:Bx,useInsertionEffect:wx,useLayoutEffect:mx,useMemo:Cx,useReducer:Nd,useRef:px,useState:function(){return Nd(Uo)},useDebugValue:O0,useDeferredValue:function(e){var t=bn();return vx(t,er.memoizedState,e)},useTransition:function(){var e=Nd(Uo)[0],t=bn().memoizedState;return[e,t]},useMutableSource:lx,useSyncExternalStore:cx,useId:bx,unstable_isNewReconciler:!1},tb={readContext:vn,useCallback:yx,useContext:vn,useEffect:Q0,useImperativeHandle:Bx,useInsertionEffect:wx,useLayoutEffect:mx,useMemo:Cx,useReducer:Td,useRef:px,useState:function(){return Td(Uo)},useDebugValue:O0,useDeferredValue:function(e){var t=bn();return er===null?t.memoizedState=e:vx(t,er.memoizedState,e)},useTransition:function(){var e=Td(Uo)[0],t=bn().memoizedState;return[e,t]},useMutableSource:lx,useSyncExternalStore:cx,useId:bx,unstable_isNewReconciler:!1};function Tn(e,t){if(e&&e.defaultProps){t=_t({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function zh(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:_t({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var pu={isMounted:function(e){return(e=e._reactInternals)?Ws(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ur(),s=ts(e),a=dA(n,s);a.payload=t,r!=null&&(a.callback=r),t=$A(e,a,s),t!==null&&(Rn(t,e,s,n),ic(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ur(),s=ts(e),a=dA(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=$A(e,a,s),t!==null&&(Rn(t,e,s,n),ic(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ur(),n=ts(e),s=dA(r,n);s.tag=2,t!=null&&(s.callback=t),t=$A(e,s,n),t!==null&&(Rn(t,e,n,r),ic(t,e,n))}};function y1(e,t,r,n,s,a,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,c):t.prototype&&t.prototype.isPureReactComponent?!bo(r,n)||!bo(s,a):!0}function Fx(e,t,r){var n=!1,s=os,a=t.contextType;return typeof a=="object"&&a!==null?a=vn(a):(s=Vr(t)?Hs:Sr.current,n=t.contextTypes,a=(n=n!=null)?Ji(e,s):os),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=pu,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function C1(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&pu.enqueueReplaceState(t,t.state,null)}function Wh(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},I0(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=vn(a):(a=Vr(t)?Hs:Sr.current,s.context=Ji(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(zh(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&pu.enqueueReplaceState(s,s.state,null),kc(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ea(e,t){try{var r="",n=t;do r+=N2(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function Ud(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Yh(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var rb=typeof WeakMap=="function"?WeakMap:Map;function Nx(e,t,r){r=dA(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Mc||(Mc=!0,Af=n),Yh(e,t)},r}function Tx(e,t,r){r=dA(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Yh(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Yh(e,t),typeof n!="function"&&(es===null?es=new Set([this]):es.add(this));var c=t.stack;this.componentDidCatch(t.value,{componentStack:c!==null?c:""})}),r}function v1(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new rb;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=pb.bind(null,e,t,r),t.then(e,e))}function b1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function E1(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=dA(-1,1),t.tag=2,$A(r,t,1))),r.lanes|=1),e)}var nb=BA.ReactCurrentOwner,Pr=!1;function Tr(e,t,r,n){t.child=e===null?sx(t,null,r,n):qi(t,e.child,r,n)}function S1(e,t,r,n,s){r=r.render;var a=t.ref;return Ki(t,s),n=_0(e,t,r,n,a,s),r=k0(),e!==null&&!Pr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,wA(e,t,s)):(St&&r&&B0(t),t.flags|=1,Tr(e,t,n,s),t.child)}function I1(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!K0(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,Ux(e,t,a,n,s)):(e=dc(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var c=a.memoizedProps;if(r=r.compare,r=r!==null?r:bo,r(c,n)&&e.ref===t.ref)return wA(e,t,s)}return t.flags|=1,e=rs(a,n),e.ref=t.ref,e.return=t,t.child=e}function Ux(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(bo(a,n)&&e.ref===t.ref)if(Pr=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(Pr=!0);else return t.lanes=e.lanes,wA(e,t,s)}return Xh(e,t,r,n,s)}function _x(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},wt(Oi,$r),$r|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,wt(Oi,$r),$r|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,wt(Oi,$r),$r|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,wt(Oi,$r),$r|=n;return Tr(e,t,s,r),t.child}function kx(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Xh(e,t,r,n,s){var a=Vr(r)?Hs:Sr.current;return a=Ji(t,a),Ki(t,s),r=_0(e,t,r,n,a,s),n=k0(),e!==null&&!Pr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,wA(e,t,s)):(St&&n&&B0(t),t.flags|=1,Tr(e,t,r,s),t.child)}function F1(e,t,r,n,s){if(Vr(r)){var a=!0;Fc(t)}else a=!1;if(Ki(t,s),t.stateNode===null)lc(e,t),Fx(t,r,n),Wh(t,r,n,s),n=!0;else if(e===null){var c=t.stateNode,f=t.memoizedProps;c.props=f;var g=c.context,w=r.contextType;typeof w=="object"&&w!==null?w=vn(w):(w=Vr(r)?Hs:Sr.current,w=Ji(t,w));var B=r.getDerivedStateFromProps,x=typeof B=="function"||typeof c.getSnapshotBeforeUpdate=="function";x||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(f!==n||g!==w)&&C1(t,c,n,w),OA=!1;var v=t.memoizedState;c.state=v,kc(t,n,c,s),g=t.memoizedState,f!==n||v!==g||Kr.current||OA?(typeof B=="function"&&(zh(t,r,B,n),g=t.memoizedState),(f=OA||y1(t,r,f,n,v,g,w))?(x||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=g),c.props=n,c.state=g,c.context=w,n=f):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{c=t.stateNode,ax(e,t),f=t.memoizedProps,w=t.type===t.elementType?f:Tn(t.type,f),c.props=w,x=t.pendingProps,v=c.context,g=r.contextType,typeof g=="object"&&g!==null?g=vn(g):(g=Vr(r)?Hs:Sr.current,g=Ji(t,g));var E=r.getDerivedStateFromProps;(B=typeof E=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(f!==x||v!==g)&&C1(t,c,n,g),OA=!1,v=t.memoizedState,c.state=v,kc(t,n,c,s);var b=t.memoizedState;f!==x||v!==b||Kr.current||OA?(typeof E=="function"&&(zh(t,r,E,n),b=t.memoizedState),(w=OA||y1(t,r,w,n,v,b,g)||!1)?(B||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(n,b,g),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(n,b,g)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||f===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),c.props=n,c.state=b,c.context=g,n=w):(typeof c.componentDidUpdate!="function"||f===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),n=!1)}return Jh(e,t,r,n,a,s)}function Jh(e,t,r,n,s,a){kx(e,t);var c=(t.flags&128)!==0;if(!n&&!c)return s&&h1(t,r,!1),wA(e,t,a);n=t.stateNode,nb.current=t;var f=c&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&c?(t.child=qi(t,e.child,null,a),t.child=qi(t,null,f,a)):Tr(e,t,f,a),t.memoizedState=n.state,s&&h1(t,r,!0),t.child}function Qx(e){var t=e.stateNode;t.pendingContext?d1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&d1(e,t.context,!1),F0(e,t.containerInfo)}function N1(e,t,r,n,s){return Zi(),C0(s),t.flags|=256,Tr(e,t,r,n),t.child}var Zh={dehydrated:null,treeContext:null,retryLane:0};function qh(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ox(e,t,r){var n=t.pendingProps,s=Tt.current,a=!1,c=(t.flags&128)!==0,f;if((f=c)||(f=e!==null&&e.memoizedState===null?!1:(s&2)!==0),f?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),wt(Tt,s&1),e===null)return Vh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(c=n.children,e=n.fallback,a?(n=t.mode,a=t.child,c={mode:"hidden",children:c},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=c):a=xu(c,n,0,null),e=Ms(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=qh(r),t.memoizedState=Zh,e):D0(t,c));if(s=e.memoizedState,s!==null&&(f=s.dehydrated,f!==null))return Ab(e,t,c,n,f,s,r);if(a){a=n.fallback,c=t.mode,s=e.child,f=s.sibling;var g={mode:"hidden",children:n.children};return!(c&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=g,t.deletions=null):(n=rs(s,g),n.subtreeFlags=s.subtreeFlags&14680064),f!==null?a=rs(f,a):(a=Ms(a,c,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,c=e.child.memoizedState,c=c===null?qh(r):{baseLanes:c.baseLanes|r,cachePool:null,transitions:c.transitions},a.memoizedState=c,a.childLanes=e.childLanes&~r,t.memoizedState=Zh,n}return a=e.child,e=a.sibling,n=rs(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function D0(e,t){return t=xu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function vl(e,t,r,n){return n!==null&&C0(n),qi(t,e.child,null,r),e=D0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ab(e,t,r,n,s,a,c){if(r)return t.flags&256?(t.flags&=-257,n=Ud(Error(ue(422))),vl(e,t,c,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=xu({mode:"visible",children:n.children},s,0,null),a=Ms(a,s,c,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&qi(t,e.child,null,c),t.child.memoizedState=qh(c),t.memoizedState=Zh,a);if(!(t.mode&1))return vl(e,t,c,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var f=n.dgst;return n=f,a=Error(ue(419)),n=Ud(a,n,void 0),vl(e,t,c,n)}if(f=(c&e.childLanes)!==0,Pr||f){if(n=ar,n!==null){switch(c&-c){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|c)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,pA(e,s),Rn(n,e,s,-1))}return P0(),n=Ud(Error(ue(421))),vl(e,t,c,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=wb.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,nn=qA(s.nextSibling),An=t,St=!0,On=null,e!==null&&(pn[wn++]=lA,pn[wn++]=cA,pn[wn++]=Ps,lA=e.id,cA=e.overflow,Ps=t),t=D0(t,n.children),t.flags|=4096,t)}function T1(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Gh(e.return,t,r)}function _d(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function Dx(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(Tr(e,t,n.children,r),n=Tt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&T1(e,r,t);else if(e.tag===19)T1(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(wt(Tt,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Qc(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),_d(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Qc(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}_d(t,!0,r,null,a);break;case"together":_d(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function lc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function wA(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Vs|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ue(153));if(t.child!==null){for(e=t.child,r=rs(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=rs(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function sb(e,t,r){switch(t.tag){case 3:Qx(t),Zi();break;case 5:ox(t);break;case 1:Vr(t.type)&&Fc(t);break;case 4:F0(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;wt(Uc,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(wt(Tt,Tt.current&1),t.flags|=128,null):r&t.child.childLanes?Ox(e,t,r):(wt(Tt,Tt.current&1),e=wA(e,t,r),e!==null?e.sibling:null);wt(Tt,Tt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Dx(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),wt(Tt,Tt.current),n)break;return null;case 22:case 23:return t.lanes=0,_x(e,t,r)}return wA(e,t,r)}var Rx,$h,Mx,Lx;Rx=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};$h=function(){};Mx=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Qs(tA.current);var a=null;switch(r){case"input":s=yh(e,s),n=yh(e,n),a=[];break;case"select":s=_t({},s,{value:void 0}),n=_t({},n,{value:void 0}),a=[];break;case"textarea":s=bh(e,s),n=bh(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Sc)}Sh(r,n);var c;r=null;for(w in s)if(!n.hasOwnProperty(w)&&s.hasOwnProperty(w)&&s[w]!=null)if(w==="style"){var f=s[w];for(c in f)f.hasOwnProperty(c)&&(r||(r={}),r[c]="")}else w!=="dangerouslySetInnerHTML"&&w!=="children"&&w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(wo.hasOwnProperty(w)?a||(a=[]):(a=a||[]).push(w,null));for(w in n){var g=n[w];if(f=s!=null?s[w]:void 0,n.hasOwnProperty(w)&&g!==f&&(g!=null||f!=null))if(w==="style")if(f){for(c in f)!f.hasOwnProperty(c)||g&&g.hasOwnProperty(c)||(r||(r={}),r[c]="");for(c in g)g.hasOwnProperty(c)&&f[c]!==g[c]&&(r||(r={}),r[c]=g[c])}else r||(a||(a=[]),a.push(w,r)),r=g;else w==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,f=f?f.__html:void 0,g!=null&&f!==g&&(a=a||[]).push(w,g)):w==="children"?typeof g!="string"&&typeof g!="number"||(a=a||[]).push(w,""+g):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&(wo.hasOwnProperty(w)?(g!=null&&w==="onScroll"&&yt("scroll",e),a||f===g||(a=[])):(a=a||[]).push(w,g))}r&&(a=a||[]).push("style",r);var w=a;(t.updateQueue=w)&&(t.flags|=4)}};Lx=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ta(e,t){if(!St)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Cr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function ib(e,t,r){var n=t.pendingProps;switch(y0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cr(t),null;case 1:return Vr(t.type)&&Ic(),Cr(t),null;case 3:return n=t.stateNode,$i(),vt(Kr),vt(Sr),T0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(yl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,On!==null&&(of(On),On=null))),$h(e,t),Cr(t),null;case 5:N0(t);var s=Qs(No.current);if(r=t.type,e!==null&&t.stateNode!=null)Mx(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ue(166));return Cr(t),null}if(e=Qs(tA.current),yl(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Zn]=t,n[Io]=a,e=(t.mode&1)!==0,r){case"dialog":yt("cancel",n),yt("close",n);break;case"iframe":case"object":case"embed":yt("load",n);break;case"video":case"audio":for(s=0;s<Pa.length;s++)yt(Pa[s],n);break;case"source":yt("error",n);break;case"img":case"image":case"link":yt("error",n),yt("load",n);break;case"details":yt("toggle",n);break;case"input":Lg(n,a),yt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},yt("invalid",n);break;case"textarea":Hg(n,a),yt("invalid",n)}Sh(r,a),s=null;for(var c in a)if(a.hasOwnProperty(c)){var f=a[c];c==="children"?typeof f=="string"?n.textContent!==f&&(a.suppressHydrationWarning!==!0&&Bl(n.textContent,f,e),s=["children",f]):typeof f=="number"&&n.textContent!==""+f&&(a.suppressHydrationWarning!==!0&&Bl(n.textContent,f,e),s=["children",""+f]):wo.hasOwnProperty(c)&&f!=null&&c==="onScroll"&&yt("scroll",n)}switch(r){case"input":dl(n),jg(n,a,!0);break;case"textarea":dl(n),Pg(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Sc)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{c=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=hm(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=c.createElement(r,{is:n.is}):(e=c.createElement(r),r==="select"&&(c=e,n.multiple?c.multiple=!0:n.size&&(c.size=n.size))):e=c.createElementNS(e,r),e[Zn]=t,e[Io]=n,Rx(e,t,!1,!1),t.stateNode=e;e:{switch(c=Ih(r,n),r){case"dialog":yt("cancel",e),yt("close",e),s=n;break;case"iframe":case"object":case"embed":yt("load",e),s=n;break;case"video":case"audio":for(s=0;s<Pa.length;s++)yt(Pa[s],e);s=n;break;case"source":yt("error",e),s=n;break;case"img":case"image":case"link":yt("error",e),yt("load",e),s=n;break;case"details":yt("toggle",e),s=n;break;case"input":Lg(e,n),s=yh(e,n),yt("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=_t({},n,{value:void 0}),yt("invalid",e);break;case"textarea":Hg(e,n),s=bh(e,n),yt("invalid",e);break;default:s=n}Sh(r,s),f=s;for(a in f)if(f.hasOwnProperty(a)){var g=f[a];a==="style"?pm(e,g):a==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,g!=null&&fm(e,g)):a==="children"?typeof g=="string"?(r!=="textarea"||g!=="")&&mo(e,g):typeof g=="number"&&mo(e,""+g):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(wo.hasOwnProperty(a)?g!=null&&a==="onScroll"&&yt("scroll",e):g!=null&&i0(e,a,g,c))}switch(r){case"input":dl(e),jg(e,n,!1);break;case"textarea":dl(e),Pg(e);break;case"option":n.value!=null&&e.setAttribute("value",""+as(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Li(e,!!n.multiple,a,!1):n.defaultValue!=null&&Li(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Sc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Cr(t),null;case 6:if(e&&t.stateNode!=null)Lx(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ue(166));if(r=Qs(No.current),Qs(tA.current),yl(t)){if(n=t.stateNode,r=t.memoizedProps,n[Zn]=t,(a=n.nodeValue!==r)&&(e=An,e!==null))switch(e.tag){case 3:Bl(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Bl(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Zn]=t,t.stateNode=n}return Cr(t),null;case 13:if(vt(Tt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(St&&nn!==null&&t.mode&1&&!(t.flags&128))nx(),Zi(),t.flags|=98560,a=!1;else if(a=yl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(ue(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ue(317));a[Zn]=t}else Zi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Cr(t),a=!1}else On!==null&&(of(On),On=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Tt.current&1?rr===0&&(rr=3):P0())),t.updateQueue!==null&&(t.flags|=4),Cr(t),null);case 4:return $i(),$h(e,t),e===null&&Eo(t.stateNode.containerInfo),Cr(t),null;case 10:return E0(t.type._context),Cr(t),null;case 17:return Vr(t.type)&&Ic(),Cr(t),null;case 19:if(vt(Tt),a=t.memoizedState,a===null)return Cr(t),null;if(n=(t.flags&128)!==0,c=a.rendering,c===null)if(n)Ta(a,!1);else{if(rr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(c=Qc(e),c!==null){for(t.flags|=128,Ta(a,!1),n=c.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,c=a.alternate,c===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,e=c.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return wt(Tt,Tt.current&1|2),t.child}e=e.sibling}a.tail!==null&&Gt()>ta&&(t.flags|=128,n=!0,Ta(a,!1),t.lanes=4194304)}else{if(!n)if(e=Qc(c),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ta(a,!0),a.tail===null&&a.tailMode==="hidden"&&!c.alternate&&!St)return Cr(t),null}else 2*Gt()-a.renderingStartTime>ta&&r!==1073741824&&(t.flags|=128,n=!0,Ta(a,!1),t.lanes=4194304);a.isBackwards?(c.sibling=t.child,t.child=c):(r=a.last,r!==null?r.sibling=c:t.child=c,a.last=c)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Gt(),t.sibling=null,r=Tt.current,wt(Tt,n?r&1|2:r&1),t):(Cr(t),null);case 22:case 23:return H0(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?$r&1073741824&&(Cr(t),t.subtreeFlags&6&&(t.flags|=8192)):Cr(t),null;case 24:return null;case 25:return null}throw Error(ue(156,t.tag))}function ab(e,t){switch(y0(t),t.tag){case 1:return Vr(t.type)&&Ic(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $i(),vt(Kr),vt(Sr),T0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return N0(t),null;case 13:if(vt(Tt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ue(340));Zi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return vt(Tt),null;case 4:return $i(),null;case 10:return E0(t.type._context),null;case 22:case 23:return H0(),null;case 24:return null;default:return null}}var bl=!1,Er=!1,ob=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function Qi(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Lt(e,t,n)}else r.current=null}function ef(e,t,r){try{r()}catch(n){Lt(e,t,n)}}var U1=!1;function lb(e,t){if(Rh=vc,e=Vm(),x0(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var c=0,f=-1,g=-1,w=0,B=0,x=e,v=null;t:for(;;){for(var E;x!==r||s!==0&&x.nodeType!==3||(f=c+s),x!==a||n!==0&&x.nodeType!==3||(g=c+n),x.nodeType===3&&(c+=x.nodeValue.length),(E=x.firstChild)!==null;)v=x,x=E;for(;;){if(x===e)break t;if(v===r&&++w===s&&(f=c),v===a&&++B===n&&(g=c),(E=x.nextSibling)!==null)break;x=v,v=x.parentNode}x=E}r=f===-1||g===-1?null:{start:f,end:g}}else r=null}r=r||{start:0,end:0}}else r=null;for(Mh={focusedElem:e,selectionRange:r},vc=!1,Fe=t;Fe!==null;)if(t=Fe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Fe=e;else for(;Fe!==null;){t=Fe;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var S=b.memoizedProps,R=b.memoizedState,T=t.stateNode,I=T.getSnapshotBeforeUpdate(t.elementType===t.type?S:Tn(t.type,S),R);T.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var U=t.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ue(163))}}catch(k){Lt(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,Fe=e;break}Fe=t.return}return b=U1,U1=!1,b}function so(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&ef(t,r,a)}s=s.next}while(s!==n)}}function wu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function tf(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function jx(e){var t=e.alternate;t!==null&&(e.alternate=null,jx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Zn],delete t[Io],delete t[Hh],delete t[Gv],delete t[zv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Hx(e){return e.tag===5||e.tag===3||e.tag===4}function _1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Hx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function rf(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Sc));else if(n!==4&&(e=e.child,e!==null))for(rf(e,t,r),e=e.sibling;e!==null;)rf(e,t,r),e=e.sibling}function nf(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(nf(e,t,r),e=e.sibling;e!==null;)nf(e,t,r),e=e.sibling}var hr=null,_n=!1;function NA(e,t,r){for(r=r.child;r!==null;)Px(e,t,r),r=r.sibling}function Px(e,t,r){if(eA&&typeof eA.onCommitFiberUnmount=="function")try{eA.onCommitFiberUnmount(lu,r)}catch{}switch(r.tag){case 5:Er||Qi(r,t);case 6:var n=hr,s=_n;hr=null,NA(e,t,r),hr=n,_n=s,hr!==null&&(_n?(e=hr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):hr.removeChild(r.stateNode));break;case 18:hr!==null&&(_n?(e=hr,r=r.stateNode,e.nodeType===8?Ed(e.parentNode,r):e.nodeType===1&&Ed(e,r),Co(e)):Ed(hr,r.stateNode));break;case 4:n=hr,s=_n,hr=r.stateNode.containerInfo,_n=!0,NA(e,t,r),hr=n,_n=s;break;case 0:case 11:case 14:case 15:if(!Er&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,c=a.destroy;a=a.tag,c!==void 0&&(a&2||a&4)&&ef(r,t,c),s=s.next}while(s!==n)}NA(e,t,r);break;case 1:if(!Er&&(Qi(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(f){Lt(r,t,f)}NA(e,t,r);break;case 21:NA(e,t,r);break;case 22:r.mode&1?(Er=(n=Er)||r.memoizedState!==null,NA(e,t,r),Er=n):NA(e,t,r);break;default:NA(e,t,r)}}function k1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new ob),t.forEach(function(n){var s=mb.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function In(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,c=t,f=c;e:for(;f!==null;){switch(f.tag){case 5:hr=f.stateNode,_n=!1;break e;case 3:hr=f.stateNode.containerInfo,_n=!0;break e;case 4:hr=f.stateNode.containerInfo,_n=!0;break e}f=f.return}if(hr===null)throw Error(ue(160));Px(a,c,s),hr=null,_n=!1;var g=s.alternate;g!==null&&(g.return=null),s.return=null}catch(w){Lt(s,t,w)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Kx(t,e),t=t.sibling}function Kx(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(In(t,e),Wn(e),n&4){try{so(3,e,e.return),wu(3,e)}catch(S){Lt(e,e.return,S)}try{so(5,e,e.return)}catch(S){Lt(e,e.return,S)}}break;case 1:In(t,e),Wn(e),n&512&&r!==null&&Qi(r,r.return);break;case 5:if(In(t,e),Wn(e),n&512&&r!==null&&Qi(r,r.return),e.flags&32){var s=e.stateNode;try{mo(s,"")}catch(S){Lt(e,e.return,S)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,c=r!==null?r.memoizedProps:a,f=e.type,g=e.updateQueue;if(e.updateQueue=null,g!==null)try{f==="input"&&a.type==="radio"&&a.name!=null&&um(s,a),Ih(f,c);var w=Ih(f,a);for(c=0;c<g.length;c+=2){var B=g[c],x=g[c+1];B==="style"?pm(s,x):B==="dangerouslySetInnerHTML"?fm(s,x):B==="children"?mo(s,x):i0(s,B,x,w)}switch(f){case"input":Ch(s,a);break;case"textarea":dm(s,a);break;case"select":var v=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var E=a.value;E!=null?Li(s,!!a.multiple,E,!1):v!==!!a.multiple&&(a.defaultValue!=null?Li(s,!!a.multiple,a.defaultValue,!0):Li(s,!!a.multiple,a.multiple?[]:"",!1))}s[Io]=a}catch(S){Lt(e,e.return,S)}}break;case 6:if(In(t,e),Wn(e),n&4){if(e.stateNode===null)throw Error(ue(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(S){Lt(e,e.return,S)}}break;case 3:if(In(t,e),Wn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Co(t.containerInfo)}catch(S){Lt(e,e.return,S)}break;case 4:In(t,e),Wn(e);break;case 13:In(t,e),Wn(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(L0=Gt())),n&4&&k1(e);break;case 22:if(B=r!==null&&r.memoizedState!==null,e.mode&1?(Er=(w=Er)||B,In(t,e),Er=w):In(t,e),Wn(e),n&8192){if(w=e.memoizedState!==null,(e.stateNode.isHidden=w)&&!B&&e.mode&1)for(Fe=e,B=e.child;B!==null;){for(x=Fe=B;Fe!==null;){switch(v=Fe,E=v.child,v.tag){case 0:case 11:case 14:case 15:so(4,v,v.return);break;case 1:Qi(v,v.return);var b=v.stateNode;if(typeof b.componentWillUnmount=="function"){n=v,r=v.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(S){Lt(n,r,S)}}break;case 5:Qi(v,v.return);break;case 22:if(v.memoizedState!==null){O1(x);continue}}E!==null?(E.return=v,Fe=E):O1(x)}B=B.sibling}e:for(B=null,x=e;;){if(x.tag===5){if(B===null){B=x;try{s=x.stateNode,w?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(f=x.stateNode,g=x.memoizedProps.style,c=g!=null&&g.hasOwnProperty("display")?g.display:null,f.style.display=gm("display",c))}catch(S){Lt(e,e.return,S)}}}else if(x.tag===6){if(B===null)try{x.stateNode.nodeValue=w?"":x.memoizedProps}catch(S){Lt(e,e.return,S)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===e)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===e)break e;for(;x.sibling===null;){if(x.return===null||x.return===e)break e;B===x&&(B=null),x=x.return}B===x&&(B=null),x.sibling.return=x.return,x=x.sibling}}break;case 19:In(t,e),Wn(e),n&4&&k1(e);break;case 21:break;default:In(t,e),Wn(e)}}function Wn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Hx(r)){var n=r;break e}r=r.return}throw Error(ue(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(mo(s,""),n.flags&=-33);var a=_1(e);nf(e,a,s);break;case 3:case 4:var c=n.stateNode.containerInfo,f=_1(e);rf(e,f,c);break;default:throw Error(ue(161))}}catch(g){Lt(e,e.return,g)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function cb(e,t,r){Fe=e,Vx(e)}function Vx(e,t,r){for(var n=(e.mode&1)!==0;Fe!==null;){var s=Fe,a=s.child;if(s.tag===22&&n){var c=s.memoizedState!==null||bl;if(!c){var f=s.alternate,g=f!==null&&f.memoizedState!==null||Er;f=bl;var w=Er;if(bl=c,(Er=g)&&!w)for(Fe=s;Fe!==null;)c=Fe,g=c.child,c.tag===22&&c.memoizedState!==null?D1(s):g!==null?(g.return=c,Fe=g):D1(s);for(;a!==null;)Fe=a,Vx(a),a=a.sibling;Fe=s,bl=f,Er=w}Q1(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,Fe=a):Q1(e)}}function Q1(e){for(;Fe!==null;){var t=Fe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Er||wu(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Er)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Tn(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&m1(t,a,n);break;case 3:var c=t.updateQueue;if(c!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}m1(t,c,r)}break;case 5:var f=t.stateNode;if(r===null&&t.flags&4){r=f;var g=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":g.autoFocus&&r.focus();break;case"img":g.src&&(r.src=g.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var w=t.alternate;if(w!==null){var B=w.memoizedState;if(B!==null){var x=B.dehydrated;x!==null&&Co(x)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ue(163))}Er||t.flags&512&&tf(t)}catch(v){Lt(t,t.return,v)}}if(t===e){Fe=null;break}if(r=t.sibling,r!==null){r.return=t.return,Fe=r;break}Fe=t.return}}function O1(e){for(;Fe!==null;){var t=Fe;if(t===e){Fe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Fe=r;break}Fe=t.return}}function D1(e){for(;Fe!==null;){var t=Fe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{wu(4,t)}catch(g){Lt(t,r,g)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(g){Lt(t,s,g)}}var a=t.return;try{tf(t)}catch(g){Lt(t,a,g)}break;case 5:var c=t.return;try{tf(t)}catch(g){Lt(t,c,g)}}}catch(g){Lt(t,t.return,g)}if(t===e){Fe=null;break}var f=t.sibling;if(f!==null){f.return=t.return,Fe=f;break}Fe=t.return}}var ub=Math.ceil,Rc=BA.ReactCurrentDispatcher,R0=BA.ReactCurrentOwner,Cn=BA.ReactCurrentBatchConfig,$e=0,ar=null,Yt=null,pr=0,$r=0,Oi=ds(0),rr=0,ko=null,Vs=0,mu=0,M0=0,io=null,Hr=null,L0=0,ta=1/0,iA=null,Mc=!1,Af=null,es=null,El=!1,KA=null,Lc=0,ao=0,sf=null,cc=-1,uc=0;function Ur(){return $e&6?Gt():cc!==-1?cc:cc=Gt()}function ts(e){return e.mode&1?$e&2&&pr!==0?pr&-pr:Yv.transition!==null?(uc===0&&(uc=Fm()),uc):(e=ot,e!==0||(e=window.event,e=e===void 0?16:Om(e.type)),e):1}function Rn(e,t,r,n){if(50<ao)throw ao=0,sf=null,Error(ue(185));zo(e,r,n),(!($e&2)||e!==ar)&&(e===ar&&(!($e&2)&&(mu|=r),rr===4&&LA(e,pr)),Gr(e,n),r===1&&$e===0&&!(t.mode&1)&&(ta=Gt()+500,fu&&hs()))}function Gr(e,t){var r=e.callbackNode;Y2(e,t);var n=Cc(e,e===ar?pr:0);if(n===0)r!==null&&Gg(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Gg(r),t===1)e.tag===0?Wv(R1.bind(null,e)):ex(R1.bind(null,e)),Kv(function(){!($e&6)&&hs()}),r=null;else{switch(Nm(n)){case 1:r=u0;break;case 4:r=Sm;break;case 16:r=yc;break;case 536870912:r=Im;break;default:r=yc}r=qx(r,Gx.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Gx(e,t){if(cc=-1,uc=0,$e&6)throw Error(ue(327));var r=e.callbackNode;if(Vi()&&e.callbackNode!==r)return null;var n=Cc(e,e===ar?pr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=jc(e,n);else{t=n;var s=$e;$e|=2;var a=Wx();(ar!==e||pr!==t)&&(iA=null,ta=Gt()+500,Rs(e,t));do try{fb();break}catch(f){zx(e,f)}while(!0);b0(),Rc.current=a,$e=s,Yt!==null?t=0:(ar=null,pr=0,t=rr)}if(t!==0){if(t===2&&(s=_h(e),s!==0&&(n=s,t=af(e,s))),t===1)throw r=ko,Rs(e,0),LA(e,n),Gr(e,Gt()),r;if(t===6)LA(e,n);else{if(s=e.current.alternate,!(n&30)&&!db(s)&&(t=jc(e,n),t===2&&(a=_h(e),a!==0&&(n=a,t=af(e,a))),t===1))throw r=ko,Rs(e,0),LA(e,n),Gr(e,Gt()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(ue(345));case 2:Ss(e,Hr,iA);break;case 3:if(LA(e,n),(n&130023424)===n&&(t=L0+500-Gt(),10<t)){if(Cc(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Ur(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=jh(Ss.bind(null,e,Hr,iA),t);break}Ss(e,Hr,iA);break;case 4:if(LA(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var c=31-Dn(n);a=1<<c,c=t[c],c>s&&(s=c),n&=~a}if(n=s,n=Gt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ub(n/1960))-n,10<n){e.timeoutHandle=jh(Ss.bind(null,e,Hr,iA),n);break}Ss(e,Hr,iA);break;case 5:Ss(e,Hr,iA);break;default:throw Error(ue(329))}}}return Gr(e,Gt()),e.callbackNode===r?Gx.bind(null,e):null}function af(e,t){var r=io;return e.current.memoizedState.isDehydrated&&(Rs(e,t).flags|=256),e=jc(e,t),e!==2&&(t=Hr,Hr=r,t!==null&&of(t)),e}function of(e){Hr===null?Hr=e:Hr.push.apply(Hr,e)}function db(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!Ln(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function LA(e,t){for(t&=~M0,t&=~mu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Dn(t),n=1<<r;e[r]=-1,t&=~n}}function R1(e){if($e&6)throw Error(ue(327));Vi();var t=Cc(e,0);if(!(t&1))return Gr(e,Gt()),null;var r=jc(e,t);if(e.tag!==0&&r===2){var n=_h(e);n!==0&&(t=n,r=af(e,n))}if(r===1)throw r=ko,Rs(e,0),LA(e,t),Gr(e,Gt()),r;if(r===6)throw Error(ue(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ss(e,Hr,iA),Gr(e,Gt()),null}function j0(e,t){var r=$e;$e|=1;try{return e(t)}finally{$e=r,$e===0&&(ta=Gt()+500,fu&&hs())}}function Gs(e){KA!==null&&KA.tag===0&&!($e&6)&&Vi();var t=$e;$e|=1;var r=Cn.transition,n=ot;try{if(Cn.transition=null,ot=1,e)return e()}finally{ot=n,Cn.transition=r,$e=t,!($e&6)&&hs()}}function H0(){$r=Oi.current,vt(Oi)}function Rs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Pv(r)),Yt!==null)for(r=Yt.return;r!==null;){var n=r;switch(y0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ic();break;case 3:$i(),vt(Kr),vt(Sr),T0();break;case 5:N0(n);break;case 4:$i();break;case 13:vt(Tt);break;case 19:vt(Tt);break;case 10:E0(n.type._context);break;case 22:case 23:H0()}r=r.return}if(ar=e,Yt=e=rs(e.current,null),pr=$r=t,rr=0,ko=null,M0=mu=Vs=0,Hr=io=null,ks!==null){for(t=0;t<ks.length;t++)if(r=ks[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var c=a.next;a.next=s,n.next=c}r.pending=n}ks=null}return e}function zx(e,t){do{var r=Yt;try{if(b0(),ac.current=Dc,Oc){for(var n=Ut.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Oc=!1}if(Ks=0,ir=er=Ut=null,Ao=!1,To=0,R0.current=null,r===null||r.return===null){rr=1,ko=t,Yt=null;break}e:{var a=e,c=r.return,f=r,g=t;if(t=pr,f.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){var w=g,B=f,x=B.tag;if(!(B.mode&1)&&(x===0||x===11||x===15)){var v=B.alternate;v?(B.updateQueue=v.updateQueue,B.memoizedState=v.memoizedState,B.lanes=v.lanes):(B.updateQueue=null,B.memoizedState=null)}var E=b1(c);if(E!==null){E.flags&=-257,E1(E,c,f,a,t),E.mode&1&&v1(a,w,t),t=E,g=w;var b=t.updateQueue;if(b===null){var S=new Set;S.add(g),t.updateQueue=S}else b.add(g);break e}else{if(!(t&1)){v1(a,w,t),P0();break e}g=Error(ue(426))}}else if(St&&f.mode&1){var R=b1(c);if(R!==null){!(R.flags&65536)&&(R.flags|=256),E1(R,c,f,a,t),C0(ea(g,f));break e}}a=g=ea(g,f),rr!==4&&(rr=2),io===null?io=[a]:io.push(a),a=c;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var T=Nx(a,g,t);w1(a,T);break e;case 1:f=g;var I=a.type,U=a.stateNode;if(!(a.flags&128)&&(typeof I.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(es===null||!es.has(U)))){a.flags|=65536,t&=-t,a.lanes|=t;var k=Tx(a,f,t);w1(a,k);break e}}a=a.return}while(a!==null)}Xx(r)}catch(H){t=H,Yt===r&&r!==null&&(Yt=r=r.return);continue}break}while(!0)}function Wx(){var e=Rc.current;return Rc.current=Dc,e===null?Dc:e}function P0(){(rr===0||rr===3||rr===2)&&(rr=4),ar===null||!(Vs&268435455)&&!(mu&268435455)||LA(ar,pr)}function jc(e,t){var r=$e;$e|=2;var n=Wx();(ar!==e||pr!==t)&&(iA=null,Rs(e,t));do try{hb();break}catch(s){zx(e,s)}while(!0);if(b0(),$e=r,Rc.current=n,Yt!==null)throw Error(ue(261));return ar=null,pr=0,rr}function hb(){for(;Yt!==null;)Yx(Yt)}function fb(){for(;Yt!==null&&!L2();)Yx(Yt)}function Yx(e){var t=Zx(e.alternate,e,$r);e.memoizedProps=e.pendingProps,t===null?Xx(e):Yt=t,R0.current=null}function Xx(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=ab(r,t),r!==null){r.flags&=32767,Yt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{rr=6,Yt=null;return}}else if(r=ib(r,t,$r),r!==null){Yt=r;return}if(t=t.sibling,t!==null){Yt=t;return}Yt=t=e}while(t!==null);rr===0&&(rr=5)}function Ss(e,t,r){var n=ot,s=Cn.transition;try{Cn.transition=null,ot=1,gb(e,t,r,n)}finally{Cn.transition=s,ot=n}return null}function gb(e,t,r,n){do Vi();while(KA!==null);if($e&6)throw Error(ue(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ue(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(X2(e,a),e===ar&&(Yt=ar=null,pr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||El||(El=!0,qx(yc,function(){return Vi(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Cn.transition,Cn.transition=null;var c=ot;ot=1;var f=$e;$e|=4,R0.current=null,lb(e,r),Kx(r,e),Ov(Mh),vc=!!Rh,Mh=Rh=null,e.current=r,cb(r),j2(),$e=f,ot=c,Cn.transition=a}else e.current=r;if(El&&(El=!1,KA=e,Lc=s),a=e.pendingLanes,a===0&&(es=null),K2(r.stateNode),Gr(e,Gt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Mc)throw Mc=!1,e=Af,Af=null,e;return Lc&1&&e.tag!==0&&Vi(),a=e.pendingLanes,a&1?e===sf?ao++:(ao=0,sf=e):ao=0,hs(),null}function Vi(){if(KA!==null){var e=Nm(Lc),t=Cn.transition,r=ot;try{if(Cn.transition=null,ot=16>e?16:e,KA===null)var n=!1;else{if(e=KA,KA=null,Lc=0,$e&6)throw Error(ue(331));var s=$e;for($e|=4,Fe=e.current;Fe!==null;){var a=Fe,c=a.child;if(Fe.flags&16){var f=a.deletions;if(f!==null){for(var g=0;g<f.length;g++){var w=f[g];for(Fe=w;Fe!==null;){var B=Fe;switch(B.tag){case 0:case 11:case 15:so(8,B,a)}var x=B.child;if(x!==null)x.return=B,Fe=x;else for(;Fe!==null;){B=Fe;var v=B.sibling,E=B.return;if(jx(B),B===w){Fe=null;break}if(v!==null){v.return=E,Fe=v;break}Fe=E}}}var b=a.alternate;if(b!==null){var S=b.child;if(S!==null){b.child=null;do{var R=S.sibling;S.sibling=null,S=R}while(S!==null)}}Fe=a}}if(a.subtreeFlags&2064&&c!==null)c.return=a,Fe=c;else e:for(;Fe!==null;){if(a=Fe,a.flags&2048)switch(a.tag){case 0:case 11:case 15:so(9,a,a.return)}var T=a.sibling;if(T!==null){T.return=a.return,Fe=T;break e}Fe=a.return}}var I=e.current;for(Fe=I;Fe!==null;){c=Fe;var U=c.child;if(c.subtreeFlags&2064&&U!==null)U.return=c,Fe=U;else e:for(c=I;Fe!==null;){if(f=Fe,f.flags&2048)try{switch(f.tag){case 0:case 11:case 15:wu(9,f)}}catch(H){Lt(f,f.return,H)}if(f===c){Fe=null;break e}var k=f.sibling;if(k!==null){k.return=f.return,Fe=k;break e}Fe=f.return}}if($e=s,hs(),eA&&typeof eA.onPostCommitFiberRoot=="function")try{eA.onPostCommitFiberRoot(lu,e)}catch{}n=!0}return n}finally{ot=r,Cn.transition=t}}return!1}function M1(e,t,r){t=ea(r,t),t=Nx(e,t,1),e=$A(e,t,1),t=Ur(),e!==null&&(zo(e,1,t),Gr(e,t))}function Lt(e,t,r){if(e.tag===3)M1(e,e,r);else for(;t!==null;){if(t.tag===3){M1(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(es===null||!es.has(n))){e=ea(r,e),e=Tx(t,e,1),t=$A(t,e,1),e=Ur(),t!==null&&(zo(t,1,e),Gr(t,e));break}}t=t.return}}function pb(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ur(),e.pingedLanes|=e.suspendedLanes&r,ar===e&&(pr&r)===r&&(rr===4||rr===3&&(pr&130023424)===pr&&500>Gt()-L0?Rs(e,0):M0|=r),Gr(e,t)}function Jx(e,t){t===0&&(e.mode&1?(t=gl,gl<<=1,!(gl&130023424)&&(gl=4194304)):t=1);var r=Ur();e=pA(e,t),e!==null&&(zo(e,t,r),Gr(e,r))}function wb(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Jx(e,r)}function mb(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ue(314))}n!==null&&n.delete(t),Jx(e,r)}var Zx;Zx=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Kr.current)Pr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Pr=!1,sb(e,t,r);Pr=!!(e.flags&131072)}else Pr=!1,St&&t.flags&1048576&&tx(t,Tc,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;lc(e,t),e=t.pendingProps;var s=Ji(t,Sr.current);Ki(t,r),s=_0(null,t,n,e,s,r);var a=k0();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Vr(n)?(a=!0,Fc(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,I0(t),s.updater=pu,t.stateNode=s,s._reactInternals=t,Wh(t,n,e,r),t=Jh(null,t,n,!0,a,r)):(t.tag=0,St&&a&&B0(t),Tr(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(lc(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Bb(n),e=Tn(n,e),s){case 0:t=Xh(null,t,n,e,r);break e;case 1:t=F1(null,t,n,e,r);break e;case 11:t=S1(null,t,n,e,r);break e;case 14:t=I1(null,t,n,Tn(n.type,e),r);break e}throw Error(ue(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Tn(n,s),Xh(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Tn(n,s),F1(e,t,n,s,r);case 3:e:{if(Qx(t),e===null)throw Error(ue(387));n=t.pendingProps,a=t.memoizedState,s=a.element,ax(e,t),kc(t,n,null,r);var c=t.memoizedState;if(n=c.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=ea(Error(ue(423)),t),t=N1(e,t,n,r,s);break e}else if(n!==s){s=ea(Error(ue(424)),t),t=N1(e,t,n,r,s);break e}else for(nn=qA(t.stateNode.containerInfo.firstChild),An=t,St=!0,On=null,r=sx(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Zi(),n===s){t=wA(e,t,r);break e}Tr(e,t,n,r)}t=t.child}return t;case 5:return ox(t),e===null&&Vh(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,c=s.children,Lh(n,s)?c=null:a!==null&&Lh(n,a)&&(t.flags|=32),kx(e,t),Tr(e,t,c,r),t.child;case 6:return e===null&&Vh(t),null;case 13:return Ox(e,t,r);case 4:return F0(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=qi(t,null,n,r):Tr(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Tn(n,s),S1(e,t,n,s,r);case 7:return Tr(e,t,t.pendingProps,r),t.child;case 8:return Tr(e,t,t.pendingProps.children,r),t.child;case 12:return Tr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,c=s.value,wt(Uc,n._currentValue),n._currentValue=c,a!==null)if(Ln(a.value,c)){if(a.children===s.children&&!Kr.current){t=wA(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var f=a.dependencies;if(f!==null){c=a.child;for(var g=f.firstContext;g!==null;){if(g.context===n){if(a.tag===1){g=dA(-1,r&-r),g.tag=2;var w=a.updateQueue;if(w!==null){w=w.shared;var B=w.pending;B===null?g.next=g:(g.next=B.next,B.next=g),w.pending=g}}a.lanes|=r,g=a.alternate,g!==null&&(g.lanes|=r),Gh(a.return,r,t),f.lanes|=r;break}g=g.next}}else if(a.tag===10)c=a.type===t.type?null:a.child;else if(a.tag===18){if(c=a.return,c===null)throw Error(ue(341));c.lanes|=r,f=c.alternate,f!==null&&(f.lanes|=r),Gh(c,r,t),c=a.sibling}else c=a.child;if(c!==null)c.return=a;else for(c=a;c!==null;){if(c===t){c=null;break}if(a=c.sibling,a!==null){a.return=c.return,c=a;break}c=c.return}a=c}Tr(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Ki(t,r),s=vn(s),n=n(s),t.flags|=1,Tr(e,t,n,r),t.child;case 14:return n=t.type,s=Tn(n,t.pendingProps),s=Tn(n.type,s),I1(e,t,n,s,r);case 15:return Ux(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Tn(n,s),lc(e,t),t.tag=1,Vr(n)?(e=!0,Fc(t)):e=!1,Ki(t,r),Fx(t,n,s),Wh(t,n,s,r),Jh(null,t,n,!0,e,r);case 19:return Dx(e,t,r);case 22:return _x(e,t,r)}throw Error(ue(156,t.tag))};function qx(e,t){return Em(e,t)}function xb(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(e,t,r,n){return new xb(e,t,r,n)}function K0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bb(e){if(typeof e=="function")return K0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===o0)return 11;if(e===l0)return 14}return 2}function rs(e,t){var r=e.alternate;return r===null?(r=xn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function dc(e,t,r,n,s,a){var c=2;if(n=e,typeof e=="function")K0(e)&&(c=1);else if(typeof e=="string")c=5;else e:switch(e){case Ei:return Ms(r.children,s,a,t);case a0:c=8,s|=8;break;case wh:return e=xn(12,r,t,s|2),e.elementType=wh,e.lanes=a,e;case mh:return e=xn(13,r,t,s),e.elementType=mh,e.lanes=a,e;case xh:return e=xn(19,r,t,s),e.elementType=xh,e.lanes=a,e;case om:return xu(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case im:c=10;break e;case am:c=9;break e;case o0:c=11;break e;case l0:c=14;break e;case QA:c=16,n=null;break e}throw Error(ue(130,e==null?e:typeof e,""))}return t=xn(c,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function Ms(e,t,r,n){return e=xn(7,e,n,t),e.lanes=r,e}function xu(e,t,r,n){return e=xn(22,e,n,t),e.elementType=om,e.lanes=r,e.stateNode={isHidden:!1},e}function kd(e,t,r){return e=xn(6,e,null,t),e.lanes=r,e}function Qd(e,t,r){return t=xn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function yb(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fd(0),this.expirationTimes=fd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fd(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function V0(e,t,r,n,s,a,c,f,g){return e=new yb(e,t,r,f,g),t===1?(t=1,a===!0&&(t|=8)):t=0,a=xn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},I0(a),e}function Cb(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function $x(e){if(!e)return os;e=e._reactInternals;e:{if(Ws(e)!==e||e.tag!==1)throw Error(ue(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Vr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ue(171))}if(e.tag===1){var r=e.type;if(Vr(r))return $m(e,r,t)}return t}function eB(e,t,r,n,s,a,c,f,g){return e=V0(r,n,!0,e,s,a,c,f,g),e.context=$x(null),r=e.current,n=Ur(),s=ts(r),a=dA(n,s),a.callback=t??null,$A(r,a,s),e.current.lanes=s,zo(e,s,n),Gr(e,n),e}function Bu(e,t,r,n){var s=t.current,a=Ur(),c=ts(s);return r=$x(r),t.context===null?t.context=r:t.pendingContext=r,t=dA(a,c),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=$A(s,t,c),e!==null&&(Rn(e,s,c,a),ic(e,s,c)),c}function Hc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function L1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function G0(e,t){L1(e,t),(e=e.alternate)&&L1(e,t)}function vb(){return null}var tB=typeof reportError=="function"?reportError:function(e){console.error(e)};function z0(e){this._internalRoot=e}yu.prototype.render=z0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ue(409));Bu(e,t,null,null)};yu.prototype.unmount=z0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Gs(function(){Bu(null,e,null,null)}),t[gA]=null}};function yu(e){this._internalRoot=e}yu.prototype.unstable_scheduleHydration=function(e){if(e){var t=_m();e={blockedOn:null,target:e,priority:t};for(var r=0;r<MA.length&&t!==0&&t<MA[r].priority;r++);MA.splice(r,0,e),r===0&&Qm(e)}};function W0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Cu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function j1(){}function bb(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var w=Hc(c);a.call(w)}}var c=eB(t,n,e,0,null,!1,!1,"",j1);return e._reactRootContainer=c,e[gA]=c.current,Eo(e.nodeType===8?e.parentNode:e),Gs(),c}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var f=n;n=function(){var w=Hc(g);f.call(w)}}var g=V0(e,0,!1,null,null,!1,!1,"",j1);return e._reactRootContainer=g,e[gA]=g.current,Eo(e.nodeType===8?e.parentNode:e),Gs(function(){Bu(t,g,r,n)}),g}function vu(e,t,r,n,s){var a=r._reactRootContainer;if(a){var c=a;if(typeof s=="function"){var f=s;s=function(){var g=Hc(c);f.call(g)}}Bu(t,c,e,s)}else c=bb(r,t,e,s,n);return Hc(c)}Tm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ha(t.pendingLanes);r!==0&&(d0(t,r|1),Gr(t,Gt()),!($e&6)&&(ta=Gt()+500,hs()))}break;case 13:Gs(function(){var n=pA(e,1);if(n!==null){var s=Ur();Rn(n,e,1,s)}}),G0(e,1)}};h0=function(e){if(e.tag===13){var t=pA(e,134217728);if(t!==null){var r=Ur();Rn(t,e,134217728,r)}G0(e,134217728)}};Um=function(e){if(e.tag===13){var t=ts(e),r=pA(e,t);if(r!==null){var n=Ur();Rn(r,e,t,n)}G0(e,t)}};_m=function(){return ot};km=function(e,t){var r=ot;try{return ot=e,t()}finally{ot=r}};Nh=function(e,t,r){switch(t){case"input":if(Ch(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=hu(n);if(!s)throw Error(ue(90));cm(n),Ch(n,s)}}}break;case"textarea":dm(e,r);break;case"select":t=r.value,t!=null&&Li(e,!!r.multiple,t,!1)}};xm=j0;Bm=Gs;var Eb={usingClientEntryPoint:!1,Events:[Yo,Ni,hu,wm,mm,j0]},Ua={findFiberByHostInstance:_s,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Sb={bundleType:Ua.bundleType,version:Ua.version,rendererPackageName:Ua.rendererPackageName,rendererConfig:Ua.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:BA.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=vm(e),e===null?null:e.stateNode},findFiberByHostInstance:Ua.findFiberByHostInstance||vb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sl.isDisabled&&Sl.supportsFiber)try{lu=Sl.inject(Sb),eA=Sl}catch{}}an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Eb;an.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!W0(t))throw Error(ue(200));return Cb(e,t,null,r)};an.createRoot=function(e,t){if(!W0(e))throw Error(ue(299));var r=!1,n="",s=tB;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=V0(e,1,!1,null,null,r,!1,n,s),e[gA]=t.current,Eo(e.nodeType===8?e.parentNode:e),new z0(t)};an.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ue(188)):(e=Object.keys(e).join(","),Error(ue(268,e)));return e=vm(t),e=e===null?null:e.stateNode,e};an.flushSync=function(e){return Gs(e)};an.hydrate=function(e,t,r){if(!Cu(t))throw Error(ue(200));return vu(null,e,t,!0,r)};an.hydrateRoot=function(e,t,r){if(!W0(e))throw Error(ue(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",c=tB;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(c=r.onRecoverableError)),t=eB(t,null,e,1,r??null,s,!1,a,c),e[gA]=t.current,Eo(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new yu(t)};an.render=function(e,t,r){if(!Cu(t))throw Error(ue(200));return vu(null,e,t,!1,r)};an.unmountComponentAtNode=function(e){if(!Cu(e))throw Error(ue(40));return e._reactRootContainer?(Gs(function(){vu(null,null,e,!1,function(){e._reactRootContainer=null,e[gA]=null})}),!0):!1};an.unstable_batchedUpdates=j0;an.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Cu(r))throw Error(ue(200));if(e==null||e._reactInternals===void 0)throw Error(ue(38));return vu(e,t,r,!1,n)};an.version="18.3.1-next-f1338f8080-20240426";function rB(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rB)}catch(e){console.error(e)}}rB(),rm.exports=an;var Ib=rm.exports,H1=Ib;gh.createRoot=H1.createRoot,gh.hydrateRoot=H1.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qo(){return Qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qo.apply(this,arguments)}var VA;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(VA||(VA={}));const P1="popstate";function Fb(e){e===void 0&&(e={});function t(n,s){let{pathname:a,search:c,hash:f}=n.location;return lf("",{pathname:a,search:c,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Pc(s)}return Tb(t,r,null,e)}function jt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Y0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Nb(){return Math.random().toString(36).substr(2,8)}function K1(e,t){return{usr:e.state,key:e.key,idx:t}}function lf(e,t,r,n){return r===void 0&&(r=null),Qo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?la(t):t,{state:r,key:t&&t.key||n||Nb()})}function Pc(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function la(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Tb(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,c=s.history,f=VA.Pop,g=null,w=B();w==null&&(w=0,c.replaceState(Qo({},c.state,{idx:w}),""));function B(){return(c.state||{idx:null}).idx}function x(){f=VA.Pop;let R=B(),T=R==null?null:R-w;w=R,g&&g({action:f,location:S.location,delta:T})}function v(R,T){f=VA.Push;let I=lf(S.location,R,T);w=B()+1;let U=K1(I,w),k=S.createHref(I);try{c.pushState(U,"",k)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;s.location.assign(k)}a&&g&&g({action:f,location:S.location,delta:1})}function E(R,T){f=VA.Replace;let I=lf(S.location,R,T);w=B();let U=K1(I,w),k=S.createHref(I);c.replaceState(U,"",k),a&&g&&g({action:f,location:S.location,delta:0})}function b(R){let T=s.location.origin!=="null"?s.location.origin:s.location.href,I=typeof R=="string"?R:Pc(R);return I=I.replace(/ $/,"%20"),jt(T,"No window.location.(origin|href) available to create URL for href: "+I),new URL(I,T)}let S={get action(){return f},get location(){return e(s,c)},listen(R){if(g)throw new Error("A history only accepts one active listener");return s.addEventListener(P1,x),g=R,()=>{s.removeEventListener(P1,x),g=null}},createHref(R){return t(s,R)},createURL:b,encodeLocation(R){let T=b(R);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:v,replace:E,go(R){return c.go(R)}};return S}var V1;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(V1||(V1={}));function Ub(e,t,r){return r===void 0&&(r="/"),_b(e,t,r)}function _b(e,t,r,n){let s=typeof t=="string"?la(t):t,a=ra(s.pathname||"/",r);if(a==null)return null;let c=nB(e);kb(c);let f=null;for(let g=0;f==null&&g<c.length;++g){let w=Vb(a);f=Pb(c[g],w)}return f}function nB(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,c,f)=>{let g={relativePath:f===void 0?a.path||"":f,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};g.relativePath.startsWith("/")&&(jt(g.relativePath.startsWith(n),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(n.length));let w=ns([n,g.relativePath]),B=r.concat(g);a.children&&a.children.length>0&&(jt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+w+'".')),nB(a.children,t,B,w)),!(a.path==null&&!a.index)&&t.push({path:w,score:jb(w,a.index),routesMeta:B})};return e.forEach((a,c)=>{var f;if(a.path===""||!((f=a.path)!=null&&f.includes("?")))s(a,c);else for(let g of AB(a.path))s(a,c,g)}),t}function AB(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let c=AB(n.join("/")),f=[];return f.push(...c.map(g=>g===""?a:[a,g].join("/"))),s&&f.push(...c),f.map(g=>e.startsWith("/")&&g===""?"/":g)}function kb(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Hb(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Qb=/^:[\w-]+$/,Ob=3,Db=2,Rb=1,Mb=10,Lb=-2,G1=e=>e==="*";function jb(e,t){let r=e.split("/"),n=r.length;return r.some(G1)&&(n+=Lb),t&&(n+=Db),r.filter(s=>!G1(s)).reduce((s,a)=>s+(Qb.test(a)?Ob:a===""?Rb:Mb),n)}function Hb(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Pb(e,t,r){let{routesMeta:n}=e,s={},a="/",c=[];for(let f=0;f<n.length;++f){let g=n[f],w=f===n.length-1,B=a==="/"?t:t.slice(a.length)||"/",x=cf({path:g.relativePath,caseSensitive:g.caseSensitive,end:w},B),v=g.route;if(!x)return null;Object.assign(s,x.params),c.push({params:s,pathname:ns([a,x.pathname]),pathnameBase:Xb(ns([a,x.pathnameBase])),route:v}),x.pathnameBase!=="/"&&(a=ns([a,x.pathnameBase]))}return c}function cf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Kb(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],c=a.replace(/(.)\/+$/,"$1"),f=s.slice(1);return{params:n.reduce((w,B,x)=>{let{paramName:v,isOptional:E}=B;if(v==="*"){let S=f[x]||"";c=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const b=f[x];return E&&!b?w[v]=void 0:w[v]=(b||"").replace(/%2F/g,"/"),w},{}),pathname:a,pathnameBase:c,pattern:e}}function Kb(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Y0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,g)=>(n.push({paramName:f,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Vb(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Y0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ra(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const Gb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zb=e=>Gb.test(e);function Wb(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?la(e):e,a;if(r)if(zb(r))a=r;else{if(r.includes("//")){let c=r;r=r.replace(/\/\/+/g,"/"),Y0(!1,"Pathnames cannot have embedded double slashes - normalizing "+(c+" -> "+r))}r.startsWith("/")?a=z1(r.substring(1),"/"):a=z1(r,t)}else a=t;return{pathname:a,search:Jb(n),hash:Zb(s)}}function z1(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Od(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Yb(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function sB(e,t){let r=Yb(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function iB(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=la(e):(s=Qo({},e),jt(!s.pathname||!s.pathname.includes("?"),Od("?","pathname","search",s)),jt(!s.pathname||!s.pathname.includes("#"),Od("#","pathname","hash",s)),jt(!s.search||!s.search.includes("#"),Od("#","search","hash",s)));let a=e===""||s.pathname==="",c=a?"/":s.pathname,f;if(c==null)f=r;else{let x=t.length-1;if(!n&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),x-=1;s.pathname=v.join("/")}f=x>=0?t[x]:"/"}let g=Wb(s,f),w=c&&c!=="/"&&c.endsWith("/"),B=(a||c===".")&&r.endsWith("/");return!g.pathname.endsWith("/")&&(w||B)&&(g.pathname+="/"),g}const ns=e=>e.join("/").replace(/\/\/+/g,"/"),Xb=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Jb=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Zb=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function qb(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const aB=["post","put","patch","delete"];new Set(aB);const $b=["get",...aB];new Set($b);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oo(){return Oo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oo.apply(this,arguments)}const bu=z.createContext(null),oB=z.createContext(null),fs=z.createContext(null),Eu=z.createContext(null),yA=z.createContext({outlet:null,matches:[],isDataRoute:!1}),lB=z.createContext(null);function eE(e,t){let{relative:r}=t===void 0?{}:t;Jo()||jt(!1);let{basename:n,navigator:s}=z.useContext(fs),{hash:a,pathname:c,search:f}=Su(e,{relative:r}),g=c;return n!=="/"&&(g=c==="/"?n:ns([n,c])),s.createHref({pathname:g,search:f,hash:a})}function Jo(){return z.useContext(Eu)!=null}function ca(){return Jo()||jt(!1),z.useContext(Eu).location}function cB(e){z.useContext(fs).static||z.useLayoutEffect(e)}function zr(){let{isDataRoute:e}=z.useContext(yA);return e?gE():tE()}function tE(){Jo()||jt(!1);let e=z.useContext(bu),{basename:t,future:r,navigator:n}=z.useContext(fs),{matches:s}=z.useContext(yA),{pathname:a}=ca(),c=JSON.stringify(sB(s,r.v7_relativeSplatPath)),f=z.useRef(!1);return cB(()=>{f.current=!0}),z.useCallback(function(w,B){if(B===void 0&&(B={}),!f.current)return;if(typeof w=="number"){n.go(w);return}let x=iB(w,JSON.parse(c),a,B.relative==="path");e==null&&t!=="/"&&(x.pathname=x.pathname==="/"?t:ns([t,x.pathname])),(B.replace?n.replace:n.push)(x,B.state,B)},[t,n,c,a,e])}const rE=z.createContext(null);function nE(e){let t=z.useContext(yA).outlet;return t&&z.createElement(rE.Provider,{value:e},t)}function uB(){let{matches:e}=z.useContext(yA),t=e[e.length-1];return t?t.params:{}}function Su(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=z.useContext(fs),{matches:s}=z.useContext(yA),{pathname:a}=ca(),c=JSON.stringify(sB(s,n.v7_relativeSplatPath));return z.useMemo(()=>iB(e,JSON.parse(c),a,r==="path"),[e,c,a,r])}function AE(e,t){return sE(e,t)}function sE(e,t,r,n){Jo()||jt(!1);let{navigator:s}=z.useContext(fs),{matches:a}=z.useContext(yA),c=a[a.length-1],f=c?c.params:{};c&&c.pathname;let g=c?c.pathnameBase:"/";c&&c.route;let w=ca(),B;if(t){var x;let R=typeof t=="string"?la(t):t;g==="/"||(x=R.pathname)!=null&&x.startsWith(g)||jt(!1),B=R}else B=w;let v=B.pathname||"/",E=v;if(g!=="/"){let R=g.replace(/^\//,"").split("/");E="/"+v.replace(/^\//,"").split("/").slice(R.length).join("/")}let b=Ub(e,{pathname:E}),S=cE(b&&b.map(R=>Object.assign({},R,{params:Object.assign({},f,R.params),pathname:ns([g,s.encodeLocation?s.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?g:ns([g,s.encodeLocation?s.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),a,r,n);return t&&S?z.createElement(Eu.Provider,{value:{location:Oo({pathname:"/",search:"",hash:"",state:null,key:"default"},B),navigationType:VA.Pop}},S):S}function iE(){let e=fE(),t=qb(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},t),r?z.createElement("pre",{style:s},r):null,null)}const aE=z.createElement(iE,null);class oE extends z.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?z.createElement(yA.Provider,{value:this.props.routeContext},z.createElement(lB.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lE(e){let{routeContext:t,match:r,children:n}=e,s=z.useContext(bu);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),z.createElement(yA.Provider,{value:t},n)}function cE(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let c=e,f=(s=r)==null?void 0:s.errors;if(f!=null){let B=c.findIndex(x=>x.route.id&&(f==null?void 0:f[x.route.id])!==void 0);B>=0||jt(!1),c=c.slice(0,Math.min(c.length,B+1))}let g=!1,w=-1;if(r&&n&&n.v7_partialHydration)for(let B=0;B<c.length;B++){let x=c[B];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(w=B),x.route.id){let{loaderData:v,errors:E}=r,b=x.route.loader&&v[x.route.id]===void 0&&(!E||E[x.route.id]===void 0);if(x.route.lazy||b){g=!0,w>=0?c=c.slice(0,w+1):c=[c[0]];break}}}return c.reduceRight((B,x,v)=>{let E,b=!1,S=null,R=null;r&&(E=f&&x.route.id?f[x.route.id]:void 0,S=x.route.errorElement||aE,g&&(w<0&&v===0?(pE("route-fallback"),b=!0,R=null):w===v&&(b=!0,R=x.route.hydrateFallbackElement||null)));let T=t.concat(c.slice(0,v+1)),I=()=>{let U;return E?U=S:b?U=R:x.route.Component?U=z.createElement(x.route.Component,null):x.route.element?U=x.route.element:U=B,z.createElement(lE,{match:x,routeContext:{outlet:B,matches:T,isDataRoute:r!=null},children:U})};return r&&(x.route.ErrorBoundary||x.route.errorElement||v===0)?z.createElement(oE,{location:r.location,revalidation:r.revalidation,component:S,error:E,children:I(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):I()},null)}var dB=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(dB||{}),hB=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(hB||{});function uE(e){let t=z.useContext(bu);return t||jt(!1),t}function dE(e){let t=z.useContext(oB);return t||jt(!1),t}function hE(e){let t=z.useContext(yA);return t||jt(!1),t}function fB(e){let t=hE(),r=t.matches[t.matches.length-1];return r.route.id||jt(!1),r.route.id}function fE(){var e;let t=z.useContext(lB),r=dE(),n=fB();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function gE(){let{router:e}=uE(dB.UseNavigateStable),t=fB(hB.UseNavigateStable),r=z.useRef(!1);return cB(()=>{r.current=!0}),z.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Oo({fromRouteId:t},a)))},[e,t])}const W1={};function pE(e,t,r){W1[e]||(W1[e]=!0)}function wE(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function mE(e){return nE(e.context)}function Yr(e){jt(!1)}function xE(e){let{basename:t="/",children:r=null,location:n,navigationType:s=VA.Pop,navigator:a,static:c=!1,future:f}=e;Jo()&&jt(!1);let g=t.replace(/^\/*/,"/"),w=z.useMemo(()=>({basename:g,navigator:a,static:c,future:Oo({v7_relativeSplatPath:!1},f)}),[g,f,a,c]);typeof n=="string"&&(n=la(n));let{pathname:B="/",search:x="",hash:v="",state:E=null,key:b="default"}=n,S=z.useMemo(()=>{let R=ra(B,g);return R==null?null:{location:{pathname:R,search:x,hash:v,state:E,key:b},navigationType:s}},[g,B,x,v,E,b,s]);return S==null?null:z.createElement(fs.Provider,{value:w},z.createElement(Eu.Provider,{children:r,value:S}))}function BE(e){let{children:t,location:r}=e;return AE(uf(t),r)}new Promise(()=>{});function uf(e,t){t===void 0&&(t=[]);let r=[];return z.Children.forEach(e,(n,s)=>{if(!z.isValidElement(n))return;let a=[...t,s];if(n.type===z.Fragment){r.push.apply(r,uf(n.props.children,a));return}n.type!==Yr&&jt(!1),!n.props.index||!n.props.children||jt(!1);let c={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=uf(n.props.children,a)),r.push(c)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kc(){return Kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kc.apply(this,arguments)}function gB(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function yE(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function CE(e,t){return e.button===0&&(!t||t==="_self")&&!yE(e)}const vE=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],bE=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],EE="6";try{window.__reactRouterVersion=EE}catch{}const SE=z.createContext({isTransitioning:!1}),IE="startTransition",Y1=p2[IE];function FE(e){let{basename:t,children:r,future:n,window:s}=e,a=z.useRef();a.current==null&&(a.current=Fb({window:s,v5Compat:!0}));let c=a.current,[f,g]=z.useState({action:c.action,location:c.location}),{v7_startTransition:w}=n||{},B=z.useCallback(x=>{w&&Y1?Y1(()=>g(x)):g(x)},[g,w]);return z.useLayoutEffect(()=>c.listen(B),[c,B]),z.useEffect(()=>wE(n),[n]),z.createElement(xE,{basename:t,children:r,location:f.location,navigationType:f.action,navigator:c,future:n})}const NE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",TE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,X0=z.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:a,replace:c,state:f,target:g,to:w,preventScrollReset:B,viewTransition:x}=t,v=gB(t,vE),{basename:E}=z.useContext(fs),b,S=!1;if(typeof w=="string"&&TE.test(w)&&(b=w,NE))try{let U=new URL(window.location.href),k=w.startsWith("//")?new URL(U.protocol+w):new URL(w),H=ra(k.pathname,E);k.origin===U.origin&&H!=null?w=H+k.search+k.hash:S=!0}catch{}let R=eE(w,{relative:s}),T=kE(w,{replace:c,state:f,target:g,preventScrollReset:B,relative:s,viewTransition:x});function I(U){n&&n(U),U.defaultPrevented||T(U)}return z.createElement("a",Kc({},v,{href:b||R,onClick:S||a?n:I,ref:r,target:g}))}),UE=z.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:a="",end:c=!1,style:f,to:g,viewTransition:w,children:B}=t,x=gB(t,bE),v=Su(g,{relative:x.relative}),E=ca(),b=z.useContext(oB),{navigator:S,basename:R}=z.useContext(fs),T=b!=null&&QE(v)&&w===!0,I=S.encodeLocation?S.encodeLocation(v).pathname:v.pathname,U=E.pathname,k=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;s||(U=U.toLowerCase(),k=k?k.toLowerCase():null,I=I.toLowerCase()),k&&R&&(k=ra(k,R)||k);const H=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let M=U===I||!c&&U.startsWith(I)&&U.charAt(H)==="/",L=k!=null&&(k===I||!c&&k.startsWith(I)&&k.charAt(I.length)==="/"),X={isActive:M,isPending:L,isTransitioning:T},G=M?n:void 0,ce;typeof a=="function"?ce=a(X):ce=[a,M?"active":null,L?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let Ne=typeof f=="function"?f(X):f;return z.createElement(X0,Kc({},x,{"aria-current":G,className:ce,ref:r,style:Ne,to:g,viewTransition:w}),typeof B=="function"?B(X):B)});var df;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(df||(df={}));var X1;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(X1||(X1={}));function _E(e){let t=z.useContext(bu);return t||jt(!1),t}function kE(e,t){let{target:r,replace:n,state:s,preventScrollReset:a,relative:c,viewTransition:f}=t===void 0?{}:t,g=zr(),w=ca(),B=Su(e,{relative:c});return z.useCallback(x=>{if(CE(x,r)){x.preventDefault();let v=n!==void 0?n:Pc(w)===Pc(B);g(e,{replace:v,state:s,preventScrollReset:a,relative:c,viewTransition:f})}},[w,g,B,n,s,r,e,a,c,f])}function QE(e,t){t===void 0&&(t={});let r=z.useContext(SE);r==null&&jt(!1);let{basename:n}=_E(df.useViewTransitionState),s=Su(e,{relative:t.relative});if(!r.isTransitioning)return!1;let a=ra(r.currentLocation.pathname,n)||r.currentLocation.pathname,c=ra(r.nextLocation.pathname,n)||r.nextLocation.pathname;return cf(s.pathname,c)!=null||cf(s.pathname,a)!=null}const OE="modulepreload",DE=function(e){return"/"+e},J1={},RE=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=Promise.allSettled(r.map(g=>{if(g=DE(g),g in J1)return;J1[g]=!0;const w=g.endsWith(".css"),B=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${B}`))return;const x=document.createElement("link");if(x.rel=w?"stylesheet":OE,w||(x.as="script"),x.crossOrigin="",x.href=g,f&&x.setAttribute("nonce",f),document.head.appendChild(x),w)return new Promise((v,E)=>{x.addEventListener("load",v),x.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${g}`)))})}))}function a(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return s.then(c=>{for(const f of c||[])f.status==="rejected"&&a(f.reason);return t().catch(a)})};function wr(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function mA(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function pB(e,t){const r=wr(e);return isNaN(t)?mA(e,NaN):(t&&r.setDate(r.getDate()+t),r)}const wB=6048e5,ME=864e5,mB=6e4,xB=36e5;let LE={};function Iu(){return LE}function na(e,t){var f,g,w,B;const r=Iu(),n=(t==null?void 0:t.weekStartsOn)??((g=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((B=(w=r.locale)==null?void 0:w.options)==null?void 0:B.weekStartsOn)??0,s=wr(e),a=s.getDay(),c=(a<n?7:0)+a-n;return s.setDate(s.getDate()-c),s.setHours(0,0,0,0),s}function Vc(e){return na(e,{weekStartsOn:1})}function BB(e){const t=wr(e),r=t.getFullYear(),n=mA(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Vc(n),a=mA(e,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const c=Vc(a);return t.getTime()>=s.getTime()?r+1:t.getTime()>=c.getTime()?r:r-1}function Gc(e){const t=wr(e);return t.setHours(0,0,0,0),t}function Z1(e){const t=wr(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function yB(e,t){const r=Gc(e),n=Gc(t),s=+r-Z1(r),a=+n-Z1(n);return Math.round((s-a)/ME)}function jE(e){const t=BB(e),r=mA(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Vc(r)}function HE(e){return mA(e,Date.now())}function Fr(e,t){const r=Gc(e),n=Gc(t);return+r==+n}function PE(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function KE(e){if(!PE(e)&&typeof e!="number")return!1;const t=wr(e);return!isNaN(Number(t))}function VE(e){const t=wr(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function GE(e,t){const r=wr(e.start),n=wr(e.end);let s=+r>+n;const a=s?+r:+n,c=s?n:r;c.setHours(0,0,0,0);let f=1;const g=[];for(;+c<=a;)g.push(wr(c)),c.setDate(c.getDate()+f),c.setHours(0,0,0,0);return s?g.reverse():g}function zE(e){const t=wr(e);return t.setDate(1),t.setHours(0,0,0,0),t}function WE(e){const t=wr(e),r=mA(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const YE={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},XE=(e,t,r)=>{let n;const s=YE[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Dd(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const JE={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ZE={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},qE={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},$E={date:Dd({formats:JE,defaultWidth:"full"}),time:Dd({formats:ZE,defaultWidth:"full"}),dateTime:Dd({formats:qE,defaultWidth:"full"})},e4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},t4=(e,t,r,n)=>e4[e];function _a(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,f=r!=null&&r.width?String(r.width):c;s=e.formattingValues[f]||e.formattingValues[c]}else{const c=e.defaultWidth,f=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[f]||e.values[c]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const r4={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},n4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},A4={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},s4={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},i4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},a4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},o4=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},l4={ordinalNumber:o4,era:_a({values:r4,defaultWidth:"wide"}),quarter:_a({values:n4,defaultWidth:"wide",argumentCallback:e=>e-1}),month:_a({values:A4,defaultWidth:"wide"}),day:_a({values:s4,defaultWidth:"wide"}),dayPeriod:_a({values:i4,defaultWidth:"wide",formattingValues:a4,defaultFormattingWidth:"wide"})};function ka(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const c=a[0],f=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],g=Array.isArray(f)?u4(f,x=>x.test(c)):c4(f,x=>x.test(c));let w;w=e.valueCallback?e.valueCallback(g):g,w=r.valueCallback?r.valueCallback(w):w;const B=t.slice(c.length);return{value:w,rest:B}}}function c4(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function u4(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function d4(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],a=t.match(e.parsePattern);if(!a)return null;let c=e.valueCallback?e.valueCallback(a[0]):a[0];c=r.valueCallback?r.valueCallback(c):c;const f=t.slice(s.length);return{value:c,rest:f}}}const h4=/^(\d+)(th|st|nd|rd)?/i,f4=/\d+/i,g4={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},p4={any:[/^b/i,/^(a|c)/i]},w4={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},m4={any:[/1/i,/2/i,/3/i,/4/i]},x4={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},B4={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},y4={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},C4={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},v4={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},b4={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},E4={ordinalNumber:d4({matchPattern:h4,parsePattern:f4,valueCallback:e=>parseInt(e,10)}),era:ka({matchPatterns:g4,defaultMatchWidth:"wide",parsePatterns:p4,defaultParseWidth:"any"}),quarter:ka({matchPatterns:w4,defaultMatchWidth:"wide",parsePatterns:m4,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ka({matchPatterns:x4,defaultMatchWidth:"wide",parsePatterns:B4,defaultParseWidth:"any"}),day:ka({matchPatterns:y4,defaultMatchWidth:"wide",parsePatterns:C4,defaultParseWidth:"any"}),dayPeriod:ka({matchPatterns:v4,defaultMatchWidth:"any",parsePatterns:b4,defaultParseWidth:"any"})},S4={code:"en-US",formatDistance:XE,formatLong:$E,formatRelative:t4,localize:l4,match:E4,options:{weekStartsOn:0,firstWeekContainsDate:1}};function I4(e){const t=wr(e);return yB(t,WE(t))+1}function F4(e){const t=wr(e),r=+Vc(t)-+jE(t);return Math.round(r/wB)+1}function CB(e,t){var B,x,v,E;const r=wr(e),n=r.getFullYear(),s=Iu(),a=(t==null?void 0:t.firstWeekContainsDate)??((x=(B=t==null?void 0:t.locale)==null?void 0:B.options)==null?void 0:x.firstWeekContainsDate)??s.firstWeekContainsDate??((E=(v=s.locale)==null?void 0:v.options)==null?void 0:E.firstWeekContainsDate)??1,c=mA(e,0);c.setFullYear(n+1,0,a),c.setHours(0,0,0,0);const f=na(c,t),g=mA(e,0);g.setFullYear(n,0,a),g.setHours(0,0,0,0);const w=na(g,t);return r.getTime()>=f.getTime()?n+1:r.getTime()>=w.getTime()?n:n-1}function N4(e,t){var f,g,w,B;const r=Iu(),n=(t==null?void 0:t.firstWeekContainsDate)??((g=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??r.firstWeekContainsDate??((B=(w=r.locale)==null?void 0:w.options)==null?void 0:B.firstWeekContainsDate)??1,s=CB(e,t),a=mA(e,0);return a.setFullYear(s,0,n),a.setHours(0,0,0,0),na(a,t)}function T4(e,t){const r=wr(e),n=+na(r,t)-+N4(r,t);return Math.round(n/wB)+1}function it(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const TA={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return it(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):it(r+1,2)},d(e,t){return it(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return it(e.getHours()%12||12,t.length)},H(e,t){return it(e.getHours(),t.length)},m(e,t){return it(e.getMinutes(),t.length)},s(e,t){return it(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return it(s,t.length)}},ii={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},q1={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return TA.y(e,t)},Y:function(e,t,r,n){const s=CB(e,n),a=s>0?s:1-s;if(t==="YY"){const c=a%100;return it(c,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):it(a,t.length)},R:function(e,t){const r=BB(e);return it(r,t.length)},u:function(e,t){const r=e.getFullYear();return it(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return it(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return it(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return TA.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return it(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=T4(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):it(s,t.length)},I:function(e,t,r){const n=F4(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):it(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):TA.d(e,t)},D:function(e,t,r){const n=I4(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):it(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return it(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return it(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return it(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=ii.noon:n===0?s=ii.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=ii.evening:n>=12?s=ii.afternoon:n>=4?s=ii.morning:s=ii.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return TA.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):TA.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):it(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):it(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):TA.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):TA.s(e,t)},S:function(e,t){return TA.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return ep(n);case"XXXX":case"XX":return Is(n);case"XXXXX":case"XXX":default:return Is(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return ep(n);case"xxxx":case"xx":return Is(n);case"xxxxx":case"xxx":default:return Is(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+$1(n,":");case"OOOO":default:return"GMT"+Is(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+$1(n,":");case"zzzz":default:return"GMT"+Is(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return it(n,t.length)},T:function(e,t,r){const n=e.getTime();return it(n,t.length)}};function $1(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),a=n%60;return a===0?r+String(s):r+String(s)+t+it(a,2)}function ep(e,t){return e%60===0?(e>0?"-":"+")+it(Math.abs(e)/60,2):Is(e,t)}function Is(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=it(Math.trunc(n/60),2),a=it(n%60,2);return r+s+t+a}const tp=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},vB=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},U4=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return tp(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",tp(n,t)).replace("{{time}}",vB(s,t))},_4={p:vB,P:U4},k4=/^D+$/,Q4=/^Y+$/,O4=["D","DD","YY","YYYY"];function D4(e){return k4.test(e)}function R4(e){return Q4.test(e)}function M4(e,t,r){const n=L4(e,t,r);if(console.warn(n),O4.includes(e))throw new RangeError(n)}function L4(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const j4=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,H4=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,P4=/^'([^]*?)'?$/,K4=/''/g,V4=/[a-zA-Z]/;function jA(e,t,r){var B,x,v,E;const n=Iu(),s=n.locale??S4,a=n.firstWeekContainsDate??((x=(B=n.locale)==null?void 0:B.options)==null?void 0:x.firstWeekContainsDate)??1,c=n.weekStartsOn??((E=(v=n.locale)==null?void 0:v.options)==null?void 0:E.weekStartsOn)??0,f=wr(e);if(!KE(f))throw new RangeError("Invalid time value");let g=t.match(H4).map(b=>{const S=b[0];if(S==="p"||S==="P"){const R=_4[S];return R(b,s.formatLong)}return b}).join("").match(j4).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const S=b[0];if(S==="'")return{isToken:!1,value:G4(b)};if(q1[S])return{isToken:!0,value:b};if(S.match(V4))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:b}});s.localize.preprocessor&&(g=s.localize.preprocessor(f,g));const w={firstWeekContainsDate:a,weekStartsOn:c,locale:s};return g.map(b=>{if(!b.isToken)return b.value;const S=b.value;(R4(S)||D4(S))&&M4(S,t,String(e));const R=q1[S[0]];return R(f,S,s.localize,w)}).join("")}function G4(e){const t=e.match(P4);return t?t[1].replace(K4,"'"):e}function z4(e){return Fr(e,HE(e))}function W4(e,t){return pB(e,-7)}function zc(e,t){const n=Z4(e);let s;if(n.date){const g=q4(n.date,2);s=$4(g.restDateString,g.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const a=s.getTime();let c=0,f;if(n.time&&(c=eS(n.time),isNaN(c)))return new Date(NaN);if(n.timezone){if(f=tS(n.timezone),isNaN(f))return new Date(NaN)}else{const g=new Date(a+c),w=new Date(0);return w.setFullYear(g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate()),w.setHours(g.getUTCHours(),g.getUTCMinutes(),g.getUTCSeconds(),g.getUTCMilliseconds()),w}return new Date(a+c+f)}const Il={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Y4=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,X4=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,J4=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Z4(e){const t={},r=e.split(Il.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Il.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Il.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const s=Il.timezone.exec(n);s?(t.time=n.replace(s[1],""),t.timezone=s[1]):t.time=n}return t}function q4(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?s:a*100,restDateString:e.slice((n[1]||n[2]).length)}}function $4(e,t){if(t===null)return new Date(NaN);const r=e.match(Y4);if(!r)return new Date(NaN);const n=!!r[4],s=Qa(r[1]),a=Qa(r[2])-1,c=Qa(r[3]),f=Qa(r[4]),g=Qa(r[5])-1;if(n)return iS(t,f,g)?rS(t,f,g):new Date(NaN);{const w=new Date(0);return!AS(t,a,c)||!sS(t,s)?new Date(NaN):(w.setUTCFullYear(t,a,Math.max(s,c)),w)}}function Qa(e){return e?parseInt(e):1}function eS(e){const t=e.match(X4);if(!t)return NaN;const r=Rd(t[1]),n=Rd(t[2]),s=Rd(t[3]);return aS(r,n,s)?r*xB+n*mB+s*1e3:NaN}function Rd(e){return e&&parseFloat(e.replace(",","."))||0}function tS(e){if(e==="Z")return 0;const t=e.match(J4);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return oS(n,s)?r*(n*xB+s*mB):NaN}function rS(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const s=n.getUTCDay()||7,a=(t-1)*7+r+1-s;return n.setUTCDate(n.getUTCDate()+a),n}const nS=[31,null,31,30,31,30,31,31,30,31,30,31];function bB(e){return e%400===0||e%4===0&&e%100!==0}function AS(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(nS[t]||(bB(e)?29:28))}function sS(e,t){return t>=1&&t<=(bB(e)?366:365)}function iS(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function aS(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function oS(e,t){return t>=0&&t<=59}function Fu(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function lS(e,t,r,n){function s(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function f(B){try{w(n.next(B))}catch(x){c(x)}}function g(B){try{w(n.throw(B))}catch(x){c(x)}}function w(B){B.done?a(B.value):s(B.value).then(f,g)}w((n=n.apply(e,t||[])).next())})}const cS=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class J0 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class uS extends J0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class rp extends J0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class np extends J0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var hf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(hf||(hf={}));class dS{constructor(t,{headers:r={},customFetch:n,region:s=hf.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=cS(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return lS(this,arguments,void 0,function*(r,n={}){var s;let a,c;try{const{headers:f,method:g,body:w,signal:B,timeout:x}=n;let v={},{region:E}=n;E||(E=this.region);const b=new URL(`${this.url}/${r}`);E&&E!=="any"&&(v["x-region"]=E,b.searchParams.set("forceFunctionRegion",E));let S;w&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&w instanceof Blob||w instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",S=w):typeof w=="string"?(v["Content-Type"]="text/plain",S=w):typeof FormData<"u"&&w instanceof FormData?S=w:(v["Content-Type"]="application/json",S=JSON.stringify(w)):w&&typeof w!="string"&&!(typeof Blob<"u"&&w instanceof Blob)&&!(w instanceof ArrayBuffer)&&!(typeof FormData<"u"&&w instanceof FormData)?S=JSON.stringify(w):S=w;let R=B;x&&(c=new AbortController,a=setTimeout(()=>c.abort(),x),B?(R=c.signal,B.addEventListener("abort",()=>c.abort())):R=c.signal);const T=yield this.fetch(b.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),f),body:S,signal:R}).catch(H=>{throw new uS(H)}),I=T.headers.get("x-relay-error");if(I&&I==="true")throw new rp(T);if(!T.ok)throw new np(T);let U=((s=T.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),k;return U==="application/json"?k=yield T.json():U==="application/octet-stream"||U==="application/pdf"?k=yield T.blob():U==="text/event-stream"?k=T:U==="multipart/form-data"?k=yield T.formData():k=yield T.text(),{data:k,error:null,response:T}}catch(f){return{data:null,error:f,response:f instanceof np||f instanceof rp?f.context:void 0}}finally{a&&clearTimeout(a)}})}}var hS=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},fS=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let c=null,f=null,g=null,w=a.status,B=a.statusText;if(a.ok){var x,v;if(r.method!=="HEAD"){var E;const T=await a.text();T===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((E=r.headers.get("Accept"))===null||E===void 0)&&E.includes("application/vnd.pgrst.plan+text"))?f=T:f=JSON.parse(T))}const S=(x=r.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),R=(v=a.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");S&&R&&R.length>1&&(g=parseInt(R[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(f)&&(f.length>1?(c={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,g=null,w=406,B="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{var b;const S=await a.text();try{c=JSON.parse(S),Array.isArray(c)&&a.status===404&&(f=[],c=null,w=200,B="OK")}catch{a.status===404&&S===""?(w=204,B="No Content"):c={message:S}}if(c&&r.isMaybeSingle&&(!(c==null||(b=c.details)===null||b===void 0)&&b.includes("0 rows"))&&(c=null,w=200,B="OK"),c&&r.shouldThrowOnError)throw new hS(c)}return{error:c,data:f,count:g,status:w,statusText:B}});return this.shouldThrowOnError||(s=s.catch(a=>{var c;let f="";const g=a==null?void 0:a.cause;if(g){var w,B,x,v;const b=(w=g==null?void 0:g.message)!==null&&w!==void 0?w:"",S=(B=g==null?void 0:g.code)!==null&&B!==void 0?B:"";f=`${(x=a==null?void 0:a.name)!==null&&x!==void 0?x:"FetchError"}: ${a==null?void 0:a.message}`,f+=`

Caused by: ${(v=g==null?void 0:g.name)!==null&&v!==void 0?v:"Error"}: ${b}`,S&&(f+=` (${S})`),g!=null&&g.stack&&(f+=`
${g.stack}`)}else{var E;f=(E=a==null?void 0:a.stack)!==null&&E!==void 0?E:""}return{error:{message:`${(c=a==null?void 0:a.name)!==null&&c!==void 0?c:"FetchError"}: ${a==null?void 0:a.message}`,details:f,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},gS=class extends fS{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const a=s?`${s}.order`:"order",c=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${c?`${c},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:a="text"}={}){var c;const f=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),g=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${g}"; options=${f};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Ap=new RegExp("[,()]");var xi=class extends gS{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Ap.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Ap.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},pS=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let a=!1;const c=(e??"*").split("").map(w=>/\s/.test(w)&&!a?"":(w==='"'&&(a=!a),w)).join(""),{url:f,headers:g}=this.cloneRequestState();return f.searchParams.set("select",c),n&&g.append("Prefer",`count=${n}`),new xi({method:s,url:f,headers:g,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST",{url:a,headers:c}=this.cloneRequestState();if(t&&c.append("Prefer",`count=${t}`),r||c.append("Prefer","missing=default"),Array.isArray(e)){const f=e.reduce((g,w)=>g.concat(Object.keys(w)),[]);if(f.length>0){const g=[...new Set(f)].map(w=>`"${w}"`);a.searchParams.set("columns",g.join(","))}}return new xi({method:s,url:a,headers:c,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var a;const c="POST",{url:f,headers:g}=this.cloneRequestState();if(g.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&f.searchParams.set("on_conflict",t),n&&g.append("Prefer",`count=${n}`),s||g.append("Prefer","missing=default"),Array.isArray(e)){const w=e.reduce((B,x)=>B.concat(Object.keys(x)),[]);if(w.length>0){const B=[...new Set(w)].map(x=>`"${x}"`);f.searchParams.set("columns",B.join(","))}}return new xi({method:c,url:f,headers:g,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:s,headers:a}=this.cloneRequestState();return t&&a.append("Prefer",`count=${t}`),new xi({method:n,url:s,headers:a,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new xi({method:r,url:n,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},wS=class EB{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new pS(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new EB(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:a}={}){var c;let f;const g=new URL(`${this.url}/rpc/${t}`);let w;const B=E=>E!==null&&typeof E=="object"&&(!Array.isArray(E)||E.some(B)),x=n&&Object.values(r).some(B);x?(f="POST",w=r):n||s?(f=n?"HEAD":"GET",Object.entries(r).filter(([E,b])=>b!==void 0).map(([E,b])=>[E,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([E,b])=>{g.searchParams.append(E,b)})):(f="POST",w=r);const v=new Headers(this.headers);return x?v.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&v.set("Prefer",`count=${a}`),new xi({method:f,url:g,headers:v,schema:this.schemaName,body:w,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};class mS{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,a=parseInt(s.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const xS="2.90.1",BS=`realtime-js/${xS}`,SB="1.0.0",yS="2.0.0",sp=SB,ff=1e4,CS=1e3,vS=100;var DA;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(DA||(DA={}));var $t;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})($t||($t={}));var kn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(kn||(kn={}));var gf;(function(e){e.websocket="websocket"})(gf||(gf={}));var Ns;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ns||(Ns={}));class bS{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},c=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(t,r,n){var s,a;const c=t.topic,f=(s=t.ref)!==null&&s!==void 0?s:"",g=(a=t.join_ref)!==null&&a!==void 0?a:"",w=t.payload.event,B=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},x=Object.keys(B).length===0?"":JSON.stringify(B);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`userEvent length ${w.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`metadata length ${x.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+f.length+c.length+w.length+x.length,E=new ArrayBuffer(this.HEADER_LENGTH+v);let b=new DataView(E),S=0;b.setUint8(S++,this.KINDS.userBroadcastPush),b.setUint8(S++,g.length),b.setUint8(S++,f.length),b.setUint8(S++,c.length),b.setUint8(S++,w.length),b.setUint8(S++,x.length),b.setUint8(S++,r),Array.from(g,T=>b.setUint8(S++,T.charCodeAt(0))),Array.from(f,T=>b.setUint8(S++,T.charCodeAt(0))),Array.from(c,T=>b.setUint8(S++,T.charCodeAt(0))),Array.from(w,T=>b.setUint8(S++,T.charCodeAt(0))),Array.from(x,T=>b.setUint8(S++,T.charCodeAt(0)));var R=new Uint8Array(E.byteLength+n.byteLength);return R.set(new Uint8Array(E),0),R.set(new Uint8Array(n),E.byteLength),R.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,a,c,f,g]=n;return r({join_ref:s,ref:a,topic:c,event:f,payload:g})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),a=r.getUint8(2),c=r.getUint8(3),f=r.getUint8(4);let g=this.HEADER_LENGTH+4;const w=n.decode(t.slice(g,g+s));g=g+s;const B=n.decode(t.slice(g,g+a));g=g+a;const x=n.decode(t.slice(g,g+c));g=g+c;const v=t.slice(g,t.byteLength),E=f===this.JSON_ENCODING?JSON.parse(n.decode(v)):v,b={type:this.BROADCAST_EVENT,event:B,payload:E};return c>0&&(b.meta=JSON.parse(x)),{join_ref:null,ref:null,topic:w,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}let IB=class{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var gt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(gt||(gt={}));const ip=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,c)=>(a[c]=ES(c,e,t,s),a),{}):{}},ES=(e,t,r,n)=>{const s=t.find(f=>f.name===e),a=s==null?void 0:s.type,c=r[e];return a&&!n.includes(a)?FB(a,c):pf(c)},FB=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return NS(t,r)}switch(e){case gt.bool:return SS(t);case gt.float4:case gt.float8:case gt.int2:case gt.int4:case gt.int8:case gt.numeric:case gt.oid:return IS(t);case gt.json:case gt.jsonb:return FS(t);case gt.timestamp:return TS(t);case gt.abstime:case gt.date:case gt.daterange:case gt.int4range:case gt.int8range:case gt.money:case gt.reltime:case gt.text:case gt.time:case gt.timestamptz:case gt.timetz:case gt.tsrange:case gt.tstzrange:return pf(t);default:return pf(t)}},pf=e=>e,SS=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},IS=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},FS=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},NS=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const c=e.slice(1,r);try{a=JSON.parse("["+c+"]")}catch{a=c?c.split(","):[]}return a.map(f=>FB(t,f))}return e},TS=e=>typeof e=="string"?e.replace(" ","T"):e,NB=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Md{constructor(t,r,n={},s=ff){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ap;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ap||(ap={}));class oo{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:c,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=oo.syncState(this.state,s,a,c),this.pendingDiffs.forEach(g=>{this.state=oo.syncDiff(this.state,g,a,c)}),this.pendingDiffs=[],f()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:c,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=oo.syncDiff(this.state,s,a,c),f())}),this.onJoin((s,a,c)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:c})}),this.onLeave((s,a,c)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const a=this.cloneDeep(t),c=this.transformState(r),f={},g={};return this.map(a,(w,B)=>{c[w]||(g[w]=B)}),this.map(c,(w,B)=>{const x=a[w];if(x){const v=B.map(R=>R.presence_ref),E=x.map(R=>R.presence_ref),b=B.filter(R=>E.indexOf(R.presence_ref)<0),S=x.filter(R=>v.indexOf(R.presence_ref)<0);b.length>0&&(f[w]=b),S.length>0&&(g[w]=S)}else f[w]=B}),this.syncDiff(a,{joins:f,leaves:g},n,s)}static syncDiff(t,r,n,s){const{joins:a,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(f,g)=>{var w;const B=(w=t[f])!==null&&w!==void 0?w:[];if(t[f]=this.cloneDeep(g),B.length>0){const x=t[f].map(E=>E.presence_ref),v=B.filter(E=>x.indexOf(E.presence_ref)<0);t[f].unshift(...v)}n(f,B,g)}),this.map(c,(f,g)=>{let w=t[f];if(!w)return;const B=g.map(x=>x.presence_ref);w=w.filter(x=>B.indexOf(x.presence_ref)<0),t[f]=w,s(f,w,g),w.length===0&&delete t[f]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var op;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(op||(op={}));var lo;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(lo||(lo={}));var aA;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(aA||(aA={}));class Di{constructor(t,r={config:{}},n){var s,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=$t.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Md(this,kn.join,this.params,this.timeout),this.rejoinTimer=new IB(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=$t.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=$t.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=$t.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=$t.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=$t.errored,this.rejoinTimer.scheduleTimeout())}),this._on(kn.reply,{},(c,f)=>{this._trigger(this._replyEventName(f),c)}),this.presence=new oo(this),this.broadcastEndpointURL=NB(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==$t.closed){const{config:{broadcast:c,presence:f,private:g}}=this.params,w=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(E=>E.filter))!==null&&s!==void 0?s:[],B=!!this.bindings[lo.PRESENCE]&&this.bindings[lo.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,x={},v={broadcast:c,presence:Object.assign(Object.assign({},f),{enabled:B}),postgres_changes:w,private:g};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(E=>t==null?void 0:t(aA.CHANNEL_ERROR,E)),this._onClose(()=>t==null?void 0:t(aA.CLOSED)),this.updateJoinPayload(Object.assign({config:v},x)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:E})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),E===void 0){t==null||t(aA.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,R=(b=S==null?void 0:S.length)!==null&&b!==void 0?b:0,T=[];for(let I=0;I<R;I++){const U=S[I],{filter:{event:k,schema:H,table:M,filter:L}}=U,X=E&&E[I];if(X&&X.event===k&&Di.isFilterValueEqual(X.schema,H)&&Di.isFilterValueEqual(X.table,M)&&Di.isFilterValueEqual(X.filter,L))T.push(Object.assign(Object.assign({},U),{id:X.id}));else{this.unsubscribe(),this.state=$t.errored,t==null||t(aA.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,t&&t(aA.SUBSCRIBED);return}}).receive("error",E=>{this.state=$t.errored,t==null||t(aA.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(aA.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===$t.joined&&t===lo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(f.status===202)return{success:!0};let g=f.statusText;try{const w=await f.json();g=w.error||w.message||g}catch{}return Promise.reject(new Error(g))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:c}=t,f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const g={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:c,private:this.private}]})};try{const w=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=w.body)===null||s===void 0?void 0:s.cancel()),w.ok?"ok":"error"}catch(w){return w.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var c,f,g;const w=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((g=(f=(c=this.params)===null||c===void 0?void 0:c.config)===null||f===void 0?void 0:f.broadcast)===null||g===void 0)&&g.ack)&&a("ok"),w.receive("ok",()=>a("ok")),w.receive("error",()=>a("error")),w.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=$t.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(kn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Md(this,kn.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=$t.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),c=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),c}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Md(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>vS){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,a;const c=t.toLocaleLowerCase(),{close:f,error:g,leave:w,join:B}=kn;if(n&&[f,g,w,B].indexOf(c)>=0&&n!==this._joinRef())return;let v=this._onMessage(c,r,n);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(E=>{var b,S,R;return((b=E.filter)===null||b===void 0?void 0:b.event)==="*"||((R=(S=E.filter)===null||S===void 0?void 0:S.event)===null||R===void 0?void 0:R.toLocaleLowerCase())===c}).map(E=>E.callback(v,n)):(a=this.bindings[c])===null||a===void 0||a.filter(E=>{var b,S,R,T,I,U,k,H;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in E){const M=E.id,L=(b=E.filter)===null||b===void 0?void 0:b.event;return M&&((S=r.ids)===null||S===void 0?void 0:S.includes(M))&&(L==="*"||(L==null?void 0:L.toLocaleLowerCase())===((R=r.data)===null||R===void 0?void 0:R.type.toLocaleLowerCase()))&&(!(!((T=E.filter)===null||T===void 0)&&T.table)||E.filter.table===((I=r.data)===null||I===void 0?void 0:I.table))}else{const M=(k=(U=E==null?void 0:E.filter)===null||U===void 0?void 0:U.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return M==="*"||M===((H=r==null?void 0:r.event)===null||H===void 0?void 0:H.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===c}).map(E=>{if(typeof v=="object"&&"ids"in v){const b=v.data,{schema:S,table:R,commit_timestamp:T,type:I,errors:U}=b;v=Object.assign(Object.assign({},{schema:S,table:R,commit_timestamp:T,eventType:I,new:{},old:{},errors:U}),this._getPayloadRecords(b))}E.callback(v,n)})}_isClosed(){return this.state===$t.closed}_isJoined(){return this.state===$t.joined}_isJoining(){return this.state===$t.joining}_isLeaving(){return this.state===$t.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),a={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Di.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(kn.close,{},t)}_onError(t){this._on(kn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=$t.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=ip(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=ip(t.columns,t.old_record)),r}}const Ld=()=>{},Fl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},US=[1e3,2e3,5e3,1e4],_S=1e4,kS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class QS{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ff,this.transport=null,this.heartbeatIntervalMs=Fl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ld,this.ref=0,this.reconnectTimer=null,this.vsn=sp,this.logger=Ld,this.conn=null,this.sendBuffer=[],this.serializer=new bS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${gf.websocket}`,this.httpEndpoint=NB(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=mS.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case DA.connecting:return Ns.Connecting;case DA.open:return Ns.Open;case DA.closing:return Ns.Closing;default:return Ns.Closed}}isConnected(){return this.connectionState()===Ns.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===n);if(s)return s;{const a=new Di(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:s,ref:a}=t,c=()=>{this.encode(t,f=>{var g;(g=this.conn)===null||g===void 0||g.send(f)})};this.log("push",`${r} ${n} (${a})`,s),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(CS,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Fl.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const w=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",w)}catch(B){this.log("error","error in heartbeat callback",B)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:a,ref:c}=r,f=c?`(${c})`:"",g=a.status||"";this.log("receive",`${g} ${n} ${s} ${f}`.trim(),a),this.channels.filter(w=>w._isMember(n)).forEach(w=>w._trigger(s,a,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===DA.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===DA.open||this.conn.readyState===DA.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(kn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([kS],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const a={access_token:r,version:BS};r&&s.updateJoinPayload(a),s.joinedOnce&&s._isJoined()&&s._push(kn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new IB(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Fl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,a,c,f,g,w,B,x,v,E;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:ff,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Fl.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(c=t==null?void 0:t.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(f=t==null?void 0:t.heartbeatCallback)!==null&&f!==void 0?f:Ld,this.vsn=(g=t==null?void 0:t.vsn)!==null&&g!==void 0?g:sp,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(w=t==null?void 0:t.reconnectAfterMs)!==null&&w!==void 0?w:b=>US[b-1]||_S,this.vsn){case SB:this.encode=(B=t==null?void 0:t.encode)!==null&&B!==void 0?B:(b,S)=>S(JSON.stringify(b)),this.decode=(x=t==null?void 0:t.decode)!==null&&x!==void 0?x:(b,S)=>S(JSON.parse(b));break;case yS:this.encode=(v=t==null?void 0:t.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(E=t==null?void 0:t.decode)!==null&&E!==void 0?E:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Do=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function OS(e,t,r){const n=new URL(t,e);if(r)for(const[s,a]of Object.entries(r))a!==void 0&&n.searchParams.set(s,a);return n.toString()}async function DS(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function RS(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:a,headers:c}){const f=OS(e.baseUrl,n,s),g=await DS(e.auth),w=await t(f,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...g,...c},body:a?JSON.stringify(a):void 0}),B=await w.text(),x=(w.headers.get("content-type")||"").includes("application/json"),v=x&&B?JSON.parse(B):B;if(!w.ok){const E=x?v:void 0,b=E==null?void 0:E.error;throw new Do((b==null?void 0:b.message)??`Request failed with status ${w.status}`,{status:w.status,icebergType:b==null?void 0:b.type,icebergCode:b==null?void 0:b.code,details:E})}return{status:w.status,headers:w.headers,data:v}}}}function Nl(e){return e.join("")}var MS=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Nl(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Nl(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Nl(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Nl(e.namespace)}`}),!0}catch(t){if(t instanceof Do&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Do&&r.status===409)return;throw r}}};function ai(e){return e.join("")}var LS=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ai(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ai(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ai(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ai(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ai(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ai(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Do&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Do&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},jS=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=RS({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new MS(this.client,t),this.tableOps=new LS(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Nu=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Nt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var HS=class extends Nu{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},wf=class extends Nu{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const Z0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),PS=()=>Response,mf=e=>{if(Array.isArray(e))return e.map(r=>mf(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=mf(n)}),t},KS=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},VS=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Ro(e){"@babel/helpers - typeof";return Ro=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ro(e)}function GS(e,t){if(Ro(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ro(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zS(e){var t=GS(e,"string");return Ro(t)=="symbol"?t:t+""}function WS(e,t,r){return(t=zS(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Re(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lp(Object(r),!0).forEach(function(n){WS(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const jd=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},YS=async(e,t,r)=>{e instanceof await PS()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const s=e.status||500,a=(n==null?void 0:n.statusCode)||s+"";t(new HS(jd(n),s,a))}).catch(n=>{t(new wf(jd(n),n))}):t(new wf(jd(e),e))},XS=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(KS(n)?(s.headers=Re({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Re(Re({},s),r))};async function Zo(e,t,r,n,s,a){return new Promise((c,f)=>{e(r,XS(t,n,s,a)).then(g=>{if(!g.ok)throw g;return n!=null&&n.noResolveJson?g:g.json()}).then(g=>c(g)).catch(g=>YS(g,f,n))})}async function Mo(e,t,r,n){return Zo(e,"GET",t,r,n)}async function Un(e,t,r,n,s){return Zo(e,"POST",t,n,s,r)}async function xf(e,t,r,n,s){return Zo(e,"PUT",t,n,s,r)}async function JS(e,t,r,n){return Zo(e,"HEAD",t,Re(Re({},r),{},{noResolveJson:!0}),n)}async function q0(e,t,r,n,s){return Zo(e,"DELETE",t,n,s,r)}var ZS=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Nt(t))return{data:null,error:t};throw t}}};let TB;TB=Symbol.toStringTag;var qS=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[TB]="BlobDownloadBuilder",this.promise=null}asStream(){return new ZS(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Nt(t))return{data:null,error:t};throw t}}};const $S={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},cp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var eI=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=Z0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var s=this;try{let a;const c=Re(Re({},cp),n);let f=Re(Re({},s.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const g=c.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",c.cacheControl),g&&a.append("metadata",s.encodeMetadata(g)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",c.cacheControl),g&&!a.has("metadata")&&a.append("metadata",s.encodeMetadata(g))):(a=r,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType,g&&(f["x-metadata"]=s.toBase64(s.encodeMetadata(g))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!c.duplex&&(c.duplex="half")),n!=null&&n.headers&&(f=Re(Re({},f),n.headers));const w=s._removeEmptyFolders(t),B=s._getFinalPath(w),x=await(e=="PUT"?xf:Un)(s.fetch,`${s.url}/object/${B}`,a,Re({headers:f},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{data:{path:w,id:x.Id,fullPath:x.Key},error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(Nt(a))return{data:null,error:a};throw a}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const a=s._removeEmptyFolders(e),c=s._getFinalPath(a),f=new URL(s.url+`/object/upload/sign/${c}`);f.searchParams.set("token",t);try{let g;const w=Re({upsert:cp.upsert},n),B=Re(Re({},s.headers),{"x-upsert":String(w.upsert)});return typeof Blob<"u"&&r instanceof Blob?(g=new FormData,g.append("cacheControl",w.cacheControl),g.append("",r)):typeof FormData<"u"&&r instanceof FormData?(g=r,g.append("cacheControl",w.cacheControl)):(g=r,B["cache-control"]=`max-age=${w.cacheControl}`,B["content-type"]=w.contentType),{data:{path:a,fullPath:(await xf(s.fetch,f.toString(),g,{headers:B})).Key},error:null}}catch(g){if(s.shouldThrowOnError)throw g;if(Nt(g))return{data:null,error:g};throw g}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const s=Re({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const a=await Un(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),c=new URL(r.url+a.url),f=c.searchParams.get("token");if(!f)throw new Nu("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:f},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Nt(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await Un(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Nt(s))return{data:null,error:s};throw s}}async copy(e,t,r){var n=this;try{return{data:{path:(await Un(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Nt(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,r){var n=this;try{let s=n._getFinalPath(e),a=await Un(n.fetch,`${n.url}/object/sign/${s}`,Re({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const c=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${n.url}${a.signedURL}${c}`)},{data:a,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Nt(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,r){var n=this;try{const s=await Un(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(c=>Re(Re({},c),{},{signedUrl:c.signedURL?encodeURI(`${n.url}${c.signedURL}${a}`):null})),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Nt(s))return{data:null,error:s};throw s}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=n?`?${n}`:"",a=this._getFinalPath(e),c=()=>Mo(this.fetch,`${this.url}/${r}/${a}${s}`,{headers:this.headers,noResolveJson:!0});return new qS(c,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:mf(await Mo(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Nt(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await JS(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Nt(n)&&n instanceof wf){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});c!==""&&n.push(c);let f=n.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${f}`)}}}async remove(e){var t=this;try{return{data:await q0(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const s=Re(Re(Re({},$S),t),{},{prefix:e||""});return{data:await Un(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Nt(s))return{data:null,error:s};throw s}}async listV2(e,t){var r=this;try{const n=Re({},e);return{data:await Un(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Nt(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const UB="2.90.1",_B={"X-Client-Info":`storage-js/${UB}`};var tI=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Re(Re({},_B),t),this.fetch=Z0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await Mo(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Mo(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await Un(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Nt(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await xf(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Nt(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await Un(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await q0(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},rI=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Re(Re({},_B),t),this.fetch=Z0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Un(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await Mo(t.fetch,s,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await q0(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Nt(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!VS(e))throw new Nu("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new jS({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,a){const c=s[a];return typeof c!="function"?c:async(...f)=>{try{return{data:await c.apply(s,f),error:null}}catch(g){if(n)throw g;return{data:null,error:g}}}}})}};const $0={"X-Client-Info":`storage-js/${UB}`,"Content-Type":"application/json"};var kB=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function en(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Hd=class extends kB{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},nI=class extends kB{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const eg=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),AI=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},up=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),sI=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,s=e;if(typeof s.json=="function")s.json().then(a=>{const c=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||n+"";t(new Hd(up(a),n,c))}).catch(()=>{const a=n+"";t(new Hd(s.statusText||`HTTP ${n} error`,n,a))});else{const a=n+"";t(new Hd(s.statusText||`HTTP ${n} error`,n,a))}}else t(new nI(up(e),e))},iI=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(AI(n)?(s.headers=Re({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Re(Re({},s),r)):s};async function aI(e,t,r,n,s,a){return new Promise((c,f)=>{e(r,iI(t,n,s,a)).then(g=>{if(!g.ok)throw g;if(n!=null&&n.noResolveJson)return g;const w=g.headers.get("content-type");return!w||!w.includes("application/json")?{}:g.json()}).then(g=>c(g)).catch(g=>sI(g,f,n))})}async function tn(e,t,r,n,s){return aI(e,"POST",t,n,s,r)}var oI=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Re(Re({},$0),t),this.fetch=eg(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await tn(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(en(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await tn(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await tn(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(en(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await tn(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}},lI=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Re(Re({},$0),t),this.fetch=eg(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await tn(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(en(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await tn(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(en(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await tn(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(en(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await tn(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(en(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await tn(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(en(r))return{data:null,error:r};throw r}}},cI=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Re(Re({},$0),t),this.fetch=eg(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await tn(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(en(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await tn(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(en(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await tn(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(en(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await tn(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(en(r))return{data:null,error:r};throw r}}},uI=class extends cI{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new dI(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},dI=class extends oI{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,Re(Re({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,Re(Re({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new hI(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},hI=class extends lI{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,Re(Re({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,Re(Re({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,Re(Re({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,Re(Re({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,Re(Re({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},fI=class extends tI{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new eI(this.url,this.headers,e,this.fetch)}get vectors(){return new uI(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new rI(this.url+"/iceberg",this.headers,this.fetch)}};const QB="2.90.1",Bi=30*1e3,Bf=3,Pd=Bf*Bi,gI="http://localhost:9999",pI="supabase.auth.token",wI={"X-Client-Info":`gotrue-js/${QB}`},yf="X-Supabase-Api-Version",OB={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},mI=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,xI=10*60*1e3;class Lo extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ue(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class BI extends Lo{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function yI(e){return Ue(e)&&e.name==="AuthApiError"}class Ts extends Lo{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class CA extends Lo{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Xr extends CA{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function CI(e){return Ue(e)&&e.name==="AuthSessionMissingError"}class oi extends CA{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Tl extends CA{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ul extends CA{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function vI(e){return Ue(e)&&e.name==="AuthImplicitGrantRedirectError"}class dp extends CA{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class bI extends CA{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Cf extends CA{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Kd(e){return Ue(e)&&e.name==="AuthRetryableFetchError"}class hp extends CA{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class vf extends CA{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Wc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),fp=` 	
\r=`.split(""),EI=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<fp.length;t+=1)e[fp[t].charCodeAt(0)]=-2;for(let t=0;t<Wc.length;t+=1)e[Wc[t].charCodeAt(0)]=t;return e})();function gp(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Wc[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Wc[n]),t.queuedBits-=6}}function DB(e,t,r){const n=EI[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function pp(e){const t=[],r=c=>{t.push(String.fromCodePoint(c))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=c=>{FI(c,n,r)};for(let c=0;c<e.length;c+=1)DB(e.charCodeAt(c),s,a);return t.join("")}function SI(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function II(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}SI(n,t)}}function FI(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Gi(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)DB(e.charCodeAt(s),r,n);return new Uint8Array(t)}function NI(e){const t=[];return II(e,r=>t.push(r)),new Uint8Array(t)}function Os(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>gp(s,r,n)),gp(null,r,n),t.join("")}function TI(e){return Math.round(Date.now()/1e3)+e}function UI(){return Symbol("auth-callback")}const dr=()=>typeof window<"u"&&typeof document<"u",Cs={tested:!1,writable:!1},RB=()=>{if(!dr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Cs.tested)return Cs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Cs.tested=!0,Cs.writable=!0}catch{Cs.tested=!0,Cs.writable=!1}return Cs.writable};function _I(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const MB=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),kI=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",yi=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},vs=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ur=async(e,t)=>{await e.removeItem(t)};class Tu{constructor(){this.promise=new Tu.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Tu.promiseConstructor=Promise;function Vd(e){const t=e.split(".");if(t.length!==3)throw new vf("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!mI.test(t[n]))throw new vf("JWT not in base64url format");return{header:JSON.parse(pp(t[0])),payload:JSON.parse(pp(t[1])),signature:Gi(t[2]),raw:{header:t[0],payload:t[1]}}}async function QI(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function OI(e,t){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const c=await e(a);if(!t(a,null,c)){n(c);return}}catch(c){if(!t(a,c)){s(c);return}}})()})}function DI(e){return("0"+e.toString(16)).substr(-2)}function RI(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,DI).join("")}async function MI(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function LI(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await MI(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function li(e,t,r=!1){const n=RI();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await yi(e,`${t}-code-verifier`,s);const a=await LI(n);return[a,n===a?"plain":"s256"]}const jI=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function HI(e){const t=e.headers.get(yf);if(!t||!t.match(jI))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function PI(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function KI(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const VI=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ci(e){if(!VI.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Gd(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function GI(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function wp(e){return JSON.parse(JSON.stringify(e))}const Fs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),zI=[502,503,504];async function mp(e){var t;if(!kI(e))throw new Cf(Fs(e),0);if(zI.includes(e.status))throw new Cf(Fs(e),e.status);let r;try{r=await e.json()}catch(a){throw new Ts(Fs(a),a)}let n;const s=HI(e);if(s&&s.getTime()>=OB["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new hp(Fs(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Xr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,c)=>a&&typeof c=="string",!0))throw new hp(Fs(r),e.status,r.weak_password.reasons);throw new BI(Fs(r),e.status||500,n)}const WI=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function De(e,t,r,n){var s;const a=Object.assign({},n==null?void 0:n.headers);a[yf]||(a[yf]=OB["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const c=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(c.redirect_to=n.redirectTo);const f=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",g=await YI(e,t,r+f,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(g):{data:Object.assign({},g),error:null}}async function YI(e,t,r,n,s,a){const c=WI(t,n,s,a);let f;try{f=await e(r,Object.assign({},c))}catch(g){throw console.error(g),new Cf(Fs(g),0)}if(f.ok||await mp(f),n!=null&&n.noResolveJson)return f;try{return await f.json()}catch(g){await mp(g)}}function Fn(e){var t;let r=null;ZI(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=TI(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function xp(e){const t=Fn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function HA(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function XI(e){return{data:e,error:null}}function JI(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=e,c=Fu(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},g=Object.assign({},c);return{data:{properties:f,user:g},error:null}}function Bp(e){return e}function ZI(e){return e.access_token&&e.refresh_token&&e.expires_in}const zd=["global","local","others"];class qI{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=MB(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=zd[0]){if(zd.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${zd.join(", ")}`);try{return await De(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await De(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:HA})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Fu(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await De(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:JI,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ue(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await De(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:HA})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,a,c,f,g;try{const w={nextPage:null,lastPage:0,total:0},B=await De(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Bp});if(B.error)throw B.error;const x=await B.json(),v=(c=B.headers.get("x-total-count"))!==null&&c!==void 0?c:0,E=(g=(f=B.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&g!==void 0?g:[];return E.length>0&&(E.forEach(b=>{const S=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(b.split(";")[1].split("=")[1]);w[`${R}Page`]=S}),w.total=parseInt(v)),{data:Object.assign(Object.assign({},x),w),error:null}}catch(w){if(Ue(w))return{data:{users:[]},error:w};throw w}}async getUserById(t){ci(t);try{return await De(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:HA})}catch(r){if(Ue(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){ci(t);try{return await De(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:HA})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){ci(t);try{return await De(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:HA})}catch(n){if(Ue(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){ci(t.userId);try{const{data:r,error:n}=await De(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _deleteFactor(t){ci(t.userId),ci(t.id);try{return{data:await De(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,a,c,f,g;try{const w={nextPage:null,lastPage:0,total:0},B=await De(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Bp});if(B.error)throw B.error;const x=await B.json(),v=(c=B.headers.get("x-total-count"))!==null&&c!==void 0?c:0,E=(g=(f=B.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&g!==void 0?g:[];return E.length>0&&(E.forEach(b=>{const S=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(b.split(";")[1].split("=")[1]);w[`${R}Page`]=S}),w.total=parseInt(v)),{data:Object.assign(Object.assign({},x),w),error:null}}catch(w){if(Ue(w))return{data:{clients:[]},error:w};throw w}}async _createOAuthClient(t){try{return await De(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await De(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await De(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ue(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await De(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ue(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await De(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ue(r))return{data:null,error:r};throw r}}}function yp(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const ui={debug:!!(globalThis&&RB()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class LB extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class $I extends LB{}async function e3(e,t,r){ui.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ui.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){ui.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{ui.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw ui.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new $I(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ui.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function t3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function jB(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function r3(e){return parseInt(e,16)}function n3(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function A3(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:a=new Date,nonce:c,notBefore:f,requestId:g,resources:w,scheme:B,uri:x,version:v}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const E=jB(e.address),b=B?`${B}://${n}`:n,S=e.statement?`${e.statement}
`:"",R=`${b} wants you to sign in with your Ethereum account:
${E}

${S}`;let T=`URI: ${x}
Version: ${v}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${a.toISOString()}`;if(s&&(T+=`
Expiration Time: ${s.toISOString()}`),f&&(T+=`
Not Before: ${f.toISOString()}`),g&&(T+=`
Request ID: ${g}`),w){let I=`
Resources:`;for(const U of w){if(!U||typeof U!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${U}`);I+=`
- ${U}`}T+=I}return`${R}
${T}`}class zt extends Error{constructor({message:t,code:r,cause:n,name:s}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=s??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class Yc extends zt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function s3({error:e,options:t}){var r,n,s;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new zt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new zt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new zt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new zt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new zt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new zt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new zt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new zt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const c=window.location.hostname;if(HB(c)){if(a.rp.id!==c)return new zt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new zt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new zt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new zt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new zt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function i3({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new zt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new zt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(HB(n)){if(r.rpId!==n)return new zt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new zt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new zt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new zt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class a3{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const o3=new a3;function l3(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=Fu(e,["challenge","user","excludeCredentials"]),a=Gi(t).buffer,c=Object.assign(Object.assign({},r),{id:Gi(r.id).buffer}),f=Object.assign(Object.assign({},s),{challenge:a,user:c});if(n&&n.length>0){f.excludeCredentials=new Array(n.length);for(let g=0;g<n.length;g++){const w=n[g];f.excludeCredentials[g]=Object.assign(Object.assign({},w),{id:Gi(w.id).buffer,type:w.type||"public-key",transports:w.transports})}}return f}function c3(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Fu(e,["challenge","allowCredentials"]),s=Gi(t).buffer,a=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const f=r[c];a.allowCredentials[c]=Object.assign(Object.assign({},f),{id:Gi(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return a}function u3(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Os(new Uint8Array(e.response.attestationObject)),clientDataJSON:Os(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function d3(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Os(new Uint8Array(s.authenticatorData)),clientDataJSON:Os(new Uint8Array(s.clientDataJSON)),signature:Os(new Uint8Array(s.signature)),userHandle:s.userHandle?Os(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function HB(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Cp(){var e,t;return!!(dr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function h3(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Yc("Browser returned unexpected credential type",t)}:{data:null,error:new Yc("Empty credential response",t)}}catch(t){return{data:null,error:s3({error:t,options:e})}}}async function f3(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Yc("Browser returned unexpected credential type",t)}:{data:null,error:new Yc("Empty credential response",t)}}catch(t){return{data:null,error:i3({error:t,options:e})}}}const g3={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},p3={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Xc(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const a in s){const c=s[a];if(c!==void 0)if(Array.isArray(c))n[a]=c;else if(r(c))n[a]=c;else if(t(c)){const f=n[a];t(f)?n[a]=Xc(f,c):n[a]=Xc(c)}else n[a]=c}return n}function w3(e,t){return Xc(g3,e,t||{})}function m3(e,t){return Xc(p3,e,t||{})}class x3{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},a){try{const{data:c,error:f}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!c)return{data:null,error:f};const g=s??o3.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:w}=c.webauthn.credential_options.publicKey;w.name||(w.name=`${w.id}:${n}`),w.displayName||(w.displayName=w.name)}switch(c.webauthn.type){case"create":{const w=w3(c.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:B,error:x}=await h3({publicKey:w,signal:g});return B?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:B}},error:null}:{data:null,error:x}}case"request":{const w=m3(c.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:B,error:x}=await f3(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:w,signal:g}));return B?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:B}},error:null}:{data:null,error:x}}}}catch(c){return Ue(c)?{data:null,error:c}:{data:null,error:new Ts("Unexpected error in challenge",c)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},a){if(!r)return{data:null,error:new Lo("rpId is required for WebAuthn authentication")};try{if(!Cp())return{data:null,error:new Ts("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:a});if(!c)return{data:null,error:f};const{webauthn:g}=c;return this._verify({factorId:t,challengeId:c.challengeId,webauthn:{type:g.type,rpId:r,rpOrigins:n,credential_response:g.credential_response}})}catch(c){return Ue(c)?{data:null,error:c}:{data:null,error:new Ts("Unexpected error in authenticate",c)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},a){if(!r)return{data:null,error:new Lo("rpId is required for WebAuthn registration")};try{if(!Cp())return{data:null,error:new Ts("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this._enroll({friendlyName:t});if(!c)return await this.client.mfa.listFactors().then(B=>{var x;return(x=B.data)===null||x===void 0?void 0:x.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(B=>B?this.client.mfa.unenroll({factorId:B==null?void 0:B.id}):void 0),{data:null,error:f};const{data:g,error:w}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:a});return g?this._verify({factorId:c.id,challengeId:g.challengeId,webauthn:{rpId:r,rpOrigins:n,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:w}}catch(c){return Ue(c)?{data:null,error:c}:{data:null,error:new Ts("Unexpected error in register",c)}}}}t3();const B3={url:gI,storageKey:pI,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:wI,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function vp(e,t,r){return await r()}const di={};class jo{get jwks(){var t,r;return(r=(t=di[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){di[this.storageKey]=Object.assign(Object.assign({},di[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=di[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){di[this.storageKey]=Object.assign(Object.assign({},di[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},B3),t);if(this.storageKey=a.storageKey,this.instanceID=(r=jo.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,jo.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&dr()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new qI({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=MB(a.fetch),this.lock=a.lock||vp,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&dr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=e3:this.lock=vp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new x3(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:RB()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=yp(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=yp(this.memoryStorage)),dr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${QB}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(dr()&&(r=_I(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),dr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),vI(a)){const g=(t=a.details)===null||t===void 0?void 0:t.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:c,redirectType:f}=s;return this._debug("#_initialize()","detected session in URL",c,"redirect type",f),await this._saveSession(c),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ue(r)?this._returnResult({error:r}):this._returnResult({error:new Ts("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const a=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Fn}),{data:c,error:f}=a;if(f||!c)return this._returnResult({data:{user:null,session:null},error:f});const g=c.session,w=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:w,session:g},error:null})}catch(a){if(Ue(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var r,n,s;try{let a;if("email"in t){const{email:B,password:x,options:v}=t;let E=null,b=null;this.flowType==="pkce"&&([E,b]=await li(this.storage,this.storageKey)),a=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:B,password:x,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:E,code_challenge_method:b},xform:Fn})}else if("phone"in t){const{phone:B,password:x,options:v}=t;a=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:B,password:x,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},channel:(s=v==null?void 0:v.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:Fn})}else throw new Tl("You must provide either an email or phone number and a password");const{data:c,error:f}=a;if(f||!c)return await ur(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const g=c.session,w=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:w,session:g},error:null})}catch(a){if(await ur(this.storage,`${this.storageKey}-code-verifier`),Ue(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:c,options:f}=t;r=await De(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:c,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:xp})}else if("phone"in t){const{phone:a,password:c,options:f}=t;r=await De(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:c,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:xp})}else throw new Tl("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const a=new oi;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,a,c,f,g,w,B,x,v;let E,b;if("message"in t)E=t.message,b=t.signature;else{const{chain:S,wallet:R,statement:T,options:I}=t;let U;if(dr())if(typeof R=="object")U=R;else{const G=window;if("ethereum"in G&&typeof G.ethereum=="object"&&"request"in G.ethereum&&typeof G.ethereum.request=="function")U=G.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!(I!=null&&I.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=R}const k=new URL((r=I==null?void 0:I.url)!==null&&r!==void 0?r:window.location.href),H=await U.request({method:"eth_requestAccounts"}).then(G=>G).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!H||H.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const M=jB(H[0]);let L=(n=I==null?void 0:I.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!L){const G=await U.request({method:"eth_chainId"});L=r3(G)}const X={domain:k.host,address:M,statement:T,uri:k.href,version:"1",chainId:L,nonce:(s=I==null?void 0:I.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(c=(a=I==null?void 0:I.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(f=I==null?void 0:I.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(g=I==null?void 0:I.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(w=I==null?void 0:I.signInWithEthereum)===null||w===void 0?void 0:w.requestId,resources:(B=I==null?void 0:I.signInWithEthereum)===null||B===void 0?void 0:B.resources};E=A3(X),b=await U.request({method:"personal_sign",params:[n3(E),M]})}try{const{data:S,error:R}=await De(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:E,signature:b},!((x=t.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Fn});if(R)throw R;if(!S||!S.session||!S.user){const T=new oi;return this._returnResult({data:{user:null,session:null},error:T})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:R})}catch(S){if(Ue(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(t){var r,n,s,a,c,f,g,w,B,x,v,E;let b,S;if("message"in t)b=t.message,S=t.signature;else{const{chain:R,wallet:T,statement:I,options:U}=t;let k;if(dr())if(typeof T=="object")k=T;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))k=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(U!=null&&U.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=T}const H=new URL((r=U==null?void 0:U.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in k&&k.signIn){const M=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},U==null?void 0:U.signInWithSolana),{version:"1",domain:H.host,uri:H.href}),I?{statement:I}:null));let L;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")L=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)L=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in L&&"signature"in L&&(typeof L.signedMessage=="string"||L.signedMessage instanceof Uint8Array)&&L.signature instanceof Uint8Array)b=typeof L.signedMessage=="string"?L.signedMessage:new TextDecoder().decode(L.signedMessage),S=L.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${H.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...I?["",I,""]:[""],"Version: 1",`URI: ${H.href}`,`Issued At: ${(s=(n=U==null?void 0:U.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=U==null?void 0:U.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${U.signInWithSolana.notBefore}`]:[],...!((c=U==null?void 0:U.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${U.signInWithSolana.expirationTime}`]:[],...!((f=U==null?void 0:U.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${U.signInWithSolana.chainId}`]:[],...!((g=U==null?void 0:U.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${U.signInWithSolana.nonce}`]:[],...!((w=U==null?void 0:U.signInWithSolana)===null||w===void 0)&&w.requestId?[`Request ID: ${U.signInWithSolana.requestId}`]:[],...!((x=(B=U==null?void 0:U.signInWithSolana)===null||B===void 0?void 0:B.resources)===null||x===void 0)&&x.length?["Resources",...U.signInWithSolana.resources.map(L=>`- ${L}`)]:[]].join(`
`);const M=await k.signMessage(new TextEncoder().encode(b),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=M}}try{const{data:R,error:T}=await De(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Os(S)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(E=t.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:Fn});if(T)throw T;if(!R||!R.session||!R.user){const I=new oi;return this._returnResult({data:{user:null,session:null},error:I})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:T})}catch(R){if(Ue(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async _exchangeCodeForSession(t){const r=await vs(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new bI;const{data:a,error:c}=await De(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Fn});if(await ur(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!a||!a.session||!a.user){const f=new oi;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:c})}catch(a){if(await ur(this.storage,`${this.storageKey}-code-verifier`),Ue(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:a,nonce:c}=t,f=await De(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:c,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Fn}),{data:g,error:w}=f;if(w)return this._returnResult({data:{user:null,session:null},error:w});if(!g||!g.session||!g.user){const B=new oi;return this._returnResult({data:{user:null,session:null},error:B})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:w})}catch(r){if(Ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,a,c;try{if("email"in t){const{email:f,options:g}=t;let w=null,B=null;this.flowType==="pkce"&&([w,B]=await li(this.storage,this.storageKey));const{error:x}=await De(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},create_user:(n=g==null?void 0:g.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:w,code_challenge_method:B},redirectTo:g==null?void 0:g.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:x})}if("phone"in t){const{phone:f,options:g}=t,{data:w,error:B}=await De(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(s=g==null?void 0:g.data)!==null&&s!==void 0?s:{},create_user:(a=g==null?void 0:g.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(c=g==null?void 0:g.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:w==null?void 0:w.message_id},error:B})}throw new Tl("You must provide either an email or phone number.")}catch(f){if(await ur(this.storage,`${this.storageKey}-code-verifier`),Ue(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(t){var r,n;try{let s,a;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:c,error:f}=await De(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:Fn});if(f)throw f;if(!c)throw new Error("An error occurred on token verification.");const g=c.session,w=c.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:w,session:g},error:null})}catch(s){if(Ue(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,a,c;try{let f=null,g=null;this.flowType==="pkce"&&([f,g]=await li(this.storage,this.storageKey));const w=await De(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:g}),headers:this.headers,xform:XI});return!((a=w.data)===null||a===void 0)&&a.url&&dr()&&!(!((c=t.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(w.data.url),this._returnResult(w)}catch(f){if(await ur(this.storage,`${this.storageKey}-code-verifier`),Ue(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Xr;const{error:s}=await De(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(Ue(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:a}=t,{error:c}=await De(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in t){const{phone:n,type:s,options:a}=t,{data:c,error:f}=await De(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:f})}throw new Tl("You must provide either an email or phone number and a type")}catch(r){if(Ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await vs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Pd:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const c=await vs(this.userStorage,this.storageKey+"-user");c!=null&&c.user?t.user=c.user:t.user=Gd()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};t.user=GI(t.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await De(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:HA}):await this._useSession(async r=>{var n,s,a;const{data:c,error:f}=r;if(f)throw f;return!(!((n=c.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Xr}:await De(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=c.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:HA})})}catch(r){if(Ue(r))return CI(r)&&(await this._removeSession(),await ur(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new Xr;const c=s.session;let f=null,g=null;this.flowType==="pkce"&&t.email!=null&&([f,g]=await li(this.storage,this.storageKey));const{data:w,error:B}=await De(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:f,code_challenge_method:g}),jwt:c.access_token,xform:HA});if(B)throw B;return c.user=w.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(n){if(await ur(this.storage,`${this.storageKey}-code-verifier`),Ue(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Xr;const r=Date.now()/1e3;let n=r,s=!0,a=null;const{payload:c}=Vd(t.access_token);if(c.exp&&(n=c.exp,s=n<=r),s){const{data:f,error:g}=await this._callRefreshToken(t.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!f)return{data:{user:null,session:null},error:null};a=f}else{const{data:f,error:g}=await this._getUser(t.access_token);if(g)throw g;a={access_token:t.access_token,refresh_token:t.refresh_token,user:f.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(Ue(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:c,error:f}=r;if(f)throw f;t=(n=c.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Xr;const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!dr())throw new Ul("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ul(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new dp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ul("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new dp("No code detected.");const{data:I,error:U}=await this._exchangeCodeForSession(t.code);if(U)throw U;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:I.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:a,refresh_token:c,expires_in:f,expires_at:g,token_type:w}=t;if(!a||!f||!c||!w)throw new Ul("No session defined in URL");const B=Math.round(Date.now()/1e3),x=parseInt(f);let v=B+x;g&&(v=parseInt(g));const E=v-B;E*1e3<=Bi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${x}s`);const b=v-x;B-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,v,B):B-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,v,B);const{data:S,error:R}=await this._getUser(a);if(R)throw R;const T={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:x,expires_at:v,refresh_token:c,token_type:w,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:T,redirectType:t.type},error:null})}catch(n){if(Ue(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await vs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return this._returnResult({error:a});const c=(n=s.session)===null||n===void 0?void 0:n.access_token;if(c){const{error:f}=await this.admin.signOut(c,t);if(f&&!(yI(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return t!=="others"&&(await this._removeSession(),await ur(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=UI(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:a},error:c}=r;if(c)throw c;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await li(this.storage,this.storageKey,!0));try{return await De(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await ur(this.storage,`${this.storageKey}-code-verifier`),Ue(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async a=>{var c,f,g,w,B;const{data:x,error:v}=a;if(v)throw v;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(f=t.options)===null||f===void 0?void 0:f.scopes,queryParams:(g=t.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await De(this.fetch,"GET",E,{headers:this.headers,jwt:(B=(w=x.session)===null||w===void 0?void 0:w.access_token)!==null&&B!==void 0?B:void 0})});if(s)throw s;return dr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Ue(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:a}}=r;if(s)throw s;const{options:c,provider:f,token:g,access_token:w,nonce:B}=t,x=await De(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:f,id_token:g,access_token:w,nonce:B,link_identity:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Fn}),{data:v,error:E}=x;return E?this._returnResult({data:{user:null,session:null},error:E}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new oi}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:E}))}catch(s){if(await ur(this.storage,`${this.storageKey}-code-verifier`),Ue(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:c}=r;if(c)throw c;return await De(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await OI(async s=>(s>0&&await QI(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await De(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Fn})),(s,a)=>{const c=200*Math.pow(2,s);return a&&Kd(a)&&Date.now()+c-n<Bi})}catch(n){if(this._debug(r,"error",n),Ue(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),dr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await vs(this.storage,this.storageKey);if(s&&this.userStorage){let c=await vs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:s.user},await yi(this.userStorage,this.storageKey+"-user",c)),s.user=(t=c==null?void 0:c.user)!==null&&t!==void 0?t:Gd()}else if(s&&!s.user&&!s.user){const c=await vs(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(s.user=c.user,await ur(this.storage,this.storageKey+"-user"),await yi(this.storage,this.storageKey,s)):s.user=Gd()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const a=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Pd;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Pd}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:c}=await this._callRefreshToken(s.refresh_token);c&&(console.error(c),Kd(c)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:f}=await this._getUser(s.access_token);!f&&(c!=null&&c.user)?(s.user=c.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(n,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Xr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Tu;const{data:a,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!a.session)throw new Xr;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const f={data:a.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(a){if(this._debug(s,"error",a),Ue(a)){const c={data:null,error:a};return Kd(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],c=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(t,r)}catch(g){a.push(g)}});if(await Promise.all(c),a.length>0){for(let f=0;f<a.length;f+=1)console.error(a[f]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await ur(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await yi(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const a=wp(s);await yi(this.storage,this.storageKey,a)}else{const s=wp(r);await yi(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ur(this.storage,this.storageKey),await ur(this.storage,this.storageKey+"-code-verifier"),await ur(this.storage,this.storageKey+"-user"),this.userStorage&&await ur(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&dr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Bi);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Bi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Bi}ms, refresh threshold is ${Bf} ticks`),s<=Bf&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof LB)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!dr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,c]=await li(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(c)}`});s.push(f.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?this._returnResult({data:null,error:a}):await De(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:c}=r;if(c)return this._returnResult({data:null,error:c});const f=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:g,error:w}=await De(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return w?this._returnResult({data:null,error:w}):(t.factorType==="totp"&&g.type==="totp"&&(!((s=g==null?void 0:g.totp)===null||s===void 0)&&s.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const c=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?u3(t.webauthn.credential_response):d3(t.webauthn.credential_response)})}:{code:t.code}),{data:f,error:g}=await De(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:c,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:g}))})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const c=await De(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(c.error)return c;const{data:f}=c;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:l3(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:c3(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(a),a.status==="verified"&&s[a.factor_type].push(a);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Vd(n.access_token);let c=null;a.aal&&(c=a.aal);let f=c;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(B=>B.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(f="aal2");const w=a.amr||[];return{data:{currentLevel:c,nextLevel:f,currentAuthenticationMethods:w},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await De(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Xr})})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new Xr});const c=await De(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&dr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new Xr});const c=await De(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&dr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await De(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Xr})})}catch(t){if(Ue(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await De(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Xr})})}catch(r){if(Ue(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(f=>f.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(f=>f.kid===t),n&&this.jwks_cached_at+xI>s)return n;const{data:a,error:c}=await De(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,n=a.keys.find(f=>f.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:E,error:b}=await this.getSession();if(b||!E.session)return this._returnResult({data:null,error:b});n=E.session.access_token}const{header:s,payload:a,signature:c,raw:{header:f,payload:g}}=Vd(n);r!=null&&r.allowExpired||PI(a.exp);const w=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!w){const{error:E}=await this.getUser(n);if(E)throw E;return{data:{claims:a,header:s,signature:c},error:null}}const B=KI(s.alg),x=await crypto.subtle.importKey("jwk",w,B,!0,["verify"]);if(!await crypto.subtle.verify(B,x,c,NI(`${f}.${g}`)))throw new vf("Invalid JWT signature");return{data:{claims:a,header:s,signature:c},error:null}}catch(n){if(Ue(n))return this._returnResult({data:null,error:n});throw n}}}jo.nextInstanceID={};const y3=jo,C3="2.90.1";let Ka="";typeof Deno<"u"?Ka="deno":typeof document<"u"?Ka="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ka="react-native":Ka="node";const v3={"X-Client-Info":`supabase-js-${Ka}/${C3}`},b3={headers:v3},E3={schema:"public"},S3={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},I3={};function Ho(e){"@babel/helpers - typeof";return Ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ho(e)}function F3(e,t){if(Ho(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ho(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N3(e){var t=F3(e,"string");return Ho(t)=="symbol"?t:t+""}function T3(e,t,r){return(t=N3(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bp(Object(r),!0).forEach(function(n){T3(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const U3=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),_3=()=>Headers,k3=(e,t,r)=>{const n=U3(r),s=_3();return async(a,c)=>{var f;const g=(f=await t())!==null&&f!==void 0?f:e;let w=new s(c==null?void 0:c.headers);return w.has("apikey")||w.set("apikey",e),w.has("Authorization")||w.set("Authorization",`Bearer ${g}`),n(a,Mt(Mt({},c),{},{headers:w}))}};function Q3(e){return e.endsWith("/")?e:e+"/"}function O3(e,t){var r,n;const{db:s,auth:a,realtime:c,global:f}=e,{db:g,auth:w,realtime:B,global:x}=t,v={db:Mt(Mt({},g),s),auth:Mt(Mt({},w),a),realtime:Mt(Mt({},B),c),storage:{},global:Mt(Mt(Mt({},x),f),{},{headers:Mt(Mt({},(r=x==null?void 0:x.headers)!==null&&r!==void 0?r:{}),(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}function D3(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Q3(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var R3=class extends y3{constructor(e){super(e)}},M3=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const a=D3(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const c=`sb-${a.hostname.split(".")[0]}-auth-token`,f={db:E3,realtime:I3,auth:Mt(Mt({},S3),{},{storageKey:c}),global:b3},g=O3(r??{},f);if(this.storageKey=(n=g.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=g.global.headers)!==null&&s!==void 0?s:{},g.accessToken)this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(B,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}});else{var w;this.auth=this._initSupabaseAuthClient((w=g.auth)!==null&&w!==void 0?w:{},this.headers,g.global.fetch)}this.fetch=k3(t,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Mt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&this.accessToken().then(B=>this.realtime.setAuth(B)).catch(B=>console.warn("Failed to set initial Realtime auth token:",B)),this.rest=new wS(new URL("rest/v1",a).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new fI(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new dS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:a,flowType:c,lock:f,debug:g,throwOnError:w},B,x){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new R3({url:this.authUrl.href,headers:Mt(Mt({},v),B),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:c,lock:f,debug:g,throwOnError:w,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(E=>E.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new QS(this.realtimeUrl.href,Mt(Mt({},e),{},{params:Mt(Mt({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const L3=(e,t,r)=>new M3(e,t,r);function j3(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}j3()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const H3="https://pxucfzdcofbehgvxvlmb.supabase.co",P3="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InB4dWNmemRjb2ZiZWhndnh2bG1iIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjgxMzYzMzMsImV4cCI6MjA4MzcxMjMzM30.o_RlijwzpAIoPxpj10znmMtVB9BLZqbZLiDnBuRDcOw";let tt=null;tt=L3(H3,P3);const PB=async e=>{if(!tt)return!1;try{const t=localStorage.getItem("book-tracker-data-v3");if(!t)return!0;const r=JSON.parse(t);if(!Array.isArray(r)||r.length===0)return!0;console.log("Found local data. Starting sync...",r.length,"books");const{data:n,error:s}=await tt.from("books").select("id, title, author").eq("user_id",e);s&&console.error("Error fetching existing books:",s);const a=new Set((n==null?void 0:n.map(B=>B.id))||[]),c=r.filter(B=>{const x=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(B.id);return x&&a.has(B.id)?!1:!x});if(c.length===0)return!0;console.log(`Syncing ${c.length} offline books...`);const f=c.map(B=>{const x={user_id:e,title:B.title||"Untitled",author:B.author||null,cover:B.cover||null,status:B.status||"want-to-read",progress:parseInt(B.progress)||0,total_pages:B.totalPages?parseInt(B.totalPages):null,total_chapters:B.totalChapters?parseInt(B.totalChapters):null,rating:parseFloat(B.rating)||0,spice_rating:parseFloat(B.spiceRating)||0,is_owned:!!B.isOwned,is_favorite:!!B.isFavorite,to_buy:!!(B.toBuy||B.isWantToBuy),price:B.price?parseFloat(B.price):null,review:B.review||null,format:B.format||null,genres:Array.isArray(B.genres)?B.genres:[],added_at:B.addedAt||new Date().toISOString(),started_at:B.startedAt||null,finished_at:B.finishedAt||null,paused_at:B.pausedAt||null,dnf_at:B.dnfAt||null};return Object.keys(x).forEach(v=>{x[v]===void 0&&(x[v]=null)}),x}),{data:g,error:w}=await tt.from("books").insert(f).select();if(w)throw console.error("Error syncing books:",w),console.error("Error details:",{message:w.message,details:w.details,hint:w.hint,code:w.code}),console.log("Sample book data that failed:",f[0]),w;return console.log("Successfully synced books to Supabase:",g.length),!0}catch(t){return console.error("Sync failed:",t),!1}},K3=Object.freeze(Object.defineProperty({__proto__:null,syncLocalDataToSupabase:PB},Symbol.toStringTag,{value:"Module"})),KB=z.createContext(),ua=()=>z.useContext(KB),V3=({children:e})=>{const[t,r]=z.useState(null),[n,s]=z.useState(null),[a,c]=z.useState(!0),[f,g]=z.useState(!1);z.useEffect(()=>{if(!tt){c(!1);return}tt.auth.getSession().then(({data:{session:E}})=>{s(E),r((E==null?void 0:E.user)??null),c(!1)});const{data:{subscription:v}}=tt.auth.onAuthStateChange(async(E,b)=>{s(b),r((b==null?void 0:b.user)??null),c(!1),E==="SIGNED_IN"?(g(!1),b!=null&&b.user&&await PB(b.user.id)):E==="SIGNED_OUT"&&g(!0)});return()=>v.unsubscribe()},[]);const w=async(v,E)=>{if(!tt)throw new Error("Supabase not configured");const{data:b,error:S}=await tt.auth.signUp({email:v,password:E});if(S)throw S;return b},B=async(v,E)=>{if(!tt)throw new Error("Supabase not configured");const{data:b,error:S}=await tt.auth.signInWithPassword({email:v,password:E});if(S)throw S;return b},x=async()=>{if(!tt)return;const{error:v}=await tt.auth.signOut();if(v)throw v};return h.jsx(KB.Provider,{value:{user:t,session:n,loading:a,isOfflineMode:f,signUp:w,signIn:B,signOut:x},children:e})},bf=e=>{if(!e)return 0;if(e.status==="read")return 100;if(e.status==="want-to-read")return 0;const t=e.progress||0;return e.totalPages>0?Math.round(t/e.totalPages*100):e.totalChapters>0?Math.round(t/e.totalChapters*100):Math.min(Number(t)||0,100)},G3=(e,t="default")=>{let r=0;for(let a=0;a<e.length;a++)r=e.charCodeAt(a)+((r<<5)-r);if(t==="cozy-lofi"){const a=["bg-[#8FBC8F]","bg-[#D8BFD8]","bg-[#778899]","bg-[#CD5C5C]"],c=Math.abs(r)%a.length;return a[c]}if(t==="paper-ink"){const a=["bg-[#FFFFFF]","bg-[#E5E5E5]","bg-[#D4D4D4]","bg-[#F5F5F5]"],c=Math.abs(r)%a.length;return a[c]}const n=["bg-red-400","bg-orange-400","bg-amber-400","bg-yellow-400","bg-lime-400","bg-green-400","bg-emerald-400","bg-teal-400","bg-cyan-400","bg-sky-400","bg-blue-400","bg-indigo-400","bg-violet-400","bg-purple-400","bg-fuchsia-400","bg-pink-400","bg-rose-400","bg-slate-400"],s=Math.abs(r)%n.length;return n[s]},z3=e=>{if(!e||e.length===0)return 1;let t=0,r=0;return e.forEach(n=>{t+=n.totalTimeRead||0,r+=n.totalTimedProgress||0}),t>=15&&r>0?parseFloat((r/t).toFixed(2)):1},VB=(e,t=1)=>{if(e&&e.totalTimeRead>=15&&e.totalTimedProgress>0){const r=e.totalTimedProgress/e.totalTimeRead;return parseFloat(r.toFixed(2))}return t>0?t:1},W3=(e,t=1)=>{if(!e)return 0;const n=(e.totalPages||e.totalChapters||0)-(e.progress||0);if(n<=0)return 0;const s=VB(e,t);return Math.round(n/s)},GB=z.createContext(),ln=()=>{const e=z.useContext(GB);if(!e)throw new Error("useBooks must be used within a BookProvider");return e};new Date().toISOString(),new Date().toISOString(),new Date().toISOString(),new Date().toISOString(),new Date().toISOString();const Y3=({children:e})=>{const{user:t,isOfflineMode:r}=ua(),[n,s]=z.useState([]),[a,c]=z.useState(!0),[f,g]=z.useState({yearly:15,monthly:2}),[w,B]=z.useState(null);z.useEffect(()=>{(async()=>{if(c(!0),t){const{data:V,error:W}=await tt.from("books").select("*").eq("user_id",t.id).order("added_at",{ascending:!1});if(W)console.error("Error fetching books:",W),console.error("Error details:",JSON.stringify(W,null,2));else if(V){const te=V.map(ee=>({...ee,userId:ee.user_id,totalPages:ee.total_pages,totalChapters:ee.total_chapters,spiceRating:ee.spice_rating,isOwned:ee.is_owned,isFavorite:ee.is_favorite,toBuy:ee.to_buy,addedAt:ee.added_at,startedAt:ee.started_at,finishedAt:ee.finished_at,pausedAt:ee.paused_at,dnfAt:ee.dnf_at,readingLogs:ee.reading_logs||[],notes:ee.notes||[]}));s(te)}}else if(r){const V=localStorage.getItem("book-tracker-data-v3"),W=localStorage.getItem("reading-goal");if(V&&s(JSON.parse(V)),W)try{const te=JSON.parse(W);g(typeof te=="object"?te:{yearly:12,monthly:1})}catch{}}else{const V=localStorage.getItem("book-tracker-data-v3"),W=localStorage.getItem("reading-goal");if(V&&s(JSON.parse(V)),W)try{const te=JSON.parse(W);g(typeof te=="object"?te:{yearly:12,monthly:1})}catch{}}c(!1)})()},[t,r]),z.useEffect(()=>{localStorage.setItem("book-tracker-data-v3",JSON.stringify(n)),localStorage.setItem("reading-goal",JSON.stringify(f)),w?localStorage.setItem("active-timer",JSON.stringify(w)):localStorage.removeItem("active-timer")},[n,f,w]);const x=async j=>{const V={...j,id:Date.now().toString(),addedAt:new Date().toISOString(),readingLogs:[],notes:[]};if(V.status==="read"&&(V.finishedAt||(V.finishedAt=new Date().toISOString()),V.totalPages?V.progress=V.totalPages:V.totalChapters?V.progress=V.totalChapters:V.progress=100),t){const W={user_id:t.id,title:V.title,author:V.author,cover:V.cover,status:V.status||"want-to-read",progress:V.progress||0,total_pages:V.totalPages||null,total_chapters:V.totalChapters||null,rating:V.rating||0,spice_rating:V.spiceRating||0,is_owned:V.isOwned||!1,is_favorite:V.isFavorite||!1,to_buy:V.toBuy||!1,price:V.price?parseFloat(V.price):null,review:V.review||null,format:V.format||null,genres:V.genres||[],added_at:V.addedAt,started_at:V.startedAt||null,finished_at:V.finishedAt||null},{data:te,error:ee}=await tt.from("books").insert([W]).select();if(ee){console.error("Error inserting book to Supabase:",ee),alert("Failed to save book: "+ee.message);return}if(te&&te[0])V.id=te[0].id,V.userId=t.id;else{console.error("No data returned from Supabase insert");return}}s(W=>[...W,V])},[v,E]=z.useState(null),b=()=>E(null),S=async(j,V)=>{if(V.status==="read"){const W=n.find(te=>te.id===j);if(W&&W.status!=="read"){const te={...W,...V};E(te)}}s(W=>W.map(te=>{if(te.id!==j)return te;const ee={...te,...V};return V.status==="read"&&te.status!=="read"&&(ee.finishedAt||(ee.finishedAt=new Date().toISOString()),ee.totalPages?ee.progress=ee.totalPages:ee.totalChapters?ee.progress=ee.totalChapters:ee.progress=100),V.status==="paused"&&te.status!=="paused"&&(ee.pausedAt=new Date().toISOString()),V.status==="dnf"&&te.status!=="dnf"&&(ee.dnfAt=new Date().toISOString()),t&&tt.from("books").update({status:ee.status,progress:ee.progress,rating:ee.rating,spice_rating:ee.spiceRating,is_favorite:ee.isFavorite,is_owned:ee.isOwned,finished_at:ee.finishedAt,paused_at:ee.pausedAt,dnf_at:ee.dnfAt,review:ee.review,cover:ee.cover,title:ee.title,author:ee.author,updated_at:new Date().toISOString()}).eq("id",j).eq("user_id",t.id).then(({error:le})=>{le&&console.error("Supabase update failed:",le)}),ee}))},R=async j=>{t&&await tt.from("books").delete().eq("id",j).eq("user_id",t.id),s(V=>V.filter(W=>W.id!==j))},T=async j=>{t&&await tt.from("books").delete().in("id",j).eq("user_id",t.id),s(V=>V.filter(W=>!j.includes(W.id)))},I=async(j,V)=>{const W=n.find(te=>te.id===j);if(W){const te=W.totalPages||W.totalChapters||100;V>=te&&W.status}s(te=>te.map(ee=>{var et;if(ee.id!==j)return ee;const le=new Date().toISOString(),Le=(et=ee.readingLogs)==null?void 0:et.findIndex(Xt=>Fr(zc(Xt.date),new Date));let we=[...ee.readingLogs||[]];return Le>=0?we[Le]={...we[Le],pagesRead:V}:we.push({date:le,pagesRead:V}),{...ee,readingLogs:we,progress:V}}))},U=j=>{B({bookId:j,startTime:new Date().toISOString()})},k=async(j,V,W=0)=>{const te=new Date,ee=w?new Date(w.startTime):te;t&&w&&await oe(j,Math.round(V),W,ee.toISOString(),te.toISOString()),s(le=>le.map(Le=>{if(Le.id!==j)return Le;const we=new Date().toISOString(),Ze=(Le.readingLogs||[]).findIndex(Xt=>Fr(zc(Xt.date),new Date));let et=[...Le.readingLogs||[]];return Ze>=0?et[Ze]={...et[Ze],minutesRead:(et[Ze].minutesRead||0)+V,pagesRead:Math.max(et[Ze].pagesRead||0,(Le.progress||0)+W)}:et.push({date:we,minutesRead:V,pagesRead:(Le.progress||0)+W}),{...Le,totalTimeRead:(Le.totalTimeRead||0)+V,totalTimedProgress:(Le.totalTimedProgress||0)+W,readingLogs:et,progress:Math.max(Le.progress||0,(Le.progress||0)+W)}})),B(null)},H=async(j,V)=>{s(W=>W.map(te=>{if(te.id!==j)return te;const ee={id:Date.now(),content:V,date:new Date().toISOString()};return{...te,notes:[...te.notes||[],ee]}}))},M=async(j,V)=>{s(W=>W.map(te=>te.id!==j?te:{...te,notes:(te.notes||[]).filter(ee=>ee.id!==V)}))},L=async()=>{if(!t)return alert("Please log in to sync to cloud"),{success:!1,message:"Not logged in"};try{const{syncLocalDataToSupabase:j}=await RE(async()=>{const{syncLocalDataToSupabase:W}=await Promise.resolve().then(()=>K3);return{syncLocalDataToSupabase:W}},void 0);if(await j(t.id)){const{data:W,error:te}=await tt.from("books").select("*").order("updated_at",{ascending:!1});if(!te&&W){const ee=W.map(le=>({...le,userId:le.user_id,totalPages:le.total_pages,totalChapters:le.total_chapters,isbn:le.isbn,spiceRating:le.spice_rating,isOwned:le.is_owned,isFavorite:le.is_favorite,toBuy:le.to_buy,addedAt:le.added_at,startedAt:le.started_at,finishedAt:le.finished_at,pausedAt:le.paused_at,dnfAt:le.dnf_at,readingLogs:[],notes:[]}));s(ee)}return{success:!0,message:"Sync completed successfully"}}return{success:!0,message:"No new data to sync"}}catch(j){return console.error("Sync failed:",j),{success:!1,message:"Sync failed: "+j.message}}},X=()=>{const j=new Set;n.forEach(we=>{var Ze;(Ze=we.readingLogs)==null||Ze.forEach(et=>{j.add(et.date.split("T")[0])})});const V=Array.from(j).sort().reverse();if(V.length===0)return 0;let W=0;const te=new Date().toISOString().split("T")[0],ee=new Date(Date.now()-864e5).toISOString().split("T")[0];let le=V[0];if(le!==te&&le!==ee)return 0;let Le=new Date(le);W=1;for(let we=1;we<V.length;we++){const Ze=new Date(V[we]);if(yB(Le,Ze)===1)W++,Le=Ze;else break}return W},G=()=>{const j=new Date,V=j.getFullYear(),W=j.getMonth(),te=n.filter(He=>He.status==="read"&&He.finishedAt&&new Date(He.finishedAt).getFullYear()===V),ee=te.length,le=te.filter(He=>new Date(He.finishedAt).getMonth()===W).length,Le=n.filter(He=>He.status==="read").length,we=n.filter(He=>{if(!He.addedAt)return!1;const Be=new Date(He.addedAt);return Be.getFullYear()===V&&Be.getMonth()===W}).length,Ze=n.filter(He=>{if(He.status!=="paused"||!He.pausedAt)return!1;const Be=new Date(He.pausedAt);return Be.getFullYear()===V&&Be.getMonth()===W}).length,et=n.filter(He=>He.status!=="paused"||!He.pausedAt?!1:new Date(He.pausedAt).getFullYear()===V).length,Xt=n.filter(He=>{if(He.status!=="dnf"||!He.dnfAt)return!1;const Be=new Date(He.dnfAt);return Be.getFullYear()===V&&Be.getMonth()===W}).length,mt=n.filter(He=>He.status!=="dnf"||!He.dnfAt?!1:new Date(He.dnfAt).getFullYear()===V).length,ze=te.filter(He=>He.rating>0).sort((He,Be)=>He.rating-Be.rating)[0];return{read:ee,readThisYear:ee,readThisMonth:le,totalRead:Le,reading:n.filter(He=>He.status==="reading").length,tbr:n.filter(He=>He.status==="want-to-read").length,paused:n.filter(He=>He.status==="paused").length,pausedThisYear:et,pausedThisMonth:Ze,dnf:n.filter(He=>He.status==="dnf").length,dnfThisYear:mt,dnfThisMonth:Xt,addedThisMonth:we,worstBook:ze,spent:n.reduce((He,Be)=>He+(Be.isOwned&&parseFloat(Be.price)||0),0)}},ce=()=>{const j={books:n,readingGoal:f,exportedAt:new Date().toISOString(),version:"v3"},V=JSON.stringify(j,null,2),W=new Blob([V],{type:"application/json"}),te=URL.createObjectURL(W),ee=document.createElement("a");ee.href=te,ee.download=`book-tracker-backup-${new Date().toISOString().split("T")[0]}.json`,ee.click(),URL.revokeObjectURL(te)},Ne=j=>new Promise(async(V,W)=>{const te=new FileReader;te.onload=async ee=>{try{const le=JSON.parse(ee.target.result);if(le.books&&Array.isArray(le.books)){if(t&&tt){const{error:Le}=await tt.from("books").delete().eq("user_id",t.id);if(Le){console.error("Error deleting existing books:",Le),W(new Error("Failed to clear existing books: "+Le.message));return}const we=le.books.map(ve=>({user_id:t.id,title:ve.title||"Untitled",author:ve.author||"Unknown Author",cover:ve.cover||null,status:ve.status||"want-to-read",progress:parseInt(ve.progress)||0,total_pages:parseInt(ve.totalPages)||null,total_chapters:parseInt(ve.totalChapters)||null,isbn:ve.isbn||null,rating:parseFloat(ve.rating)||0,spice_rating:parseFloat(ve.spiceRating)||0,is_owned:!!ve.isOwned,is_favorite:!!ve.isFavorite,to_buy:!!(ve.toBuy||ve.isWantToBuy),price:parseFloat(ve.price)||0,review:ve.review||null,format:ve.format||null,genres:Array.isArray(ve.genres)?ve.genres:[],added_at:ve.addedAt||new Date().toISOString(),started_at:ve.startedAt||null,finished_at:ve.finishedAt||null,paused_at:ve.pausedAt||null,dnf_at:ve.dnfAt||null})),{error:Ze}=await tt.from("books").insert(we);if(Ze){console.error("Error syncing imported books:",Ze),W(new Error("Import failed to sync to cloud: "+Ze.message));return}const{data:et,error:Xt}=await tt.from("books").select("*").order("updated_at",{ascending:!1});if(Xt){console.error("Error fetching imported books:",Xt),W(new Error("Import succeeded but failed to fetch: "+Xt.message));return}const mt=et.map(ve=>({...ve,userId:ve.user_id,totalPages:ve.total_pages,totalChapters:ve.total_chapters,isbn:ve.isbn,spiceRating:ve.spice_rating,isOwned:ve.is_owned,isFavorite:ve.is_favorite,toBuy:ve.to_buy,addedAt:ve.added_at,startedAt:ve.started_at,finishedAt:ve.finished_at,pausedAt:ve.paused_at,dnfAt:ve.dnf_at,readingLogs:[],notes:[]}));s(mt)}else s(le.books);le.readingGoal&&g(le.readingGoal),V({success:!0,bookCount:le.books.length})}else W(new Error("Invalid data format"))}catch(le){W(le)}},te.onerror=()=>W(new Error("Failed to read file")),te.readAsText(j)}),fe=(j,V,W=null)=>{const te=n.some(le=>le.id!==W&&le.title.toLowerCase().trim()===(j==null?void 0:j.toLowerCase().trim())),ee=V&&n.some(le=>le.id!==W&&le.isbn===V);return te||ee?{exists:!0,type:te?"Title":"ISBN"}:{exists:!1}},[me,Te]=z.useState(()=>{const j=localStorage.getItem("user-profile");return j?JSON.parse(j):{name:"",avatar:""}}),D=j=>{Te(V=>{const W={...V,...j};return localStorage.setItem("user-profile",JSON.stringify(W)),W})},oe=async(j,V,W,te,ee)=>{if(!t)return{success:!1,message:"User not logged in"};try{const{data:le,error:Le}=await tt.from("reading_sessions").insert({user_id:t.id,book_id:j,duration_minutes:V,pages_read:W,started_at:te,ended_at:ee}).select().single();if(Le)throw Le;return{success:!0,data:le}}catch(le){return console.error("Error creating reading session:",le),{success:!1,message:le.message}}},ge=async j=>{if(!t)return[];try{const{data:V,error:W}=await tt.from("reading_sessions").select("*").eq("book_id",j).order("started_at",{ascending:!1});if(W)throw W;return V||[]}catch(V){return console.error("Error fetching book sessions:",V),[]}},Ae=async(j,V)=>{if(!t)return[];try{let W=tt.from("reading_sessions").select("*").order("started_at",{ascending:!1});j&&(W=W.gte("started_at",j)),V&&(W=W.lte("started_at",V));const{data:te,error:ee}=await W;if(ee)throw ee;return te||[]}catch(W){return console.error("Error fetching user sessions:",W),[]}},xe=async(j,V,W=null,te=!0)=>{if(!t)return s(ee=>ee.map(le=>{if(le.id!==j)return le;const Le={id:Date.now().toString(),content:V,page:W,createdAt:new Date().toISOString()};return{...le,notes:[...le.notes||[],Le]}})),{success:!0};try{const{data:ee,error:le}=await tt.from("book_notes").insert({user_id:t.id,book_id:j,content:V,page_reference:W,is_private:te}).select().single();if(le)throw le;return s(Le=>Le.map(we=>we.id!==j?we:{...we,notes:[...we.notes||[],{id:ee.id,content:ee.content,page:ee.page_reference,createdAt:ee.created_at}]})),{success:!0,data:ee}}catch(ee){return console.error("Error adding note:",ee),{success:!1,message:ee.message}}},pe=async(j,V)=>{if(!t)return{success:!1,message:"User not logged in"};try{const{data:W,error:te}=await tt.from("book_notes").update({content:V.content,page_reference:V.pageReference,updated_at:new Date().toISOString()}).eq("id",j).select().single();if(te)throw te;return{success:!0,data:W}}catch(W){return console.error("Error updating note:",W),{success:!1,message:W.message}}},Me=async j=>{if(!t)return s(V=>V.map(W=>({...W,notes:(W.notes||[]).filter(te=>te.id!==j)}))),{success:!0};try{const{error:V}=await tt.from("book_notes").delete().eq("id",j);if(V)throw V;return s(W=>W.map(te=>({...te,notes:(te.notes||[]).filter(ee=>ee.id!==j)}))),{success:!0}}catch(V){return console.error("Error deleting note:",V),{success:!1,message:V.message}}},ie=async j=>{if(!t){const V=n.find(W=>W.id===j);return(V==null?void 0:V.notes)||[]}try{const{data:V,error:W}=await tt.from("book_notes").select("*").eq("book_id",j).order("created_at",{ascending:!1});if(W)throw W;return V||[]}catch(V){return console.error("Error fetching notes:",V),[]}},J=async(j,V=null,W=0,te=0)=>{if(!t)return g({yearly:W,monthly:V?W:f.monthly}),localStorage.setItem("reading-goal",JSON.stringify({yearly:W,monthly:V?W:f.monthly})),{success:!0};try{const{data:ee,error:le}=await tt.from("reading_goals").upsert({user_id:t.id,year:j,month:V,target_books:W,target_pages:te,updated_at:new Date().toISOString()},{onConflict:"user_id,year,month"}).select().single();if(le)throw le;return g(V?Le=>({...Le,monthly:W}):Le=>({...Le,yearly:W})),{success:!0,data:ee}}catch(ee){return console.error("Error setting reading goal:",ee),{success:!1,message:ee.message}}},ne=async(j,V=null)=>{if(!t)return null;try{let W=tt.from("reading_goals").select("*").eq("year",j);V?W=W.eq("month",V):W=W.is("month",null);const{data:te,error:ee}=await W.single();if(ee&&ee.code!=="PGRST116")throw ee;return te}catch(W){return console.error("Error fetching reading goal:",W),null}},Ie=async(j,V=null)=>{const W=await ne(j,V);if(!W)return null;const te=G(),ee=V?te.readThisMonth:te.readThisYear;return{target:W.target_books,current:ee,percentage:W.target_books>0?ee/W.target_books*100:0}};return h.jsx(GB.Provider,{value:{books:n,loading:a,addBook:x,updateBook:S,addNote:H,deleteNote:M,deleteBook:R,bulkDeleteBooks:T,getYearlyStats:G,getStreak:X,logReading:I,readingGoal:f,setReadingGoal:g,exportData:ce,importData:Ne,syncLocalToCloud:L,checkDuplicate:fe,userProfile:me,updateUserProfile:D,celebrationBook:v,closeCelebration:b,activeTimer:w,startTimer:U,stopTimer:k,globalSpeed:z3(n),createReadingSession:oe,getBookSessions:ge,getUserSessions:Ae,addBookNote:xe,updateBookNote:pe,deleteBookNote:Me,getBookNotes:ie,setReadingGoalDB:J,getReadingGoalDB:ne,getGoalProgress:Ie,readingBooks:n.filter(j=>j.status==="reading"),wantToReadBooks:n.filter(j=>j.status==="want-to-read"),ownedBooks:n.filter(j=>j.isOwned),toBuyBooks:n.filter(j=>j.toBuy||j.isWantToBuy)},children:e})},zB=z.createContext(),qo=()=>{const e=z.useContext(zB);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},X3=({children:e})=>{const[t,r]=z.useState(()=>{const c=localStorage.getItem("theme");return c||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}),[n,s]=z.useState(()=>localStorage.getItem("themePreset")||"default");z.useEffect(()=>{const c=window.document.documentElement;c.classList.remove("light","dark","default","cozy-lofi","paper-ink"),c.classList.add(t),c.classList.add(n),localStorage.setItem("theme",t),localStorage.setItem("themePreset",n)},[t,n]);const a=()=>{r(c=>c==="light"?"dark":"light")};return h.jsx(zB.Provider,{value:{theme:t,toggleTheme:a,themePreset:n,setThemePreset:s},children:e})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var J3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ke=(e,t)=>{const r=z.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:c,className:f="",children:g,...w},B)=>z.createElement("svg",{ref:B,...J3,width:s,height:s,stroke:n,strokeWidth:c?Number(a)*24/Number(s):a,className:["lucide",`lucide-${Z3(e)}`,f].join(" "),...w},[...t.map(([x,v])=>z.createElement(x,v)),...Array.isArray(g)?g:[g]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=ke("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uu=ke("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=ke("ArrowDownUp",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"m21 8-4-4-4 4",key:"1c9v7m"}],["path",{d:"M17 4v16",key:"7dpous"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=ke("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=ke("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=ke("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=ke("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=ke("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=ke("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=ke("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=ke("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=ke("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=ke("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=ke("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=ke("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZB=ke("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=ke("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=ke("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=ke("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=ke("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=ke("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=ke("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=ke("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $B=ke("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=ke("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=ke("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ip=ke("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=ke("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=ke("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=ke("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=ke("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=ke("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=ke("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=ke("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=ke("PauseCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wd=ke("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=ke("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=ke("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=ke("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=ke("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=ke("ScanBarcode",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M8 7v10",key:"23sfjj"}],["path",{d:"M12 7v10",key:"jspqdw"}],["path",{d:"M17 7v10",key:"578dap"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=ke("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=ke("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=ke("StarHalf",[["path",{d:"M12 17.8 5.8 21 7 14.1 2 9.3l7-1L12 2",key:"nare05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=ke("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=ke("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=ke("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=ke("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=ke("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=ke("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=ke("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=ke("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=ke("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=ke("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=ke("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=ke("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),wF=()=>{const e=[{to:"/",icon:h.jsx(sF,{size:24}),label:"Home"},{to:"/library",icon:h.jsx(ng,{size:24}),label:"Shelf"},{to:"/add",icon:h.jsx(cF,{size:32,className:"text-slate-900 dark:text-white"}),label:"Add",isSpecial:!0},{to:"/calendar",icon:h.jsx(JB,{size:24}),label:"Calendar"},{to:"/favorites",icon:h.jsx(As,{size:24}),label:"Favs"}];return h.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white/95 dark:bg-slate-950/95 backdrop-blur-lg border-t border-slate-100 dark:border-slate-800 pb-safe safe-area-inset-bottom z-50",children:h.jsx("div",{className:"flex justify-around items-center h-16 max-w-lg mx-auto px-2",children:e.map(t=>h.jsxs(UE,{to:t.to,className:({isActive:r})=>`
              flex flex-col items-center justify-center w-full h-full space-y-1
              ${r?"text-violet-600 dark:text-violet-400":"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300"}
              transition-colors duration-200
            `,children:[t.icon,h.jsx("span",{className:"text-[10px] font-medium",children:t.label})]},t.to))})})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Nf=function(e,t){return Nf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Nf(e,t)};function jn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Nf(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Tf=function(){return Tf=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Tf.apply(this,arguments)};function Nr(e,t,r,n){function s(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function f(B){try{w(n.next(B))}catch(x){c(x)}}function g(B){try{w(n.throw(B))}catch(x){c(x)}}function w(B){B.done?a(B.value):s(B.value).then(f,g)}w((n=n.apply(e,[])).next())})}function vr(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,s,a,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(w){return function(B){return g([w,B])}}function g(w){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(a=w[0]&2?s.return:w[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,w[1])).done)return a;switch(s=0,a&&(w=[w[0]&2,a.value]),w[0]){case 0:case 1:a=w;break;case 4:return r.label++,{value:w[1],done:!1};case 5:r.label++,s=w[1],w=[0];continue;case 7:w=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(w[0]===6||w[0]===2)){r=0;continue}if(w[0]===3&&(!a||w[1]>a[0]&&w[1]<a[3])){r.label=w[1];break}if(w[0]===6&&r.label<a[1]){r.label=a[1],a=w;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(w);break}a[2]&&r.ops.pop(),r.trys.pop();continue}w=t.call(e,r)}catch(B){w=[6,B],s=0}finally{n=a=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}}function _l(e,t,r){if(arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||t)}var xA=function(){function e(t,r,n,s){this.left=t,this.top=r,this.width=n,this.height=s}return e.prototype.add=function(t,r,n,s){return new e(this.left+t,this.top+r,this.width+n,this.height+s)},e.fromClientRect=function(t,r){return new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height)},e.fromDOMRectList=function(t,r){var n=Array.from(r).find(function(s){return s.width!==0});return n?new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),ku=function(e,t){return xA.fromClientRect(e,t.getBoundingClientRect())},mF=function(e){var t=e.body,r=e.documentElement;if(!t||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(t.scrollWidth,r.scrollWidth),Math.max(t.offsetWidth,r.offsetWidth),Math.max(t.clientWidth,r.clientWidth)),s=Math.max(Math.max(t.scrollHeight,r.scrollHeight),Math.max(t.offsetHeight,r.offsetHeight),Math.max(t.clientHeight,r.clientHeight));return new xA(0,0,n,s)},Qu=function(e){for(var t=[],r=0,n=e.length;r<n;){var s=e.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var a=e.charCodeAt(r++);(a&64512)===56320?t.push(((s&1023)<<10)+(a&1023)+65536):(t.push(s),r--)}else t.push(s)}return t},Vt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],s=-1,a="";++s<r;){var c=e[s];c<=65535?n.push(c):(c-=65536,n.push((c>>10)+55296,c%1024+56320)),(s+1===r||n.length>16384)&&(a+=String.fromCharCode.apply(String,n),n.length=0)}return a},Fp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xF=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var kl=0;kl<Fp.length;kl++)xF[Fp.charCodeAt(kl)]=kl;var Np="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",za=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ql=0;Ql<Np.length;Ql++)za[Np.charCodeAt(Ql)]=Ql;var BF=function(e){var t=e.length*.75,r=e.length,n,s=0,a,c,f,g;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var w=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),B=Array.isArray(w)?w:new Uint8Array(w);for(n=0;n<r;n+=4)a=za[e.charCodeAt(n)],c=za[e.charCodeAt(n+1)],f=za[e.charCodeAt(n+2)],g=za[e.charCodeAt(n+3)],B[s++]=a<<2|c>>4,B[s++]=(c&15)<<4|f>>2,B[s++]=(f&3)<<6|g&63;return w},yF=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},CF=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},Ls=5,sg=11,Yd=2,vF=sg-Ls,ly=65536>>Ls,bF=1<<Ls,Xd=bF-1,EF=1024>>Ls,SF=ly+EF,IF=SF,FF=32,NF=IF+FF,TF=65536>>sg,UF=1<<vF,_F=UF-1,Tp=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},kF=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},QF=function(e,t){var r=BF(e),n=Array.isArray(r)?CF(r):new Uint32Array(r),s=Array.isArray(r)?yF(r):new Uint16Array(r),a=24,c=Tp(s,a/2,n[4]/2),f=n[5]===2?Tp(s,(a+n[4])/2):kF(n,Math.ceil((a+n[4])/4));return new OF(n[0],n[1],n[2],n[3],c,f)},OF=function(){function e(t,r,n,s,a,c){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=a,this.data=c}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>Ls],r=(r<<Yd)+(t&Xd),this.data[r];if(t<=65535)return r=this.index[ly+(t-55296>>Ls)],r=(r<<Yd)+(t&Xd),this.data[r];if(t<this.highStart)return r=NF-TF+(t>>sg),r=this.index[r],r+=t>>Ls&_F,r=this.index[r],r=(r<<Yd)+(t&Xd),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),Up="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",DF=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ol=0;Ol<Up.length;Ol++)DF[Up.charCodeAt(Ol)]=Ol;var RF="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",_p=50,MF=1,cy=2,uy=3,LF=4,jF=5,kp=7,dy=8,Qp=9,GA=10,Uf=11,Op=12,_f=13,HF=14,Wa=15,kf=16,Dl=17,Oa=18,PF=19,Dp=20,Qf=21,Da=22,Jd=23,hi=24,Jr=25,Ya=26,Xa=27,fi=28,KF=29,Us=30,VF=31,Rl=32,Ml=33,Of=34,Df=35,Rf=36,Po=37,Mf=38,fc=39,gc=40,Zd=41,hy=42,GF=43,zF=[9001,65288],fy="!",Xe="",Ll="",Lf=QF(RF),AA=[Us,Rf],jf=[MF,cy,uy,jF],gy=[GA,dy],Rp=[Xa,Ya],WF=jf.concat(gy),Mp=[Mf,fc,gc,Of,Df],YF=[Wa,_f],XF=function(e,t){t===void 0&&(t="strict");var r=[],n=[],s=[];return e.forEach(function(a,c){var f=Lf.get(a);if(f>_p?(s.push(!0),f-=_p):s.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(a)!==-1)return n.push(c),r.push(kf);if(f===LF||f===Uf){if(c===0)return n.push(c),r.push(Us);var g=r[c-1];return WF.indexOf(g)===-1?(n.push(n[c-1]),r.push(g)):(n.push(c),r.push(Us))}if(n.push(c),f===VF)return r.push(t==="strict"?Qf:Po);if(f===hy||f===KF)return r.push(Us);if(f===GF)return a>=131072&&a<=196605||a>=196608&&a<=262141?r.push(Po):r.push(Us);r.push(f)}),[n,r,s]},qd=function(e,t,r,n){var s=n[r];if(Array.isArray(e)?e.indexOf(s)!==-1:e===s)for(var a=r;a<=n.length;){a++;var c=n[a];if(c===t)return!0;if(c!==GA)break}if(s===GA)for(var a=r;a>0;){a--;var f=n[a];if(Array.isArray(e)?e.indexOf(f)!==-1:e===f)for(var g=r;g<=n.length;){g++;var c=n[g];if(c===t)return!0;if(c!==GA)break}if(f!==GA)break}return!1},Lp=function(e,t){for(var r=e;r>=0;){var n=t[r];if(n===GA)r--;else return n}return 0},JF=function(e,t,r,n,s){if(r[n]===0)return Xe;var a=n-1;if(Array.isArray(s)&&s[a]===!0)return Xe;var c=a-1,f=a+1,g=t[a],w=c>=0?t[c]:0,B=t[f];if(g===cy&&B===uy)return Xe;if(jf.indexOf(g)!==-1)return fy;if(jf.indexOf(B)!==-1||gy.indexOf(B)!==-1)return Xe;if(Lp(a,t)===dy)return Ll;if(Lf.get(e[a])===Uf||(g===Rl||g===Ml)&&Lf.get(e[f])===Uf||g===kp||B===kp||g===Qp||[GA,_f,Wa].indexOf(g)===-1&&B===Qp||[Dl,Oa,PF,hi,fi].indexOf(B)!==-1||Lp(a,t)===Da||qd(Jd,Da,a,t)||qd([Dl,Oa],Qf,a,t)||qd(Op,Op,a,t))return Xe;if(g===GA)return Ll;if(g===Jd||B===Jd)return Xe;if(B===kf||g===kf)return Ll;if([_f,Wa,Qf].indexOf(B)!==-1||g===HF||w===Rf&&YF.indexOf(g)!==-1||g===fi&&B===Rf||B===Dp||AA.indexOf(B)!==-1&&g===Jr||AA.indexOf(g)!==-1&&B===Jr||g===Xa&&[Po,Rl,Ml].indexOf(B)!==-1||[Po,Rl,Ml].indexOf(g)!==-1&&B===Ya||AA.indexOf(g)!==-1&&Rp.indexOf(B)!==-1||Rp.indexOf(g)!==-1&&AA.indexOf(B)!==-1||[Xa,Ya].indexOf(g)!==-1&&(B===Jr||[Da,Wa].indexOf(B)!==-1&&t[f+1]===Jr)||[Da,Wa].indexOf(g)!==-1&&B===Jr||g===Jr&&[Jr,fi,hi].indexOf(B)!==-1)return Xe;if([Jr,fi,hi,Dl,Oa].indexOf(B)!==-1)for(var x=a;x>=0;){var v=t[x];if(v===Jr)return Xe;if([fi,hi].indexOf(v)!==-1)x--;else break}if([Xa,Ya].indexOf(B)!==-1)for(var x=[Dl,Oa].indexOf(g)!==-1?c:a;x>=0;){var v=t[x];if(v===Jr)return Xe;if([fi,hi].indexOf(v)!==-1)x--;else break}if(Mf===g&&[Mf,fc,Of,Df].indexOf(B)!==-1||[fc,Of].indexOf(g)!==-1&&[fc,gc].indexOf(B)!==-1||[gc,Df].indexOf(g)!==-1&&B===gc||Mp.indexOf(g)!==-1&&[Dp,Ya].indexOf(B)!==-1||Mp.indexOf(B)!==-1&&g===Xa||AA.indexOf(g)!==-1&&AA.indexOf(B)!==-1||g===hi&&AA.indexOf(B)!==-1||AA.concat(Jr).indexOf(g)!==-1&&B===Da&&zF.indexOf(e[f])===-1||AA.concat(Jr).indexOf(B)!==-1&&g===Oa)return Xe;if(g===Zd&&B===Zd){for(var E=r[a],b=1;E>0&&(E--,t[E]===Zd);)b++;if(b%2!==0)return Xe}return g===Rl&&B===Ml?Xe:Ll},ZF=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var r=XF(e,t.lineBreak),n=r[0],s=r[1],a=r[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(s=s.map(function(f){return[Jr,Us,hy].indexOf(f)!==-1?Po:f}));var c=t.wordBreak==="keep-all"?a.map(function(f,g){return f&&e[g]>=19968&&e[g]<=40959}):void 0;return[n,s,c]},qF=function(){function e(t,r,n,s){this.codePoints=t,this.required=r===fy,this.start=n,this.end=s}return e.prototype.slice=function(){return Vt.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),$F=function(e,t){var r=Qu(e),n=ZF(r,t),s=n[0],a=n[1],c=n[2],f=r.length,g=0,w=0;return{next:function(){if(w>=f)return{done:!0,value:null};for(var B=Xe;w<f&&(B=JF(r,a,s,++w,c))===Xe;);if(B!==Xe||w===f){var x=new qF(r,B,g,w);return g=w,{value:x,done:!1}}return{done:!0,value:null}}}},eN=1,tN=2,$o=4,jp=8,Jc=10,Hp=47,co=92,rN=9,nN=32,jl=34,Ra=61,AN=35,sN=36,iN=37,Hl=39,Pl=40,Ma=41,aN=95,jr=45,oN=33,lN=60,cN=62,uN=64,dN=91,hN=93,fN=61,gN=123,Kl=63,pN=125,Pp=124,wN=126,mN=128,Kp=65533,$d=42,Ds=43,xN=44,BN=58,yN=59,Ko=46,CN=0,vN=8,bN=11,EN=14,SN=31,IN=127,Yn=-1,py=48,wy=97,my=101,FN=102,NN=117,TN=122,xy=65,By=69,yy=70,UN=85,_N=90,br=function(e){return e>=py&&e<=57},kN=function(e){return e>=55296&&e<=57343},gi=function(e){return br(e)||e>=xy&&e<=yy||e>=wy&&e<=FN},QN=function(e){return e>=wy&&e<=TN},ON=function(e){return e>=xy&&e<=_N},DN=function(e){return QN(e)||ON(e)},RN=function(e){return e>=mN},Vl=function(e){return e===Jc||e===rN||e===nN},Zc=function(e){return DN(e)||RN(e)||e===aN},Vp=function(e){return Zc(e)||br(e)||e===jr},MN=function(e){return e>=CN&&e<=vN||e===bN||e>=EN&&e<=SN||e===IN},RA=function(e,t){return e!==co?!1:t!==Jc},Gl=function(e,t,r){return e===jr?Zc(t)||RA(t,r):Zc(e)?!0:!!(e===co&&RA(e,t))},eh=function(e,t,r){return e===Ds||e===jr?br(t)?!0:t===Ko&&br(r):br(e===Ko?t:e)},LN=function(e){var t=0,r=1;(e[t]===Ds||e[t]===jr)&&(e[t]===jr&&(r=-1),t++);for(var n=[];br(e[t]);)n.push(e[t++]);var s=n.length?parseInt(Vt.apply(void 0,n),10):0;e[t]===Ko&&t++;for(var a=[];br(e[t]);)a.push(e[t++]);var c=a.length,f=c?parseInt(Vt.apply(void 0,a),10):0;(e[t]===By||e[t]===my)&&t++;var g=1;(e[t]===Ds||e[t]===jr)&&(e[t]===jr&&(g=-1),t++);for(var w=[];br(e[t]);)w.push(e[t++]);var B=w.length?parseInt(Vt.apply(void 0,w),10):0;return r*(s+f*Math.pow(10,-c))*Math.pow(10,g*B)},jN={type:2},HN={type:3},PN={type:4},KN={type:13},VN={type:8},GN={type:21},zN={type:9},WN={type:10},YN={type:11},XN={type:12},JN={type:14},zl={type:23},ZN={type:1},qN={type:25},$N={type:24},eT={type:26},tT={type:27},rT={type:28},nT={type:29},AT={type:31},Hf={type:32},Cy=function(){function e(){this._value=[]}return e.prototype.write=function(t){this._value=this._value.concat(Qu(t))},e.prototype.read=function(){for(var t=[],r=this.consumeToken();r!==Hf;)t.push(r),r=this.consumeToken();return t},e.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case jl:return this.consumeStringToken(jl);case AN:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),s=this.peekCodePoint(2);if(Vp(r)||RA(n,s)){var a=Gl(r,n,s)?tN:eN,c=this.consumeName();return{type:5,value:c,flags:a}}break;case sN:if(this.peekCodePoint(0)===Ra)return this.consumeCodePoint(),KN;break;case Hl:return this.consumeStringToken(Hl);case Pl:return jN;case Ma:return HN;case $d:if(this.peekCodePoint(0)===Ra)return this.consumeCodePoint(),JN;break;case Ds:if(eh(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case xN:return PN;case jr:var f=t,g=this.peekCodePoint(0),w=this.peekCodePoint(1);if(eh(f,g,w))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(Gl(f,g,w))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(g===jr&&w===cN)return this.consumeCodePoint(),this.consumeCodePoint(),$N;break;case Ko:if(eh(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case Hp:if(this.peekCodePoint(0)===$d)for(this.consumeCodePoint();;){var B=this.consumeCodePoint();if(B===$d&&(B=this.consumeCodePoint(),B===Hp))return this.consumeToken();if(B===Yn)return this.consumeToken()}break;case BN:return eT;case yN:return tT;case lN:if(this.peekCodePoint(0)===oN&&this.peekCodePoint(1)===jr&&this.peekCodePoint(2)===jr)return this.consumeCodePoint(),this.consumeCodePoint(),qN;break;case uN:var x=this.peekCodePoint(0),v=this.peekCodePoint(1),E=this.peekCodePoint(2);if(Gl(x,v,E)){var c=this.consumeName();return{type:7,value:c}}break;case dN:return rT;case co:if(RA(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case hN:return nT;case fN:if(this.peekCodePoint(0)===Ra)return this.consumeCodePoint(),VN;break;case gN:return YN;case pN:return XN;case NN:case UN:var b=this.peekCodePoint(0),S=this.peekCodePoint(1);return b===Ds&&(gi(S)||S===Kl)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case Pp:if(this.peekCodePoint(0)===Ra)return this.consumeCodePoint(),zN;if(this.peekCodePoint(0)===Pp)return this.consumeCodePoint(),GN;break;case wN:if(this.peekCodePoint(0)===Ra)return this.consumeCodePoint(),WN;break;case Yn:return Hf}return Vl(t)?(this.consumeWhiteSpace(),AT):br(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):Zc(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:Vt(t)}},e.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},e.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},e.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},e.prototype.consumeUnicodeRangeToken=function(){for(var t=[],r=this.consumeCodePoint();gi(r)&&t.length<6;)t.push(r),r=this.consumeCodePoint();for(var n=!1;r===Kl&&t.length<6;)t.push(r),r=this.consumeCodePoint(),n=!0;if(n){var s=parseInt(Vt.apply(void 0,t.map(function(g){return g===Kl?py:g})),16),a=parseInt(Vt.apply(void 0,t.map(function(g){return g===Kl?yy:g})),16);return{type:30,start:s,end:a}}var c=parseInt(Vt.apply(void 0,t),16);if(this.peekCodePoint(0)===jr&&gi(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var f=[];gi(r)&&f.length<6;)f.push(r),r=this.consumeCodePoint();var a=parseInt(Vt.apply(void 0,f),16);return{type:30,start:c,end:a}}else return{type:30,start:c,end:c}},e.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===Pl?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Pl?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},e.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Yn)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===Hl||r===jl){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Yn||this.peekCodePoint(0)===Ma)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),zl)}for(;;){var s=this.consumeCodePoint();if(s===Yn||s===Ma)return{type:22,value:Vt.apply(void 0,t)};if(Vl(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Yn||this.peekCodePoint(0)===Ma?(this.consumeCodePoint(),{type:22,value:Vt.apply(void 0,t)}):(this.consumeBadUrlRemnants(),zl);if(s===jl||s===Hl||s===Pl||MN(s))return this.consumeBadUrlRemnants(),zl;if(s===co)if(RA(s,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),zl;else t.push(s)}},e.prototype.consumeWhiteSpace=function(){for(;Vl(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===Ma||t===Yn)return;RA(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(t){for(var r=5e4,n="";t>0;){var s=Math.min(r,t);n+=Vt.apply(void 0,this._value.splice(0,s)),t-=s}return this._value.shift(),n},e.prototype.consumeStringToken=function(t){var r="",n=0;do{var s=this._value[n];if(s===Yn||s===void 0||s===t)return r+=this.consumeStringSlice(n),{type:0,value:r};if(s===Jc)return this._value.splice(0,n),ZN;if(s===co){var a=this._value[n+1];a!==Yn&&a!==void 0&&(a===Jc?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):RA(s,a)&&(r+=this.consumeStringSlice(n),r+=Vt(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},e.prototype.consumeNumber=function(){var t=[],r=$o,n=this.peekCodePoint(0);for((n===Ds||n===jr)&&t.push(this.consumeCodePoint());br(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(n===Ko&&br(s))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=jp;br(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0),s=this.peekCodePoint(1);var a=this.peekCodePoint(2);if((n===By||n===my)&&((s===Ds||s===jr)&&br(a)||br(s)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),r=jp;br(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[LN(t),r]},e.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),r=t[0],n=t[1],s=this.peekCodePoint(0),a=this.peekCodePoint(1),c=this.peekCodePoint(2);if(Gl(s,a,c)){var f=this.consumeName();return{type:15,number:r,flags:n,unit:f}}return s===iN?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(gi(t)){for(var r=Vt(t);gi(this.peekCodePoint(0))&&r.length<6;)r+=Vt(this.consumeCodePoint());Vl(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||kN(n)||n>1114111?Kp:n}return t===Yn?Kp:t},e.prototype.consumeName=function(){for(var t="";;){var r=this.consumeCodePoint();if(Vp(r))t+=Vt(r);else if(RA(r,this.peekCodePoint(0)))t+=Vt(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),t}},e}(),vy=function(){function e(t){this._tokens=t}return e.create=function(t){var r=new Cy;return r.write(t),new e(r.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var r=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var t=[];;){var r=this.consumeComponentValue();if(r.type===32)return t;t.push(r),t.push()}},e.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},e.prototype.consumeSimpleBlock=function(t){for(var r={type:t,values:[]},n=this.consumeToken();;){if(n.type===32||iT(n,t))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(t){for(var r={name:t.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?Hf:t},e.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},e}(),el=function(e){return e.type===15},da=function(e){return e.type===17},ct=function(e){return e.type===20},sT=function(e){return e.type===0},Pf=function(e,t){return ct(e)&&e.value===t},by=function(e){return e.type!==31},Aa=function(e){return e.type!==31&&e.type!==4},rA=function(e){var t=[],r=[];return e.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&t.push(r),t},iT=function(e,t){return t===11&&e.type===12||t===28&&e.type===29?!0:t===2&&e.type===3},ls=function(e){return e.type===17||e.type===15},Wt=function(e){return e.type===16||ls(e)},Ey=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},gr={type:17,number:0,flags:$o},ig={type:16,number:50,flags:$o},zA={type:16,number:100,flags:$o},Ja=function(e,t,r){var n=e[0],s=e[1];return[pt(n,t),pt(typeof s<"u"?s:n,r)]},pt=function(e,t){if(e.type===16)return e.number/100*t;if(el(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},Sy="deg",Iy="grad",Fy="rad",Ny="turn",Ou={name:"angle",parse:function(e,t){if(t.type===15)switch(t.unit){case Sy:return Math.PI*t.number/180;case Iy:return Math.PI/200*t.number;case Fy:return t.number;case Ny:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},Ty=function(e){return e.type===15&&(e.unit===Sy||e.unit===Iy||e.unit===Fy||e.unit===Ny)},Uy=function(e){var t=e.filter(ct).map(function(r){return r.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[gr,gr];case"to top":case"bottom":return Bn(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[gr,zA];case"to right":case"left":return Bn(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[zA,zA];case"to bottom":case"top":return Bn(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[zA,gr];case"to left":case"right":return Bn(270)}return 0},Bn=function(e){return Math.PI*e/180},ss={name:"color",parse:function(e,t){if(t.type===18){var r=aT[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return r(e,t.values)}if(t.type===5){if(t.value.length===3){var n=t.value.substring(0,1),s=t.value.substring(1,2),a=t.value.substring(2,3);return WA(parseInt(n+n,16),parseInt(s+s,16),parseInt(a+a,16),1)}if(t.value.length===4){var n=t.value.substring(0,1),s=t.value.substring(1,2),a=t.value.substring(2,3),c=t.value.substring(3,4);return WA(parseInt(n+n,16),parseInt(s+s,16),parseInt(a+a,16),parseInt(c+c,16)/255)}if(t.value.length===6){var n=t.value.substring(0,2),s=t.value.substring(2,4),a=t.value.substring(4,6);return WA(parseInt(n,16),parseInt(s,16),parseInt(a,16),1)}if(t.value.length===8){var n=t.value.substring(0,2),s=t.value.substring(2,4),a=t.value.substring(4,6),c=t.value.substring(6,8);return WA(parseInt(n,16),parseInt(s,16),parseInt(a,16),parseInt(c,16)/255)}}if(t.type===20){var f=hA[t.value.toUpperCase()];if(typeof f<"u")return f}return hA.TRANSPARENT}},is=function(e){return(255&e)===0},sr=function(e){var t=255&e,r=255&e>>8,n=255&e>>16,s=255&e>>24;return t<255?"rgba("+s+","+n+","+r+","+t/255+")":"rgb("+s+","+n+","+r+")"},WA=function(e,t,r,n){return(e<<24|t<<16|r<<8|Math.round(n*255)<<0)>>>0},Gp=function(e,t){if(e.type===17)return e.number;if(e.type===16){var r=t===3?1:255;return t===3?e.number/100*r:Math.round(e.number/100*r)}return 0},zp=function(e,t){var r=t.filter(Aa);if(r.length===3){var n=r.map(Gp),s=n[0],a=n[1],c=n[2];return WA(s,a,c,1)}if(r.length===4){var f=r.map(Gp),s=f[0],a=f[1],c=f[2],g=f[3];return WA(s,a,c,g)}return 0};function th(e,t,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(t-e)*r*6+e:r<1/2?t:r<2/3?(t-e)*6*(2/3-r)+e:e}var Wp=function(e,t){var r=t.filter(Aa),n=r[0],s=r[1],a=r[2],c=r[3],f=(n.type===17?Bn(n.number):Ou.parse(e,n))/(Math.PI*2),g=Wt(s)?s.number/100:0,w=Wt(a)?a.number/100:0,B=typeof c<"u"&&Wt(c)?pt(c,1):1;if(g===0)return WA(w*255,w*255,w*255,1);var x=w<=.5?w*(g+1):w+g-w*g,v=w*2-x,E=th(v,x,f+1/3),b=th(v,x,f),S=th(v,x,f-1/3);return WA(E*255,b*255,S*255,B)},aT={hsl:Wp,hsla:Wp,rgb:zp,rgba:zp},uo=function(e,t){return ss.parse(e,vy.create(t).parseComponentValue())},hA={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},oT={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(ct(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},lT={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Du=function(e,t){var r=ss.parse(e,t[0]),n=t[1];return n&&Wt(n)?{color:r,stop:n}:{color:r,stop:null}},Yp=function(e,t){var r=e[0],n=e[e.length-1];r.stop===null&&(r.stop=gr),n.stop===null&&(n.stop=zA);for(var s=[],a=0,c=0;c<e.length;c++){var f=e[c].stop;if(f!==null){var g=pt(f,t);g>a?s.push(g):s.push(a),a=g}else s.push(null)}for(var w=null,c=0;c<s.length;c++){var B=s[c];if(B===null)w===null&&(w=c);else if(w!==null){for(var x=c-w,v=s[w-1],E=(B-v)/(x+1),b=1;b<=x;b++)s[w+b-1]=E*b;w=null}}return e.map(function(S,R){var T=S.color;return{color:T,stop:Math.max(Math.min(1,s[R]/t),0)}})},cT=function(e,t,r){var n=t/2,s=r/2,a=pt(e[0],t)-n,c=s-pt(e[1],r);return(Math.atan2(c,a)+Math.PI*2)%(Math.PI*2)},uT=function(e,t,r){var n=typeof e=="number"?e:cT(e,t,r),s=Math.abs(t*Math.sin(n))+Math.abs(r*Math.cos(n)),a=t/2,c=r/2,f=s/2,g=Math.sin(n-Math.PI/2)*f,w=Math.cos(n-Math.PI/2)*f;return[s,a-w,a+w,c-g,c+g]},Nn=function(e,t){return Math.sqrt(e*e+t*t)},Xp=function(e,t,r,n,s){var a=[[0,0],[0,t],[e,0],[e,t]];return a.reduce(function(c,f){var g=f[0],w=f[1],B=Nn(r-g,n-w);return(s?B<c.optimumDistance:B>c.optimumDistance)?{optimumCorner:f,optimumDistance:B}:c},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},dT=function(e,t,r,n,s){var a=0,c=0;switch(e.size){case 0:e.shape===0?a=c=Math.min(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-s)):e.shape===1&&(a=Math.min(Math.abs(t),Math.abs(t-n)),c=Math.min(Math.abs(r),Math.abs(r-s)));break;case 2:if(e.shape===0)a=c=Math.min(Nn(t,r),Nn(t,r-s),Nn(t-n,r),Nn(t-n,r-s));else if(e.shape===1){var f=Math.min(Math.abs(r),Math.abs(r-s))/Math.min(Math.abs(t),Math.abs(t-n)),g=Xp(n,s,t,r,!0),w=g[0],B=g[1];a=Nn(w-t,(B-r)/f),c=f*a}break;case 1:e.shape===0?a=c=Math.max(Math.abs(t),Math.abs(t-n),Math.abs(r),Math.abs(r-s)):e.shape===1&&(a=Math.max(Math.abs(t),Math.abs(t-n)),c=Math.max(Math.abs(r),Math.abs(r-s)));break;case 3:if(e.shape===0)a=c=Math.max(Nn(t,r),Nn(t,r-s),Nn(t-n,r),Nn(t-n,r-s));else if(e.shape===1){var f=Math.max(Math.abs(r),Math.abs(r-s))/Math.max(Math.abs(t),Math.abs(t-n)),x=Xp(n,s,t,r,!1),w=x[0],B=x[1];a=Nn(w-t,(B-r)/f),c=f*a}break}return Array.isArray(e.size)&&(a=pt(e.size[0],n),c=e.size.length===2?pt(e.size[1],s):a),[a,c]},hT=function(e,t){var r=Bn(180),n=[];return rA(t).forEach(function(s,a){if(a===0){var c=s[0];if(c.type===20&&c.value==="to"){r=Uy(s);return}else if(Ty(c)){r=Ou.parse(e,c);return}}var f=Du(e,s);n.push(f)}),{angle:r,stops:n,type:1}},Wl=function(e,t){var r=Bn(180),n=[];return rA(t).forEach(function(s,a){if(a===0){var c=s[0];if(c.type===20&&["top","left","right","bottom"].indexOf(c.value)!==-1){r=Uy(s);return}else if(Ty(c)){r=(Ou.parse(e,c)+Bn(270))%Bn(360);return}}var f=Du(e,s);n.push(f)}),{angle:r,stops:n,type:1}},fT=function(e,t){var r=Bn(180),n=[],s=1,a=0,c=3,f=[];return rA(t).forEach(function(g,w){var B=g[0];if(w===0){if(ct(B)&&B.value==="linear"){s=1;return}else if(ct(B)&&B.value==="radial"){s=2;return}}if(B.type===18){if(B.name==="from"){var x=ss.parse(e,B.values[0]);n.push({stop:gr,color:x})}else if(B.name==="to"){var x=ss.parse(e,B.values[0]);n.push({stop:zA,color:x})}else if(B.name==="color-stop"){var v=B.values.filter(Aa);if(v.length===2){var x=ss.parse(e,v[1]),E=v[0];da(E)&&n.push({stop:{type:16,number:E.number*100,flags:E.flags},color:x})}}}}),s===1?{angle:(r+Bn(180))%Bn(360),stops:n,type:s}:{size:c,shape:a,stops:n,position:f,type:s}},_y="closest-side",ky="farthest-side",Qy="closest-corner",Oy="farthest-corner",Dy="circle",Ry="ellipse",My="cover",Ly="contain",gT=function(e,t){var r=0,n=3,s=[],a=[];return rA(t).forEach(function(c,f){var g=!0;if(f===0){var w=!1;g=c.reduce(function(x,v){if(w)if(ct(v))switch(v.value){case"center":return a.push(ig),x;case"top":case"left":return a.push(gr),x;case"right":case"bottom":return a.push(zA),x}else(Wt(v)||ls(v))&&a.push(v);else if(ct(v))switch(v.value){case Dy:return r=0,!1;case Ry:return r=1,!1;case"at":return w=!0,!1;case _y:return n=0,!1;case My:case ky:return n=1,!1;case Ly:case Qy:return n=2,!1;case Oy:return n=3,!1}else if(ls(v)||Wt(v))return Array.isArray(n)||(n=[]),n.push(v),!1;return x},g)}if(g){var B=Du(e,c);s.push(B)}}),{size:n,shape:r,stops:s,position:a,type:2}},Yl=function(e,t){var r=0,n=3,s=[],a=[];return rA(t).forEach(function(c,f){var g=!0;if(f===0?g=c.reduce(function(B,x){if(ct(x))switch(x.value){case"center":return a.push(ig),!1;case"top":case"left":return a.push(gr),!1;case"right":case"bottom":return a.push(zA),!1}else if(Wt(x)||ls(x))return a.push(x),!1;return B},g):f===1&&(g=c.reduce(function(B,x){if(ct(x))switch(x.value){case Dy:return r=0,!1;case Ry:return r=1,!1;case Ly:case _y:return n=0,!1;case ky:return n=1,!1;case Qy:return n=2,!1;case My:case Oy:return n=3,!1}else if(ls(x)||Wt(x))return Array.isArray(n)||(n=[]),n.push(x),!1;return B},g)),g){var w=Du(e,c);s.push(w)}}),{size:n,shape:r,stops:s,position:a,type:2}},pT=function(e){return e.type===1},wT=function(e){return e.type===2},ag={name:"image",parse:function(e,t){if(t.type===22){var r={url:t.value,type:0};return e.cache.addImage(t.value),r}if(t.type===18){var n=jy[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return n(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function mT(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!jy[e.name])}var jy={"linear-gradient":hT,"-moz-linear-gradient":Wl,"-ms-linear-gradient":Wl,"-o-linear-gradient":Wl,"-webkit-linear-gradient":Wl,"radial-gradient":gT,"-moz-radial-gradient":Yl,"-ms-radial-gradient":Yl,"-o-radial-gradient":Yl,"-webkit-radial-gradient":Yl,"-webkit-gradient":fT},xT={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t.filter(function(n){return Aa(n)&&mT(n)}).map(function(n){return ag.parse(e,n)})}},BT={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(r){if(ct(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},yT={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return rA(t).map(function(r){return r.filter(Wt)}).map(Ey)}},CT={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return rA(t).map(function(r){return r.filter(ct).map(function(n){return n.value}).join(" ")}).map(vT)}},vT=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Wi;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(Wi||(Wi={}));var bT={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return rA(t).map(function(r){return r.filter(ET)})}},ET=function(e){return ct(e)||Wt(e)},Ru=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},ST=Ru("top"),IT=Ru("right"),FT=Ru("bottom"),NT=Ru("left"),Mu=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(t,r){return Ey(r.filter(Wt))}}},TT=Mu("top-left"),UT=Mu("top-right"),_T=Mu("bottom-right"),kT=Mu("bottom-left"),Lu=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},QT=Lu("top"),OT=Lu("right"),DT=Lu("bottom"),RT=Lu("left"),ju=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,r){return el(r)?r.number:0}}},MT=ju("top"),LT=ju("right"),jT=ju("bottom"),HT=ju("left"),PT={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},KT={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},VT={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(ct).reduce(function(r,n){return r|GT(n.value)},0)}},GT=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},zT={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},WT={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},qc;(function(e){e.NORMAL="normal",e.STRICT="strict"})(qc||(qc={}));var YT={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"strict":return qc.STRICT;case"normal":default:return qc.NORMAL}}},XT={name:"line-height",initialValue:"normal",prefix:!1,type:4},Jp=function(e,t){return ct(e)&&e.value==="normal"?1.2*t:e.type===17?t*e.number:Wt(e)?pt(e,t):t},JT={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return t.type===20&&t.value==="none"?null:ag.parse(e,t)}},ZT={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},Kf={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Hu=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},qT=Hu("top"),$T=Hu("right"),eU=Hu("bottom"),tU=Hu("left"),rU={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(ct).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},nU={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},Pu=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},AU=Pu("top"),sU=Pu("right"),iU=Pu("bottom"),aU=Pu("left"),oU={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},lU={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},cU={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&Pf(t[0],"none")?[]:rA(t).map(function(r){for(var n={color:hA.TRANSPARENT,offsetX:gr,offsetY:gr,blur:gr},s=0,a=0;a<r.length;a++){var c=r[a];ls(c)?(s===0?n.offsetX=c:s===1?n.offsetY=c:n.blur=c,s++):n.color=ss.parse(e,c)}return n})}},uU={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},dU={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var r=gU[t.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return r(t.values)}return null}},hU=function(e){var t=e.filter(function(r){return r.type===17}).map(function(r){return r.number});return t.length===6?t:null},fU=function(e){var t=e.filter(function(g){return g.type===17}).map(function(g){return g.number}),r=t[0],n=t[1];t[2],t[3];var s=t[4],a=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var c=t[12],f=t[13];return t[14],t[15],t.length===16?[r,n,s,a,c,f]:null},gU={matrix:hU,matrix3d:fU},Zp={type:16,number:50,flags:$o},pU=[Zp,Zp],wU={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var r=t.filter(Wt);return r.length!==2?pU:[r[0],r[1]]}},mU={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},ho;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(ho||(ho={}));var xU={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return ho.BREAK_ALL;case"keep-all":return ho.KEEP_ALL;case"normal":default:return ho.NORMAL}}},BU={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(t.type===20)return{auto:!0,order:0};if(da(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},Hy={name:"time",parse:function(e,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},yU={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return da(t)?t.number:1}},CU={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},vU={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(ct).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},bU={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var r=[],n=[];return t.forEach(function(s){switch(s.type){case 20:case 0:r.push(s.value);break;case 17:r.push(s.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},EU={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},SU={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){if(da(t))return t.number;if(ct(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},IU={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(ct).map(function(r){return r.value})}},FU={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},tr=function(e,t){return(e&t)!==0},NU={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(t.length===0)return[];var r=t[0];return r.type===20&&r.value==="none"?[]:t}},TU={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;for(var n=[],s=t.filter(by),a=0;a<s.length;a++){var c=s[a],f=s[a+1];if(c.type===20){var g=f&&da(f)?f.number:1;n.push({counter:c.value,increment:g})}}return n}},UU={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return[];for(var r=[],n=t.filter(by),s=0;s<n.length;s++){var a=n[s],c=n[s+1];if(ct(a)&&a.value!=="none"){var f=c&&da(c)?c.number:0;r.push({counter:a.value,reset:f})}}return r}},_U={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(el).map(function(r){return Hy.parse(e,r)})}},kU={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(t.length===0)return null;var r=t[0];if(r.type===20&&r.value==="none")return null;var n=[],s=t.filter(sT);if(s.length%2!==0)return null;for(var a=0;a<s.length;a+=2){var c=s[a].value,f=s[a+1].value;n.push({open:c,close:f})}return n}},qp=function(e,t,r){if(!e)return"";var n=e[Math.min(t,e.length-1)];return n?r?n.open:n.close:""},QU={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.length===1&&Pf(t[0],"none")?[]:rA(t).map(function(r){for(var n={color:255,offsetX:gr,offsetY:gr,blur:gr,spread:gr,inset:!1},s=0,a=0;a<r.length;a++){var c=r[a];Pf(c,"inset")?n.inset=!0:ls(c)?(s===0?n.offsetX=c:s===1?n.offsetY=c:s===2?n.blur=c:n.spread=c,s++):n.color=ss.parse(e,c)}return n})}},OU={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var r=[0,1,2],n=[];return t.filter(ct).forEach(function(s){switch(s.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(s){n.indexOf(s)===-1&&n.push(s)}),n}},DU={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},RU={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return el(t)?t.number:0}},MU=function(){function e(t,r){var n,s;this.animationDuration=be(t,_U,r.animationDuration),this.backgroundClip=be(t,oT,r.backgroundClip),this.backgroundColor=be(t,lT,r.backgroundColor),this.backgroundImage=be(t,xT,r.backgroundImage),this.backgroundOrigin=be(t,BT,r.backgroundOrigin),this.backgroundPosition=be(t,yT,r.backgroundPosition),this.backgroundRepeat=be(t,CT,r.backgroundRepeat),this.backgroundSize=be(t,bT,r.backgroundSize),this.borderTopColor=be(t,ST,r.borderTopColor),this.borderRightColor=be(t,IT,r.borderRightColor),this.borderBottomColor=be(t,FT,r.borderBottomColor),this.borderLeftColor=be(t,NT,r.borderLeftColor),this.borderTopLeftRadius=be(t,TT,r.borderTopLeftRadius),this.borderTopRightRadius=be(t,UT,r.borderTopRightRadius),this.borderBottomRightRadius=be(t,_T,r.borderBottomRightRadius),this.borderBottomLeftRadius=be(t,kT,r.borderBottomLeftRadius),this.borderTopStyle=be(t,QT,r.borderTopStyle),this.borderRightStyle=be(t,OT,r.borderRightStyle),this.borderBottomStyle=be(t,DT,r.borderBottomStyle),this.borderLeftStyle=be(t,RT,r.borderLeftStyle),this.borderTopWidth=be(t,MT,r.borderTopWidth),this.borderRightWidth=be(t,LT,r.borderRightWidth),this.borderBottomWidth=be(t,jT,r.borderBottomWidth),this.borderLeftWidth=be(t,HT,r.borderLeftWidth),this.boxShadow=be(t,QU,r.boxShadow),this.color=be(t,PT,r.color),this.direction=be(t,KT,r.direction),this.display=be(t,VT,r.display),this.float=be(t,zT,r.cssFloat),this.fontFamily=be(t,bU,r.fontFamily),this.fontSize=be(t,EU,r.fontSize),this.fontStyle=be(t,FU,r.fontStyle),this.fontVariant=be(t,IU,r.fontVariant),this.fontWeight=be(t,SU,r.fontWeight),this.letterSpacing=be(t,WT,r.letterSpacing),this.lineBreak=be(t,YT,r.lineBreak),this.lineHeight=be(t,XT,r.lineHeight),this.listStyleImage=be(t,JT,r.listStyleImage),this.listStylePosition=be(t,ZT,r.listStylePosition),this.listStyleType=be(t,Kf,r.listStyleType),this.marginTop=be(t,qT,r.marginTop),this.marginRight=be(t,$T,r.marginRight),this.marginBottom=be(t,eU,r.marginBottom),this.marginLeft=be(t,tU,r.marginLeft),this.opacity=be(t,yU,r.opacity);var a=be(t,rU,r.overflow);this.overflowX=a[0],this.overflowY=a[a.length>1?1:0],this.overflowWrap=be(t,nU,r.overflowWrap),this.paddingTop=be(t,AU,r.paddingTop),this.paddingRight=be(t,sU,r.paddingRight),this.paddingBottom=be(t,iU,r.paddingBottom),this.paddingLeft=be(t,aU,r.paddingLeft),this.paintOrder=be(t,OU,r.paintOrder),this.position=be(t,lU,r.position),this.textAlign=be(t,oU,r.textAlign),this.textDecorationColor=be(t,CU,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=be(t,vU,(s=r.textDecorationLine)!==null&&s!==void 0?s:r.textDecoration),this.textShadow=be(t,cU,r.textShadow),this.textTransform=be(t,uU,r.textTransform),this.transform=be(t,dU,r.transform),this.transformOrigin=be(t,wU,r.transformOrigin),this.visibility=be(t,mU,r.visibility),this.webkitTextStrokeColor=be(t,DU,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=be(t,RU,r.webkitTextStrokeWidth),this.wordBreak=be(t,xU,r.wordBreak),this.zIndex=be(t,BU,r.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return is(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return tr(this.display,4)||tr(this.display,33554432)||tr(this.display,268435456)||tr(this.display,536870912)||tr(this.display,67108864)||tr(this.display,134217728)},e}(),LU=function(){function e(t,r){this.content=be(t,NU,r.content),this.quotes=be(t,kU,r.quotes)}return e}(),$p=function(){function e(t,r){this.counterIncrement=be(t,TU,r.counterIncrement),this.counterReset=be(t,UU,r.counterReset)}return e}(),be=function(e,t,r){var n=new Cy,s=r!==null&&typeof r<"u"?r.toString():t.initialValue;n.write(s);var a=new vy(n.read());switch(t.type){case 2:var c=a.parseComponentValue();return t.parse(e,ct(c)?c.value:t.initialValue);case 0:return t.parse(e,a.parseComponentValue());case 1:return t.parse(e,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(t.format){case"angle":return Ou.parse(e,a.parseComponentValue());case"color":return ss.parse(e,a.parseComponentValue());case"image":return ag.parse(e,a.parseComponentValue());case"length":var f=a.parseComponentValue();return ls(f)?f:gr;case"length-percentage":var g=a.parseComponentValue();return Wt(g)?g:gr;case"time":return Hy.parse(e,a.parseComponentValue())}break}},jU="data-html2canvas-debug",HU=function(e){var t=e.getAttribute(jU);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Vf=function(e,t){var r=HU(e);return r===1||t===r},nA=function(){function e(t,r){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,Vf(r,3))debugger;this.styles=new MU(t,window.getComputedStyle(r,null)),Wf(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=ku(this.context,r),Vf(r,4)&&(this.flags|=16)}return e}(),PU="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",ew="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Za=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Xl=0;Xl<ew.length;Xl++)Za[ew.charCodeAt(Xl)]=Xl;var KU=function(e){var t=e.length*.75,r=e.length,n,s=0,a,c,f,g;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);var w=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),B=Array.isArray(w)?w:new Uint8Array(w);for(n=0;n<r;n+=4)a=Za[e.charCodeAt(n)],c=Za[e.charCodeAt(n+1)],f=Za[e.charCodeAt(n+2)],g=Za[e.charCodeAt(n+3)],B[s++]=a<<2|c>>4,B[s++]=(c&15)<<4|f>>2,B[s++]=(f&3)<<6|g&63;return w},VU=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},GU=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r},js=5,og=11,rh=2,zU=og-js,Py=65536>>js,WU=1<<js,nh=WU-1,YU=1024>>js,XU=Py+YU,JU=XU,ZU=32,qU=JU+ZU,$U=65536>>og,e_=1<<zU,t_=e_-1,tw=function(e,t,r){return e.slice?e.slice(t,r):new Uint16Array(Array.prototype.slice.call(e,t,r))},r_=function(e,t,r){return e.slice?e.slice(t,r):new Uint32Array(Array.prototype.slice.call(e,t,r))},n_=function(e,t){var r=KU(e),n=Array.isArray(r)?GU(r):new Uint32Array(r),s=Array.isArray(r)?VU(r):new Uint16Array(r),a=24,c=tw(s,a/2,n[4]/2),f=n[5]===2?tw(s,(a+n[4])/2):r_(n,Math.ceil((a+n[4])/4));return new A_(n[0],n[1],n[2],n[3],c,f)},A_=function(){function e(t,r,n,s,a,c){this.initialValue=t,this.errorValue=r,this.highStart=n,this.highValueIndex=s,this.index=a,this.data=c}return e.prototype.get=function(t){var r;if(t>=0){if(t<55296||t>56319&&t<=65535)return r=this.index[t>>js],r=(r<<rh)+(t&nh),this.data[r];if(t<=65535)return r=this.index[Py+(t-55296>>js)],r=(r<<rh)+(t&nh),this.data[r];if(t<this.highStart)return r=qU-$U+(t>>og),r=this.index[r],r+=t>>js&t_,r=this.index[r],r=(r<<rh)+(t&nh),this.data[r];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),rw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s_=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Jl=0;Jl<rw.length;Jl++)s_[rw.charCodeAt(Jl)]=Jl;var i_=1,Ah=2,sh=3,nw=4,Aw=5,a_=7,sw=8,ih=9,ah=10,iw=11,aw=12,ow=13,lw=14,oh=15,o_=function(e){for(var t=[],r=0,n=e.length;r<n;){var s=e.charCodeAt(r++);if(s>=55296&&s<=56319&&r<n){var a=e.charCodeAt(r++);(a&64512)===56320?t.push(((s&1023)<<10)+(a&1023)+65536):(t.push(s),r--)}else t.push(s)}return t},l_=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var r=e.length;if(!r)return"";for(var n=[],s=-1,a="";++s<r;){var c=e[s];c<=65535?n.push(c):(c-=65536,n.push((c>>10)+55296,c%1024+56320)),(s+1===r||n.length>16384)&&(a+=String.fromCharCode.apply(String,n),n.length=0)}return a},c_=n_(PU),gn="",lh="",u_=function(e){return c_.get(e)},d_=function(e,t,r){var n=r-2,s=t[n],a=t[r-1],c=t[r];if(a===Ah&&c===sh)return gn;if(a===Ah||a===sh||a===nw||c===Ah||c===sh||c===nw)return lh;if(a===sw&&[sw,ih,iw,aw].indexOf(c)!==-1||(a===iw||a===ih)&&(c===ih||c===ah)||(a===aw||a===ah)&&c===ah||c===ow||c===Aw||c===a_||a===i_)return gn;if(a===ow&&c===lw){for(;s===Aw;)s=t[--n];if(s===lw)return gn}if(a===oh&&c===oh){for(var f=0;s===oh;)f++,s=t[--n];if(f%2===0)return gn}return lh},h_=function(e){var t=o_(e),r=t.length,n=0,s=0,a=t.map(u_);return{next:function(){if(n>=r)return{done:!0,value:null};for(var c=gn;n<r&&(c=d_(t,a,++n))===gn;);if(c!==gn||n===r){var f=l_.apply(null,t.slice(s,n));return s=n,{value:f,done:!1}}return{done:!0,value:null}}}},f_=function(e){for(var t=h_(e),r=[],n;!(n=t.next()).done;)n.value&&r.push(n.value.slice());return r},g_=function(e){var t=123;if(e.createRange){var r=e.createRange();if(r.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height=t+"px",n.style.display="block",e.body.appendChild(n),r.selectNode(n);var s=r.getBoundingClientRect(),a=Math.round(s.height);if(e.body.removeChild(n),a===t)return!0}}return!1},p_=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var r=e.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=t.firstChild,s=Qu(n.data).map(function(g){return Vt(g)}),a=0,c={},f=s.every(function(g,w){r.setStart(n,a),r.setEnd(n,a+g.length);var B=r.getBoundingClientRect();a+=g.length;var x=B.x>c.x||B.y>c.y;return c=B,w===0?!0:x});return e.body.removeChild(t),f},w_=function(){return typeof new Image().crossOrigin<"u"},m_=function(){return typeof new XMLHttpRequest().responseType=="string"},x_=function(e){var t=new Image,r=e.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(t,0,0),r.toDataURL()}catch{return!1}return!0},cw=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},B_=function(e){var t=e.createElement("canvas"),r=100;t.width=r,t.height=r;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var s=new Image,a=t.toDataURL();s.src=a;var c=Gf(r,r,0,0,s);return n.fillStyle="red",n.fillRect(0,0,r,r),uw(c).then(function(f){n.drawImage(f,0,0);var g=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var w=e.createElement("div");return w.style.backgroundImage="url("+a+")",w.style.height=r+"px",cw(g)?uw(Gf(r,r,0,0,w)):Promise.reject(!1)}).then(function(f){return n.drawImage(f,0,0),cw(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},Gf=function(e,t,r,n,s){var a="http://www.w3.org/2000/svg",c=document.createElementNS(a,"svg"),f=document.createElementNS(a,"foreignObject");return c.setAttributeNS(null,"width",e.toString()),c.setAttributeNS(null,"height",t.toString()),f.setAttributeNS(null,"width","100%"),f.setAttributeNS(null,"height","100%"),f.setAttributeNS(null,"x",r.toString()),f.setAttributeNS(null,"y",n.toString()),f.setAttributeNS(null,"externalResourcesRequired","true"),c.appendChild(f),f.appendChild(s),c},uw=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){return t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},fr={get SUPPORT_RANGE_BOUNDS(){var e=g_(document);return Object.defineProperty(fr,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=fr.SUPPORT_RANGE_BOUNDS&&p_(document);return Object.defineProperty(fr,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=x_(document);return Object.defineProperty(fr,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?B_(document):Promise.resolve(!1);return Object.defineProperty(fr,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=w_();return Object.defineProperty(fr,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=m_();return Object.defineProperty(fr,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(fr,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(fr,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},fo=function(){function e(t,r){this.text=t,this.bounds=r}return e}(),y_=function(e,t,r,n){var s=b_(t,r),a=[],c=0;return s.forEach(function(f){if(r.textDecorationLine.length||f.trim().length>0)if(fr.SUPPORT_RANGE_BOUNDS){var g=dw(n,c,f.length).getClientRects();if(g.length>1){var w=lg(f),B=0;w.forEach(function(v){a.push(new fo(v,xA.fromDOMRectList(e,dw(n,B+c,v.length).getClientRects()))),B+=v.length})}else a.push(new fo(f,xA.fromDOMRectList(e,g)))}else{var x=n.splitText(f.length);a.push(new fo(f,C_(e,n))),n=x}else fr.SUPPORT_RANGE_BOUNDS||(n=n.splitText(f.length));c+=f.length}),a},C_=function(e,t){var r=t.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(t.cloneNode(!0));var s=t.parentNode;if(s){s.replaceChild(n,t);var a=ku(e,n);return n.firstChild&&s.replaceChild(n.firstChild,n),a}}return xA.EMPTY},dw=function(e,t,r){var n=e.ownerDocument;if(!n)throw new Error("Node has no owner document");var s=n.createRange();return s.setStart(e,t),s.setEnd(e,t+r),s},lg=function(e){if(fr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(r){return r.segment})}return f_(e)},v_=function(e,t){if(fr.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(e)).map(function(n){return n.segment})}return S_(e,t)},b_=function(e,t){return t.letterSpacing!==0?lg(e):v_(e,t)},E_=[32,160,4961,65792,65793,4153,4241],S_=function(e,t){for(var r=$F(e,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),n=[],s,a=function(){if(s.value){var c=s.value.slice(),f=Qu(c),g="";f.forEach(function(w){E_.indexOf(w)===-1?g+=Vt(w):(g.length&&n.push(g),n.push(Vt(w)),g="")}),g.length&&n.push(g)}};!(s=r.next()).done;)a();return n},I_=function(){function e(t,r,n){this.text=F_(r.data,n.textTransform),this.textBounds=y_(t,this.text,n,r)}return e}(),F_=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(N_,T_);case 2:return e.toUpperCase();default:return e}},N_=/(^|\s|:|-|\(|\))([a-z])/g,T_=function(e,t,r){return e.length>0?t+r.toUpperCase():e},Ky=function(e){jn(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.src=n.currentSrc||n.src,s.intrinsicWidth=n.naturalWidth,s.intrinsicHeight=n.naturalHeight,s.context.cache.addImage(s.src),s}return t}(nA),Vy=function(e){jn(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.canvas=n,s.intrinsicWidth=n.width,s.intrinsicHeight=n.height,s}return t}(nA),Gy=function(e){jn(t,e);function t(r,n){var s=e.call(this,r,n)||this,a=new XMLSerializer,c=ku(r,n);return n.setAttribute("width",c.width+"px"),n.setAttribute("height",c.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(a.serializeToString(n)),s.intrinsicWidth=n.width.baseVal.value,s.intrinsicHeight=n.height.baseVal.value,s.context.cache.addImage(s.svg),s}return t}(nA),zy=function(e){jn(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.value=n.value,s}return t}(nA),zf=function(e){jn(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.start=n.start,s.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,s}return t}(nA),U_=[{type:15,flags:0,unit:"px",number:3}],__=[{type:16,flags:0,number:50}],k_=function(e){return e.width>e.height?new xA(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new xA(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},Q_=function(e){var t=e.type===O_?new Array(e.value.length+1).join(""):e.value;return t.length===0?e.placeholder||"":t},$c="checkbox",eu="radio",O_="password",hw=707406591,cg=function(e){jn(t,e);function t(r,n){var s=e.call(this,r,n)||this;switch(s.type=n.type.toLowerCase(),s.checked=n.checked,s.value=Q_(n),(s.type===$c||s.type===eu)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=k_(s.bounds)),s.type){case $c:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=U_;break;case eu:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=__;break}return s}return t}(nA),Wy=function(e){jn(t,e);function t(r,n){var s=e.call(this,r,n)||this,a=n.options[n.selectedIndex||0];return s.value=a&&a.text||"",s}return t}(nA),Yy=function(e){jn(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.value=n.value,s}return t}(nA),Xy=function(e){jn(t,e);function t(r,n){var s=e.call(this,r,n)||this;s.src=n.src,s.width=parseInt(n.width,10)||0,s.height=parseInt(n.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){s.tree=Zy(r,n.contentWindow.document.documentElement);var a=n.contentWindow.document.documentElement?uo(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):hA.TRANSPARENT,c=n.contentWindow.document.body?uo(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):hA.TRANSPARENT;s.backgroundColor=is(a)?is(c)?s.styles.backgroundColor:c:a}}catch{}return s}return t}(nA),D_=["OL","UL","MENU"],pc=function(e,t,r,n){for(var s=t.firstChild,a=void 0;s;s=a)if(a=s.nextSibling,qy(s)&&s.data.trim().length>0)r.textNodes.push(new I_(e,s,r.styles));else if(Ri(s))if(rC(s)&&s.assignedNodes)s.assignedNodes().forEach(function(f){return pc(e,f,r,n)});else{var c=Jy(e,s);c.styles.isVisible()&&(R_(s,c,n)?c.flags|=4:M_(c.styles)&&(c.flags|=2),D_.indexOf(s.tagName)!==-1&&(c.flags|=8),r.elements.push(c),s.slot,s.shadowRoot?pc(e,s.shadowRoot,c,n):!tu(s)&&!$y(s)&&!ru(s)&&pc(e,s,c,n))}},Jy=function(e,t){return Yf(t)?new Ky(e,t):eC(t)?new Vy(e,t):$y(t)?new Gy(e,t):L_(t)?new zy(e,t):j_(t)?new zf(e,t):H_(t)?new cg(e,t):ru(t)?new Wy(e,t):tu(t)?new Yy(e,t):tC(t)?new Xy(e,t):new nA(e,t)},Zy=function(e,t){var r=Jy(e,t);return r.flags|=4,pc(e,t,r,r),r},R_=function(e,t,r){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||ug(e)&&r.styles.isTransparent()},M_=function(e){return e.isPositioned()||e.isFloating()},qy=function(e){return e.nodeType===Node.TEXT_NODE},Ri=function(e){return e.nodeType===Node.ELEMENT_NODE},Wf=function(e){return Ri(e)&&typeof e.style<"u"&&!wc(e)},wc=function(e){return typeof e.className=="object"},L_=function(e){return e.tagName==="LI"},j_=function(e){return e.tagName==="OL"},H_=function(e){return e.tagName==="INPUT"},P_=function(e){return e.tagName==="HTML"},$y=function(e){return e.tagName==="svg"},ug=function(e){return e.tagName==="BODY"},eC=function(e){return e.tagName==="CANVAS"},fw=function(e){return e.tagName==="VIDEO"},Yf=function(e){return e.tagName==="IMG"},tC=function(e){return e.tagName==="IFRAME"},gw=function(e){return e.tagName==="STYLE"},K_=function(e){return e.tagName==="SCRIPT"},tu=function(e){return e.tagName==="TEXTAREA"},ru=function(e){return e.tagName==="SELECT"},rC=function(e){return e.tagName==="SLOT"},pw=function(e){return e.tagName.indexOf("-")>0},V_=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(t){var r=this.counters[t];return r&&r.length?r[r.length-1]:1},e.prototype.getCounterValues=function(t){var r=this.counters[t];return r||[]},e.prototype.pop=function(t){var r=this;t.forEach(function(n){return r.counters[n].pop()})},e.prototype.parse=function(t){var r=this,n=t.counterIncrement,s=t.counterReset,a=!0;n!==null&&n.forEach(function(f){var g=r.counters[f.counter];g&&f.increment!==0&&(a=!1,g.length||g.push(1),g[Math.max(0,g.length-1)]+=f.increment)});var c=[];return a&&s.forEach(function(f){var g=r.counters[f.counter];c.push(f.counter),g||(g=r.counters[f.counter]=[]),g.push(f.reset)}),c},e}(),ww={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},mw={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},G_={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},z_={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},pi=function(e,t,r,n,s,a){return e<t||e>r?Vo(e,s,a.length>0):n.integers.reduce(function(c,f,g){for(;e>=f;)e-=f,c+=n.values[g];return c},"")+a},nC=function(e,t,r,n){var s="";do r||e--,s=n(e)+s,e/=t;while(e*t>=t);return s},Kt=function(e,t,r,n,s){var a=r-t+1;return(e<0?"-":"")+(nC(Math.abs(e),a,n,function(c){return Vt(Math.floor(c%a)+t)})+s)},bs=function(e,t,r){r===void 0&&(r=". ");var n=t.length;return nC(Math.abs(e),n,!1,function(s){return t[Math.floor(s%n)]})+r},Ci=1,_A=2,kA=4,qa=8,sA=function(e,t,r,n,s,a){if(e<-9999||e>9999)return Vo(e,4,s.length>0);var c=Math.abs(e),f=s;if(c===0)return t[0]+f;for(var g=0;c>0&&g<=4;g++){var w=c%10;w===0&&tr(a,Ci)&&f!==""?f=t[w]+f:w>1||w===1&&g===0||w===1&&g===1&&tr(a,_A)||w===1&&g===1&&tr(a,kA)&&e>100||w===1&&g>1&&tr(a,qa)?f=t[w]+(g>0?r[g-1]:"")+f:w===1&&g>0&&(f=r[g-1]+f),c=Math.floor(c/10)}return(e<0?n:"")+f},xw="",Bw="",yw="",ch="",Vo=function(e,t,r){var n=r?". ":"",s=r?"":"",a=r?", ":"",c=r?" ":"";switch(t){case 0:return""+c;case 1:return""+c;case 2:return""+c;case 5:var f=Kt(e,48,57,!0,n);return f.length<4?"0"+f:f;case 4:return bs(e,"",s);case 6:return pi(e,1,3999,ww,3,n).toLowerCase();case 7:return pi(e,1,3999,ww,3,n);case 8:return Kt(e,945,969,!1,n);case 9:return Kt(e,97,122,!1,n);case 10:return Kt(e,65,90,!1,n);case 11:return Kt(e,1632,1641,!0,n);case 12:case 49:return pi(e,1,9999,mw,3,n);case 35:return pi(e,1,9999,mw,3,n).toLowerCase();case 13:return Kt(e,2534,2543,!0,n);case 14:case 30:return Kt(e,6112,6121,!0,n);case 15:return bs(e,"",s);case 16:return bs(e,"",s);case 17:case 48:return sA(e,"",xw,"",s,_A|kA|qa);case 47:return sA(e,"",Bw,"",s,Ci|_A|kA|qa);case 42:return sA(e,"",xw,"",s,_A|kA|qa);case 41:return sA(e,"",Bw,"",s,Ci|_A|kA|qa);case 26:return sA(e,"","",yw,s,0);case 25:return sA(e,"","",yw,s,Ci|_A|kA);case 31:return sA(e,"","",ch,a,Ci|_A|kA);case 33:return sA(e,"","",ch,a,0);case 32:return sA(e,"","",ch,a,Ci|_A|kA);case 18:return Kt(e,2406,2415,!0,n);case 20:return pi(e,1,19999,z_,3,n);case 21:return Kt(e,2790,2799,!0,n);case 22:return Kt(e,2662,2671,!0,n);case 22:return pi(e,1,10999,G_,3,n);case 23:return bs(e,"");case 24:return bs(e,"");case 27:return Kt(e,3302,3311,!0,n);case 28:return bs(e,"",s);case 29:return bs(e,"",s);case 34:return Kt(e,3792,3801,!0,n);case 37:return Kt(e,6160,6169,!0,n);case 38:return Kt(e,4160,4169,!0,n);case 39:return Kt(e,2918,2927,!0,n);case 40:return Kt(e,1776,1785,!0,n);case 43:return Kt(e,3046,3055,!0,n);case 44:return Kt(e,3174,3183,!0,n);case 45:return Kt(e,3664,3673,!0,n);case 46:return Kt(e,3872,3881,!0,n);case 3:default:return Kt(e,48,57,!0,n)}},AC="data-html2canvas-ignore",Cw=function(){function e(t,r,n){if(this.context=t,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new V_,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(t,r){var n=this,s=W_(t,r);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var a=t.defaultView.pageXOffset,c=t.defaultView.pageYOffset,f=s.contentWindow,g=f.document,w=J_(s).then(function(){return Nr(n,void 0,void 0,function(){var B,x;return vr(this,function(v){switch(v.label){case 0:return this.scrolledElements.forEach(ek),f&&(f.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(f.scrollY!==r.top||f.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(f.scrollX-r.left,f.scrollY-r.top,0,0))),B=this.options.onclone,x=this.clonedReferenceElement,typeof x>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:g.fonts&&g.fonts.ready?[4,g.fonts.ready]:[3,2];case 1:v.sent(),v.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,X_(g)]:[3,4];case 3:v.sent(),v.label=4;case 4:return typeof B=="function"?[2,Promise.resolve().then(function(){return B(g,x)}).then(function(){return s})]:[2,s]}})})});return g.open(),g.write(q_(document.doctype)+"<html></html>"),$_(this.referenceElement.ownerDocument,a,c),g.replaceChild(g.adoptNode(this.documentElement),g.documentElement),g.close(),w},e.prototype.createElementClone=function(t){if(Vf(t,2))debugger;if(eC(t))return this.createCanvasClone(t);if(fw(t))return this.createVideoClone(t);if(gw(t))return this.createStyleClone(t);var r=t.cloneNode(!1);return Yf(r)&&(Yf(t)&&t.currentSrc&&t.currentSrc!==t.src&&(r.src=t.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),pw(r)?this.createCustomElementClone(r):r},e.prototype.createCustomElementClone=function(t){var r=document.createElement("html2canvascustomelement");return uh(t.style,r),r},e.prototype.createStyleClone=function(t){try{var r=t.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(a,c){return c&&typeof c.cssText=="string"?a+c.cssText:a},""),s=t.cloneNode(!1);return s.textContent=n,s}}catch(a){if(this.context.logger.error("Unable to access cssRules property",a),a.name!=="SecurityError")throw a}return t.cloneNode(!1)},e.prototype.createCanvasClone=function(t){var r;if(this.options.inlineImages&&t.ownerDocument){var n=t.ownerDocument.createElement("img");try{return n.src=t.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var s=t.cloneNode(!1);try{s.width=t.width,s.height=t.height;var a=t.getContext("2d"),c=s.getContext("2d");if(c)if(!this.options.allowTaint&&a)c.putImageData(a.getImageData(0,0,t.width,t.height),0,0);else{var f=(r=t.getContext("webgl2"))!==null&&r!==void 0?r:t.getContext("webgl");if(f){var g=f.getContextAttributes();(g==null?void 0:g.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}c.drawImage(t,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return s},e.prototype.createVideoClone=function(t){var r=t.ownerDocument.createElement("canvas");r.width=t.offsetWidth,r.height=t.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(t,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var s=t.ownerDocument.createElement("canvas");return s.width=t.offsetWidth,s.height=t.offsetHeight,s},e.prototype.appendChildNode=function(t,r,n){(!Ri(r)||!K_(r)&&!r.hasAttribute(AC)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!Ri(r)||!gw(r))&&t.appendChild(this.cloneNode(r,n))},e.prototype.cloneChildNodes=function(t,r,n){for(var s=this,a=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;a;a=a.nextSibling)if(Ri(a)&&rC(a)&&typeof a.assignedNodes=="function"){var c=a.assignedNodes();c.length&&c.forEach(function(f){return s.appendChildNode(r,f,n)})}else this.appendChildNode(r,a,n)},e.prototype.cloneNode=function(t,r){if(qy(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var n=t.ownerDocument.defaultView;if(n&&Ri(t)&&(Wf(t)||wc(t))){var s=this.createElementClone(t);s.style.transitionProperty="none";var a=n.getComputedStyle(t),c=n.getComputedStyle(t,":before"),f=n.getComputedStyle(t,":after");this.referenceElement===t&&Wf(s)&&(this.clonedReferenceElement=s),ug(s)&&nk(s);var g=this.counters.parse(new $p(this.context,a)),w=this.resolvePseudoContent(t,s,c,go.BEFORE);pw(t)&&(r=!0),fw(t)||this.cloneChildNodes(t,s,r),w&&s.insertBefore(w,s.firstChild);var B=this.resolvePseudoContent(t,s,f,go.AFTER);return B&&s.appendChild(B),this.counters.pop(g),(a&&(this.options.copyStyles||wc(t))&&!tC(t)||r)&&uh(a,s),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([s,t.scrollLeft,t.scrollTop]),(tu(t)||ru(t))&&(tu(s)||ru(s))&&(s.value=t.value),s}return t.cloneNode(!1)},e.prototype.resolvePseudoContent=function(t,r,n,s){var a=this;if(n){var c=n.content,f=r.ownerDocument;if(!(!f||!c||c==="none"||c==="-moz-alt-content"||n.display==="none")){this.counters.parse(new $p(this.context,n));var g=new LU(this.context,n),w=f.createElement("html2canvaspseudoelement");uh(n,w),g.content.forEach(function(x){if(x.type===0)w.appendChild(f.createTextNode(x.value));else if(x.type===22){var v=f.createElement("img");v.src=x.value,v.style.opacity="1",w.appendChild(v)}else if(x.type===18){if(x.name==="attr"){var E=x.values.filter(ct);E.length&&w.appendChild(f.createTextNode(t.getAttribute(E[0].value)||""))}else if(x.name==="counter"){var b=x.values.filter(Aa),S=b[0],R=b[1];if(S&&ct(S)){var T=a.counters.getCounterValue(S.value),I=R&&ct(R)?Kf.parse(a.context,R.value):3;w.appendChild(f.createTextNode(Vo(T,I,!1)))}}else if(x.name==="counters"){var U=x.values.filter(Aa),S=U[0],k=U[1],R=U[2];if(S&&ct(S)){var H=a.counters.getCounterValues(S.value),M=R&&ct(R)?Kf.parse(a.context,R.value):3,L=k&&k.type===0?k.value:"",X=H.map(function(Ne){return Vo(Ne,M,!1)}).join(L);w.appendChild(f.createTextNode(X))}}}else if(x.type===20)switch(x.value){case"open-quote":w.appendChild(f.createTextNode(qp(g.quotes,a.quoteDepth++,!0)));break;case"close-quote":w.appendChild(f.createTextNode(qp(g.quotes,--a.quoteDepth,!1)));break;default:w.appendChild(f.createTextNode(x.value))}}),w.className=Xf+" "+Jf;var B=s===go.BEFORE?" "+Xf:" "+Jf;return wc(r)?r.className.baseValue+=B:r.className+=B,w}}},e.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},e}(),go;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(go||(go={}));var W_=function(e,t){var r=e.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=t.width.toString(),r.height=t.height.toString(),r.scrolling="no",r.setAttribute(AC,"true"),e.body.appendChild(r),r},Y_=function(e){return new Promise(function(t){if(e.complete){t();return}if(!e.src){t();return}e.onload=t,e.onerror=t})},X_=function(e){return Promise.all([].slice.call(e.images,0).map(Y_))},J_=function(e){return new Promise(function(t,r){var n=e.contentWindow;if(!n)return r("No window assigned for iframe");var s=n.document;n.onload=e.onload=function(){n.onload=e.onload=null;var a=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(a),t(e))},50)}})},Z_=["all","d","content"],uh=function(e,t){for(var r=e.length-1;r>=0;r--){var n=e.item(r);Z_.indexOf(n)===-1&&t.style.setProperty(n,e.getPropertyValue(n))}return t},q_=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},$_=function(e,t,r){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||r!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,r)},ek=function(e){var t=e[0],r=e[1],n=e[2];t.scrollLeft=r,t.scrollTop=n},tk=":before",rk=":after",Xf="___html2canvas___pseudoelement_before",Jf="___html2canvas___pseudoelement_after",vw=`{
    content: "" !important;
    display: none !important;
}`,nk=function(e){Ak(e,"."+Xf+tk+vw+`
         .`+Jf+rk+vw)},Ak=function(e,t){var r=e.ownerDocument;if(r){var n=r.createElement("style");n.textContent=t,e.appendChild(n)}},sC=function(){function e(){}return e.getOrigin=function(t){var r=e._link;return r?(r.href=t,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),sk=function(){function e(t,r){this.context=t,this._options=r,this._cache={}}return e.prototype.addImage=function(t){var r=Promise.resolve();return this.has(t)||(hh(t)||lk(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),r},e.prototype.match=function(t){return this._cache[t]},e.prototype.loadImage=function(t){return Nr(this,void 0,void 0,function(){var r,n,s,a,c=this;return vr(this,function(f){switch(f.label){case 0:return r=sC.isSameOrigin(t),n=!dh(t)&&this._options.useCORS===!0&&fr.SUPPORT_CORS_IMAGES&&!r,s=!dh(t)&&!r&&!hh(t)&&typeof this._options.proxy=="string"&&fr.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!dh(t)&&!hh(t)&&!s&&!n?[2]:(a=t,s?[4,this.proxy(a)]:[3,2]);case 1:a=f.sent(),f.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(g,w){var B=new Image;B.onload=function(){return g(B)},B.onerror=w,(ck(a)||n)&&(B.crossOrigin="anonymous"),B.src=a,B.complete===!0&&setTimeout(function(){return g(B)},500),c._options.imageTimeout>0&&setTimeout(function(){return w("Timed out ("+c._options.imageTimeout+"ms) loading image")},c._options.imageTimeout)})];case 3:return[2,f.sent()]}})})},e.prototype.has=function(t){return typeof this._cache[t]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(t){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var s=t.substring(0,256);return new Promise(function(a,c){var f=fr.SUPPORT_RESPONSE_TYPE?"blob":"text",g=new XMLHttpRequest;g.onload=function(){if(g.status===200)if(f==="text")a(g.response);else{var x=new FileReader;x.addEventListener("load",function(){return a(x.result)},!1),x.addEventListener("error",function(v){return c(v)},!1),x.readAsDataURL(g.response)}else c("Failed to proxy resource "+s+" with status code "+g.status)},g.onerror=c;var w=n.indexOf("?")>-1?"&":"?";if(g.open("GET",""+n+w+"url="+encodeURIComponent(t)+"&responseType="+f),f!=="text"&&g instanceof XMLHttpRequest&&(g.responseType=f),r._options.imageTimeout){var B=r._options.imageTimeout;g.timeout=B,g.ontimeout=function(){return c("Timed out ("+B+"ms) proxying "+s)}}g.send()})},e}(),ik=/^data:image\/svg\+xml/i,ak=/^data:image\/.*;base64,/i,ok=/^data:image\/.*/i,lk=function(e){return fr.SUPPORT_SVG_DRAWING||!uk(e)},dh=function(e){return ok.test(e)},ck=function(e){return ak.test(e)},hh=function(e){return e.substr(0,4)==="blob"},uk=function(e){return e.substr(-3).toLowerCase()==="svg"||ik.test(e)},Ce=function(){function e(t,r){this.type=0,this.x=t,this.y=r}return e.prototype.add=function(t,r){return new e(this.x+t,this.y+r)},e}(),wi=function(e,t,r){return new Ce(e.x+(t.x-e.x)*r,e.y+(t.y-e.y)*r)},Zl=function(){function e(t,r,n,s){this.type=1,this.start=t,this.startControl=r,this.endControl=n,this.end=s}return e.prototype.subdivide=function(t,r){var n=wi(this.start,this.startControl,t),s=wi(this.startControl,this.endControl,t),a=wi(this.endControl,this.end,t),c=wi(n,s,t),f=wi(s,a,t),g=wi(c,f,t);return r?new e(this.start,n,c,g):new e(g,f,a,this.end)},e.prototype.add=function(t,r){return new e(this.start.add(t,r),this.startControl.add(t,r),this.endControl.add(t,r),this.end.add(t,r))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),mn=function(e){return e.type===1},dk=function(){function e(t){var r=t.styles,n=t.bounds,s=Ja(r.borderTopLeftRadius,n.width,n.height),a=s[0],c=s[1],f=Ja(r.borderTopRightRadius,n.width,n.height),g=f[0],w=f[1],B=Ja(r.borderBottomRightRadius,n.width,n.height),x=B[0],v=B[1],E=Ja(r.borderBottomLeftRadius,n.width,n.height),b=E[0],S=E[1],R=[];R.push((a+g)/n.width),R.push((b+x)/n.width),R.push((c+S)/n.height),R.push((w+v)/n.height);var T=Math.max.apply(Math,R);T>1&&(a/=T,c/=T,g/=T,w/=T,x/=T,v/=T,b/=T,S/=T);var I=n.width-g,U=n.height-v,k=n.width-x,H=n.height-S,M=r.borderTopWidth,L=r.borderRightWidth,X=r.borderBottomWidth,G=r.borderLeftWidth,ce=pt(r.paddingTop,t.bounds.width),Ne=pt(r.paddingRight,t.bounds.width),fe=pt(r.paddingBottom,t.bounds.width),me=pt(r.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=a>0||c>0?Et(n.left+G/3,n.top+M/3,a-G/3,c-M/3,st.TOP_LEFT):new Ce(n.left+G/3,n.top+M/3),this.topRightBorderDoubleOuterBox=a>0||c>0?Et(n.left+I,n.top+M/3,g-L/3,w-M/3,st.TOP_RIGHT):new Ce(n.left+n.width-L/3,n.top+M/3),this.bottomRightBorderDoubleOuterBox=x>0||v>0?Et(n.left+k,n.top+U,x-L/3,v-X/3,st.BOTTOM_RIGHT):new Ce(n.left+n.width-L/3,n.top+n.height-X/3),this.bottomLeftBorderDoubleOuterBox=b>0||S>0?Et(n.left+G/3,n.top+H,b-G/3,S-X/3,st.BOTTOM_LEFT):new Ce(n.left+G/3,n.top+n.height-X/3),this.topLeftBorderDoubleInnerBox=a>0||c>0?Et(n.left+G*2/3,n.top+M*2/3,a-G*2/3,c-M*2/3,st.TOP_LEFT):new Ce(n.left+G*2/3,n.top+M*2/3),this.topRightBorderDoubleInnerBox=a>0||c>0?Et(n.left+I,n.top+M*2/3,g-L*2/3,w-M*2/3,st.TOP_RIGHT):new Ce(n.left+n.width-L*2/3,n.top+M*2/3),this.bottomRightBorderDoubleInnerBox=x>0||v>0?Et(n.left+k,n.top+U,x-L*2/3,v-X*2/3,st.BOTTOM_RIGHT):new Ce(n.left+n.width-L*2/3,n.top+n.height-X*2/3),this.bottomLeftBorderDoubleInnerBox=b>0||S>0?Et(n.left+G*2/3,n.top+H,b-G*2/3,S-X*2/3,st.BOTTOM_LEFT):new Ce(n.left+G*2/3,n.top+n.height-X*2/3),this.topLeftBorderStroke=a>0||c>0?Et(n.left+G/2,n.top+M/2,a-G/2,c-M/2,st.TOP_LEFT):new Ce(n.left+G/2,n.top+M/2),this.topRightBorderStroke=a>0||c>0?Et(n.left+I,n.top+M/2,g-L/2,w-M/2,st.TOP_RIGHT):new Ce(n.left+n.width-L/2,n.top+M/2),this.bottomRightBorderStroke=x>0||v>0?Et(n.left+k,n.top+U,x-L/2,v-X/2,st.BOTTOM_RIGHT):new Ce(n.left+n.width-L/2,n.top+n.height-X/2),this.bottomLeftBorderStroke=b>0||S>0?Et(n.left+G/2,n.top+H,b-G/2,S-X/2,st.BOTTOM_LEFT):new Ce(n.left+G/2,n.top+n.height-X/2),this.topLeftBorderBox=a>0||c>0?Et(n.left,n.top,a,c,st.TOP_LEFT):new Ce(n.left,n.top),this.topRightBorderBox=g>0||w>0?Et(n.left+I,n.top,g,w,st.TOP_RIGHT):new Ce(n.left+n.width,n.top),this.bottomRightBorderBox=x>0||v>0?Et(n.left+k,n.top+U,x,v,st.BOTTOM_RIGHT):new Ce(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=b>0||S>0?Et(n.left,n.top+H,b,S,st.BOTTOM_LEFT):new Ce(n.left,n.top+n.height),this.topLeftPaddingBox=a>0||c>0?Et(n.left+G,n.top+M,Math.max(0,a-G),Math.max(0,c-M),st.TOP_LEFT):new Ce(n.left+G,n.top+M),this.topRightPaddingBox=g>0||w>0?Et(n.left+Math.min(I,n.width-L),n.top+M,I>n.width+L?0:Math.max(0,g-L),Math.max(0,w-M),st.TOP_RIGHT):new Ce(n.left+n.width-L,n.top+M),this.bottomRightPaddingBox=x>0||v>0?Et(n.left+Math.min(k,n.width-G),n.top+Math.min(U,n.height-X),Math.max(0,x-L),Math.max(0,v-X),st.BOTTOM_RIGHT):new Ce(n.left+n.width-L,n.top+n.height-X),this.bottomLeftPaddingBox=b>0||S>0?Et(n.left+G,n.top+Math.min(H,n.height-X),Math.max(0,b-G),Math.max(0,S-X),st.BOTTOM_LEFT):new Ce(n.left+G,n.top+n.height-X),this.topLeftContentBox=a>0||c>0?Et(n.left+G+me,n.top+M+ce,Math.max(0,a-(G+me)),Math.max(0,c-(M+ce)),st.TOP_LEFT):new Ce(n.left+G+me,n.top+M+ce),this.topRightContentBox=g>0||w>0?Et(n.left+Math.min(I,n.width+G+me),n.top+M+ce,I>n.width+G+me?0:g-G+me,w-(M+ce),st.TOP_RIGHT):new Ce(n.left+n.width-(L+Ne),n.top+M+ce),this.bottomRightContentBox=x>0||v>0?Et(n.left+Math.min(k,n.width-(G+me)),n.top+Math.min(U,n.height+M+ce),Math.max(0,x-(L+Ne)),v-(X+fe),st.BOTTOM_RIGHT):new Ce(n.left+n.width-(L+Ne),n.top+n.height-(X+fe)),this.bottomLeftContentBox=b>0||S>0?Et(n.left+G+me,n.top+H,Math.max(0,b-(G+me)),S-(X+fe),st.BOTTOM_LEFT):new Ce(n.left+G+me,n.top+n.height-(X+fe))}return e}(),st;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(st||(st={}));var Et=function(e,t,r,n,s){var a=4*((Math.sqrt(2)-1)/3),c=r*a,f=n*a,g=e+r,w=t+n;switch(s){case st.TOP_LEFT:return new Zl(new Ce(e,w),new Ce(e,w-f),new Ce(g-c,t),new Ce(g,t));case st.TOP_RIGHT:return new Zl(new Ce(e,t),new Ce(e+c,t),new Ce(g,w-f),new Ce(g,w));case st.BOTTOM_RIGHT:return new Zl(new Ce(g,t),new Ce(g,t+f),new Ce(e+c,w),new Ce(e,w));case st.BOTTOM_LEFT:default:return new Zl(new Ce(g,w),new Ce(g-c,w),new Ce(e,t+f),new Ce(e,t))}},nu=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},hk=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},Au=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},fk=function(){function e(t,r,n){this.offsetX=t,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return e}(),ql=function(){function e(t,r){this.path=t,this.target=r,this.type=1}return e}(),gk=function(){function e(t){this.opacity=t,this.type=2,this.target=6}return e}(),pk=function(e){return e.type===0},iC=function(e){return e.type===1},wk=function(e){return e.type===2},bw=function(e,t){return e.length===t.length?e.some(function(r,n){return r===t[n]}):!1},mk=function(e,t,r,n,s){return e.map(function(a,c){switch(c){case 0:return a.add(t,r);case 1:return a.add(t+n,r);case 2:return a.add(t+n,r+s);case 3:return a.add(t,r+s)}return a})},aC=function(){function e(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),oC=function(){function e(t,r){if(this.container=t,this.parent=r,this.effects=[],this.curves=new dk(this.container),this.container.styles.opacity<1&&this.effects.push(new gk(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,a=this.container.styles.transform;this.effects.push(new fk(n,s,a))}if(this.container.styles.overflowX!==0){var c=nu(this.curves),f=Au(this.curves);bw(c,f)?this.effects.push(new ql(c,6)):(this.effects.push(new ql(c,2)),this.effects.push(new ql(f,4)))}}return e.prototype.getEffects=function(t){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,s=this.effects.slice(0);n;){var a=n.effects.filter(function(g){return!iC(g)});if(r||n.container.styles.position!==0||!n.parent){if(s.unshift.apply(s,a),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var c=nu(n.curves),f=Au(n.curves);bw(c,f)||s.unshift(new ql(f,6))}}else s.unshift.apply(s,a);n=n.parent}return s.filter(function(g){return tr(g.target,t)})},e}(),Zf=function(e,t,r,n){e.container.elements.forEach(function(s){var a=tr(s.flags,4),c=tr(s.flags,2),f=new oC(s,e);tr(s.styles.display,2048)&&n.push(f);var g=tr(s.flags,8)?[]:n;if(a||c){var w=a||s.styles.isPositioned()?r:t,B=new aC(f);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var x=s.styles.zIndex.order;if(x<0){var v=0;w.negativeZIndex.some(function(b,S){return x>b.element.container.styles.zIndex.order?(v=S,!1):v>0}),w.negativeZIndex.splice(v,0,B)}else if(x>0){var E=0;w.positiveZIndex.some(function(b,S){return x>=b.element.container.styles.zIndex.order?(E=S+1,!1):E>0}),w.positiveZIndex.splice(E,0,B)}else w.zeroOrAutoZIndexOrTransformedOrOpacity.push(B)}else s.styles.isFloating()?w.nonPositionedFloats.push(B):w.nonPositionedInlineLevel.push(B);Zf(f,B,a?B:r,g)}else s.styles.isInlineLevel()?t.inlineLevel.push(f):t.nonInlineLevel.push(f),Zf(f,t,r,g);tr(s.flags,8)&&lC(s,g)})},lC=function(e,t){for(var r=e instanceof zf?e.start:1,n=e instanceof zf?e.reversed:!1,s=0;s<t.length;s++){var a=t[s];a.container instanceof zy&&typeof a.container.value=="number"&&a.container.value!==0&&(r=a.container.value),a.listValue=Vo(r,a.container.styles.listStyleType,!0),r+=n?-1:1}},xk=function(e){var t=new oC(e,null),r=new aC(t),n=[];return Zf(t,r,r,n),lC(t.container,n),r},Ew=function(e,t){switch(t){case 0:return yn(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return yn(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return yn(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return yn(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},Bk=function(e,t){switch(t){case 0:return yn(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return yn(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return yn(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return yn(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},yk=function(e,t){switch(t){case 0:return yn(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return yn(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return yn(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return yn(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},Ck=function(e,t){switch(t){case 0:return $l(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return $l(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return $l(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return $l(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},$l=function(e,t){var r=[];return mn(e)?r.push(e.subdivide(.5,!1)):r.push(e),mn(t)?r.push(t.subdivide(.5,!0)):r.push(t),r},yn=function(e,t,r,n){var s=[];return mn(e)?s.push(e.subdivide(.5,!1)):s.push(e),mn(r)?s.push(r.subdivide(.5,!0)):s.push(r),mn(n)?s.push(n.subdivide(.5,!0).reverse()):s.push(n),mn(t)?s.push(t.subdivide(.5,!1).reverse()):s.push(t),s},cC=function(e){var t=e.bounds,r=e.styles;return t.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},su=function(e){var t=e.styles,r=e.bounds,n=pt(t.paddingLeft,r.width),s=pt(t.paddingRight,r.width),a=pt(t.paddingTop,r.width),c=pt(t.paddingBottom,r.width);return r.add(n+t.borderLeftWidth,a+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+n+s),-(t.borderTopWidth+t.borderBottomWidth+a+c))},vk=function(e,t){return e===0?t.bounds:e===2?su(t):cC(t)},bk=function(e,t){return e===0?t.bounds:e===2?su(t):cC(t)},fh=function(e,t,r){var n=vk(vi(e.styles.backgroundOrigin,t),e),s=bk(vi(e.styles.backgroundClip,t),e),a=Ek(vi(e.styles.backgroundSize,t),r,n),c=a[0],f=a[1],g=Ja(vi(e.styles.backgroundPosition,t),n.width-c,n.height-f),w=Sk(vi(e.styles.backgroundRepeat,t),g,a,n,s),B=Math.round(n.left+g[0]),x=Math.round(n.top+g[1]);return[w,B,x,c,f]},mi=function(e){return ct(e)&&e.value===Wi.AUTO},ec=function(e){return typeof e=="number"},Ek=function(e,t,r){var n=t[0],s=t[1],a=t[2],c=e[0],f=e[1];if(!c)return[0,0];if(Wt(c)&&f&&Wt(f))return[pt(c,r.width),pt(f,r.height)];var g=ec(a);if(ct(c)&&(c.value===Wi.CONTAIN||c.value===Wi.COVER)){if(ec(a)){var w=r.width/r.height;return w<a!=(c.value===Wi.COVER)?[r.width,r.width/a]:[r.height*a,r.height]}return[r.width,r.height]}var B=ec(n),x=ec(s),v=B||x;if(mi(c)&&(!f||mi(f))){if(B&&x)return[n,s];if(!g&&!v)return[r.width,r.height];if(v&&g){var E=B?n:s*a,b=x?s:n/a;return[E,b]}var S=B?n:r.width,R=x?s:r.height;return[S,R]}if(g){var T=0,I=0;return Wt(c)?T=pt(c,r.width):Wt(f)&&(I=pt(f,r.height)),mi(c)?T=I*a:(!f||mi(f))&&(I=T/a),[T,I]}var U=null,k=null;if(Wt(c)?U=pt(c,r.width):f&&Wt(f)&&(k=pt(f,r.height)),U!==null&&(!f||mi(f))&&(k=B&&x?U/n*s:r.height),k!==null&&mi(c)&&(U=B&&x?k/s*n:r.width),U!==null&&k!==null)return[U,k];throw new Error("Unable to calculate background-size for element")},vi=function(e,t){var r=e[t];return typeof r>"u"?e[0]:r},Sk=function(e,t,r,n,s){var a=t[0],c=t[1],f=r[0],g=r[1];switch(e){case 2:return[new Ce(Math.round(n.left),Math.round(n.top+c)),new Ce(Math.round(n.left+n.width),Math.round(n.top+c)),new Ce(Math.round(n.left+n.width),Math.round(g+n.top+c)),new Ce(Math.round(n.left),Math.round(g+n.top+c))];case 3:return[new Ce(Math.round(n.left+a),Math.round(n.top)),new Ce(Math.round(n.left+a+f),Math.round(n.top)),new Ce(Math.round(n.left+a+f),Math.round(n.height+n.top)),new Ce(Math.round(n.left+a),Math.round(n.height+n.top))];case 1:return[new Ce(Math.round(n.left+a),Math.round(n.top+c)),new Ce(Math.round(n.left+a+f),Math.round(n.top+c)),new Ce(Math.round(n.left+a+f),Math.round(n.top+c+g)),new Ce(Math.round(n.left+a),Math.round(n.top+c+g))];default:return[new Ce(Math.round(s.left),Math.round(s.top)),new Ce(Math.round(s.left+s.width),Math.round(s.top)),new Ce(Math.round(s.left+s.width),Math.round(s.height+s.top)),new Ce(Math.round(s.left),Math.round(s.height+s.top))]}},Ik="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Sw="Hidden Text",Fk=function(){function e(t){this._data={},this._document=t}return e.prototype.parseMetrics=function(t,r){var n=this._document.createElement("div"),s=this._document.createElement("img"),a=this._document.createElement("span"),c=this._document.body;n.style.visibility="hidden",n.style.fontFamily=t,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",c.appendChild(n),s.src=Ik,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",a.style.fontFamily=t,a.style.fontSize=r,a.style.margin="0",a.style.padding="0",a.appendChild(this._document.createTextNode(Sw)),n.appendChild(a),n.appendChild(s);var f=s.offsetTop-a.offsetTop+2;n.removeChild(a),n.appendChild(this._document.createTextNode(Sw)),n.style.lineHeight="normal",s.style.verticalAlign="super";var g=s.offsetTop-n.offsetTop+2;return c.removeChild(n),{baseline:f,middle:g}},e.prototype.getMetrics=function(t,r){var n=t+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(t,r)),this._data[n]},e}(),uC=function(){function e(t,r){this.context=t,this.options=r}return e}(),Nk=1e4,Tk=function(e){jn(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s._activeEffects=[],s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),n.canvas||(s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px"),s.fontMetrics=new Fk(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),s}return t.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(s){return n.applyEffect(s)})},t.prototype.applyEffect=function(r){this.ctx.save(),wk(r)&&(this.ctx.globalAlpha=r.opacity),pk(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),iC(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(r){return Nr(this,void 0,void 0,function(){var n;return vr(this,function(s){switch(s.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(r){return Nr(this,void 0,void 0,function(){return vr(this,function(n){switch(n.label){case 0:if(tr(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(r,n,s){var a=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+s);else{var c=lg(r.text);c.reduce(function(f,g){return a.ctx.fillText(g,f,r.bounds.top+s),f+a.ctx.measureText(g).width},r.bounds.left)}},t.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(c){return c==="normal"||c==="small-caps"}).join(""),s=Ok(r.fontFamily).join(", "),a=el(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,a,s].join(" "),s,a]},t.prototype.renderTextNode=function(r,n){return Nr(this,void 0,void 0,function(){var s,a,c,f,g,w,B,x,v=this;return vr(this,function(E){return s=this.createFontStyle(n),a=s[0],c=s[1],f=s[2],this.ctx.font=a,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",g=this.fontMetrics.getMetrics(c,f),w=g.baseline,B=g.middle,x=n.paintOrder,r.textBounds.forEach(function(b){x.forEach(function(S){switch(S){case 0:v.ctx.fillStyle=sr(n.color),v.renderTextWithLetterSpacing(b,n.letterSpacing,w);var R=n.textShadow;R.length&&b.text.trim().length&&(R.slice(0).reverse().forEach(function(T){v.ctx.shadowColor=sr(T.color),v.ctx.shadowOffsetX=T.offsetX.number*v.options.scale,v.ctx.shadowOffsetY=T.offsetY.number*v.options.scale,v.ctx.shadowBlur=T.blur.number,v.renderTextWithLetterSpacing(b,n.letterSpacing,w)}),v.ctx.shadowColor="",v.ctx.shadowOffsetX=0,v.ctx.shadowOffsetY=0,v.ctx.shadowBlur=0),n.textDecorationLine.length&&(v.ctx.fillStyle=sr(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(T){switch(T){case 1:v.ctx.fillRect(b.bounds.left,Math.round(b.bounds.top+w),b.bounds.width,1);break;case 2:v.ctx.fillRect(b.bounds.left,Math.round(b.bounds.top),b.bounds.width,1);break;case 3:v.ctx.fillRect(b.bounds.left,Math.ceil(b.bounds.top+B),b.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&b.text.trim().length&&(v.ctx.strokeStyle=sr(n.webkitTextStrokeColor),v.ctx.lineWidth=n.webkitTextStrokeWidth,v.ctx.lineJoin=window.chrome?"miter":"round",v.ctx.strokeText(b.text,b.bounds.left,b.bounds.top+w)),v.ctx.strokeStyle="",v.ctx.lineWidth=0,v.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(r,n,s){if(s&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var a=su(r),c=Au(n);this.path(c),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,r.intrinsicWidth,r.intrinsicHeight,a.left,a.top,a.width,a.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(r){return Nr(this,void 0,void 0,function(){var n,s,a,c,f,g,I,I,w,B,x,v,k,E,b,H,S,R,T,I,U,k,H;return vr(this,function(M){switch(M.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,s=r.curves,a=n.styles,c=0,f=n.textNodes,M.label=1;case 1:return c<f.length?(g=f[c],[4,this.renderTextNode(g,a)]):[3,4];case 2:M.sent(),M.label=3;case 3:return c++,[3,1];case 4:if(!(n instanceof Ky))return[3,8];M.label=5;case 5:return M.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return I=M.sent(),this.renderReplacedElement(n,s,I),[3,8];case 7:return M.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof Vy&&this.renderReplacedElement(n,s,n.canvas),!(n instanceof Gy))return[3,12];M.label=9;case 9:return M.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return I=M.sent(),this.renderReplacedElement(n,s,I),[3,12];case 11:return M.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof Xy&&n.tree?(w=new t(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,w.render(n.tree)]):[3,14];case 13:B=M.sent(),n.width&&n.height&&this.ctx.drawImage(B,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),M.label=14;case 14:if(n instanceof cg&&(x=Math.min(n.bounds.width,n.bounds.height),n.type===$c?n.checked&&(this.ctx.save(),this.path([new Ce(n.bounds.left+x*.39363,n.bounds.top+x*.79),new Ce(n.bounds.left+x*.16,n.bounds.top+x*.5549),new Ce(n.bounds.left+x*.27347,n.bounds.top+x*.44071),new Ce(n.bounds.left+x*.39694,n.bounds.top+x*.5649),new Ce(n.bounds.left+x*.72983,n.bounds.top+x*.23),new Ce(n.bounds.left+x*.84,n.bounds.top+x*.34085),new Ce(n.bounds.left+x*.39363,n.bounds.top+x*.79)]),this.ctx.fillStyle=sr(hw),this.ctx.fill(),this.ctx.restore()):n.type===eu&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+x/2,n.bounds.top+x/2,x/4,0,Math.PI*2,!0),this.ctx.fillStyle=sr(hw),this.ctx.fill(),this.ctx.restore())),Uk(n)&&n.value.length){switch(v=this.createFontStyle(a),k=v[0],E=v[1],b=this.fontMetrics.getMetrics(k,E).baseline,this.ctx.font=k,this.ctx.fillStyle=sr(a.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=kk(n.styles.textAlign),H=su(n),S=0,n.styles.textAlign){case 1:S+=H.width/2;break;case 2:S+=H.width;break}R=H.add(S,0,0,-H.height/2+1),this.ctx.save(),this.path([new Ce(H.left,H.top),new Ce(H.left+H.width,H.top),new Ce(H.left+H.width,H.top+H.height),new Ce(H.left,H.top+H.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new fo(n.value,R),a.letterSpacing,b),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!tr(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(T=n.styles.listStyleImage,T.type!==0)return[3,18];I=void 0,U=T.url,M.label=15;case 15:return M.trys.push([15,17,,18]),[4,this.context.cache.match(U)];case 16:return I=M.sent(),this.ctx.drawImage(I,n.bounds.left-(I.width+10),n.bounds.top),[3,18];case 17:return M.sent(),this.context.logger.error("Error loading list-style-image "+U),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(k=this.createFontStyle(a)[0],this.ctx.font=k,this.ctx.fillStyle=sr(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",H=new xA(n.bounds.left,n.bounds.top+pt(n.styles.paddingTop,n.bounds.width),n.bounds.width,Jp(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new fo(r.listValue,H),a.letterSpacing,Jp(a.lineHeight,a.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),M.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(r){return Nr(this,void 0,void 0,function(){var n,s,T,a,c,T,f,g,T,w,B,T,x,v,T,E,b,T,S,R,T;return vr(this,function(I){switch(I.label){case 0:if(tr(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:I.sent(),n=0,s=r.negativeZIndex,I.label=2;case 2:return n<s.length?(T=s[n],[4,this.renderStack(T)]):[3,5];case 3:I.sent(),I.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:I.sent(),a=0,c=r.nonInlineLevel,I.label=7;case 7:return a<c.length?(T=c[a],[4,this.renderNode(T)]):[3,10];case 8:I.sent(),I.label=9;case 9:return a++,[3,7];case 10:f=0,g=r.nonPositionedFloats,I.label=11;case 11:return f<g.length?(T=g[f],[4,this.renderStack(T)]):[3,14];case 12:I.sent(),I.label=13;case 13:return f++,[3,11];case 14:w=0,B=r.nonPositionedInlineLevel,I.label=15;case 15:return w<B.length?(T=B[w],[4,this.renderStack(T)]):[3,18];case 16:I.sent(),I.label=17;case 17:return w++,[3,15];case 18:x=0,v=r.inlineLevel,I.label=19;case 19:return x<v.length?(T=v[x],[4,this.renderNode(T)]):[3,22];case 20:I.sent(),I.label=21;case 21:return x++,[3,19];case 22:E=0,b=r.zeroOrAutoZIndexOrTransformedOrOpacity,I.label=23;case 23:return E<b.length?(T=b[E],[4,this.renderStack(T)]):[3,26];case 24:I.sent(),I.label=25;case 25:return E++,[3,23];case 26:S=0,R=r.positiveZIndex,I.label=27;case 27:return S<R.length?(T=R[S],[4,this.renderStack(T)]):[3,30];case 28:I.sent(),I.label=29;case 29:return S++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},t.prototype.formatPath=function(r){var n=this;r.forEach(function(s,a){var c=mn(s)?s.start:s;a===0?n.ctx.moveTo(c.x,c.y):n.ctx.lineTo(c.x,c.y),mn(s)&&n.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},t.prototype.renderRepeat=function(r,n,s,a){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(s,a),this.ctx.fill(),this.ctx.translate(-s,-a)},t.prototype.resizeImage=function(r,n,s){var a;if(r.width===n&&r.height===s)return r;var c=(a=this.canvas.ownerDocument)!==null&&a!==void 0?a:document,f=c.createElement("canvas");f.width=Math.max(1,n),f.height=Math.max(1,s);var g=f.getContext("2d");return g.drawImage(r,0,0,r.width,r.height,0,0,n,s),f},t.prototype.renderBackgroundImage=function(r){return Nr(this,void 0,void 0,function(){var n,s,a,c,f,g;return vr(this,function(w){switch(w.label){case 0:n=r.styles.backgroundImage.length-1,s=function(B){var x,v,E,ce,oe,ge,me,Te,X,b,ce,oe,ge,me,Te,S,R,T,I,U,k,H,M,L,X,G,ce,Ne,fe,me,Te,D,oe,ge,Ae,xe,pe,Me,ie,J,ne,Ie;return vr(this,function(j){switch(j.label){case 0:if(B.type!==0)return[3,5];x=void 0,v=B.url,j.label=1;case 1:return j.trys.push([1,3,,4]),[4,a.context.cache.match(v)];case 2:return x=j.sent(),[3,4];case 3:return j.sent(),a.context.logger.error("Error loading background-image "+v),[3,4];case 4:return x&&(E=fh(r,n,[x.width,x.height,x.width/x.height]),ce=E[0],oe=E[1],ge=E[2],me=E[3],Te=E[4],X=a.ctx.createPattern(a.resizeImage(x,me,Te),"repeat"),a.renderRepeat(ce,X,oe,ge)),[3,6];case 5:pT(B)?(b=fh(r,n,[null,null,null]),ce=b[0],oe=b[1],ge=b[2],me=b[3],Te=b[4],S=uT(B.angle,me,Te),R=S[0],T=S[1],I=S[2],U=S[3],k=S[4],H=document.createElement("canvas"),H.width=me,H.height=Te,M=H.getContext("2d"),L=M.createLinearGradient(T,U,I,k),Yp(B.stops,R).forEach(function(V){return L.addColorStop(V.stop,sr(V.color))}),M.fillStyle=L,M.fillRect(0,0,me,Te),me>0&&Te>0&&(X=a.ctx.createPattern(H,"repeat"),a.renderRepeat(ce,X,oe,ge))):wT(B)&&(G=fh(r,n,[null,null,null]),ce=G[0],Ne=G[1],fe=G[2],me=G[3],Te=G[4],D=B.position.length===0?[ig]:B.position,oe=pt(D[0],me),ge=pt(D[D.length-1],Te),Ae=dT(B,oe,ge,me,Te),xe=Ae[0],pe=Ae[1],xe>0&&pe>0&&(Me=a.ctx.createRadialGradient(Ne+oe,fe+ge,0,Ne+oe,fe+ge,xe),Yp(B.stops,xe*2).forEach(function(V){return Me.addColorStop(V.stop,sr(V.color))}),a.path(ce),a.ctx.fillStyle=Me,xe!==pe?(ie=r.bounds.left+.5*r.bounds.width,J=r.bounds.top+.5*r.bounds.height,ne=pe/xe,Ie=1/ne,a.ctx.save(),a.ctx.translate(ie,J),a.ctx.transform(1,0,0,ne,0,0),a.ctx.translate(-ie,-J),a.ctx.fillRect(Ne,Ie*(fe-J)+J,me,Te*Ie),a.ctx.restore()):a.ctx.fill())),j.label=6;case 6:return n--,[2]}})},a=this,c=0,f=r.styles.backgroundImage.slice(0).reverse(),w.label=1;case 1:return c<f.length?(g=f[c],[5,s(g)]):[3,4];case 2:w.sent(),w.label=3;case 3:return c++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(r,n,s){return Nr(this,void 0,void 0,function(){return vr(this,function(a){return this.path(Ew(s,n)),this.ctx.fillStyle=sr(r),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(r,n,s,a){return Nr(this,void 0,void 0,function(){var c,f;return vr(this,function(g){switch(g.label){case 0:return n<3?[4,this.renderSolidBorder(r,s,a)]:[3,2];case 1:return g.sent(),[2];case 2:return c=Bk(a,s),this.path(c),this.ctx.fillStyle=sr(r),this.ctx.fill(),f=yk(a,s),this.path(f),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(r){return Nr(this,void 0,void 0,function(){var n,s,a,c,f,g,w,B,x=this;return vr(this,function(v){switch(v.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,s=!is(n.backgroundColor)||n.backgroundImage.length,a=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],c=_k(vi(n.backgroundClip,0),r.curves),s||n.boxShadow.length?(this.ctx.save(),this.path(c),this.ctx.clip(),is(n.backgroundColor)||(this.ctx.fillStyle=sr(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:v.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(E){x.ctx.save();var b=nu(r.curves),S=E.inset?0:Nk,R=mk(b,-S+(E.inset?1:-1)*E.spread.number,(E.inset?1:-1)*E.spread.number,E.spread.number*(E.inset?-2:2),E.spread.number*(E.inset?-2:2));E.inset?(x.path(b),x.ctx.clip(),x.mask(R)):(x.mask(b),x.ctx.clip(),x.path(R)),x.ctx.shadowOffsetX=E.offsetX.number+S,x.ctx.shadowOffsetY=E.offsetY.number,x.ctx.shadowColor=sr(E.color),x.ctx.shadowBlur=E.blur.number,x.ctx.fillStyle=E.inset?sr(E.color):"rgba(0,0,0,1)",x.ctx.fill(),x.ctx.restore()}),v.label=2;case 2:f=0,g=0,w=a,v.label=3;case 3:return g<w.length?(B=w[g],B.style!==0&&!is(B.color)&&B.width>0?B.style!==2?[3,5]:[4,this.renderDashedDottedBorder(B.color,B.width,f,r.curves,2)]:[3,11]):[3,13];case 4:return v.sent(),[3,11];case 5:return B.style!==3?[3,7]:[4,this.renderDashedDottedBorder(B.color,B.width,f,r.curves,3)];case 6:return v.sent(),[3,11];case 7:return B.style!==4?[3,9]:[4,this.renderDoubleBorder(B.color,B.width,f,r.curves)];case 8:return v.sent(),[3,11];case 9:return[4,this.renderSolidBorder(B.color,f,r.curves)];case 10:v.sent(),v.label=11;case 11:f++,v.label=12;case 12:return g++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(r,n,s,a,c){return Nr(this,void 0,void 0,function(){var f,g,w,B,x,v,E,b,S,R,T,I,U,k,H,M,H,M;return vr(this,function(L){return this.ctx.save(),f=Ck(a,s),g=Ew(a,s),c===2&&(this.path(g),this.ctx.clip()),mn(g[0])?(w=g[0].start.x,B=g[0].start.y):(w=g[0].x,B=g[0].y),mn(g[1])?(x=g[1].end.x,v=g[1].end.y):(x=g[1].x,v=g[1].y),s===0||s===2?E=Math.abs(w-x):E=Math.abs(B-v),this.ctx.beginPath(),c===3?this.formatPath(f):this.formatPath(g.slice(0,2)),b=n<3?n*3:n*2,S=n<3?n*2:n,c===3&&(b=n,S=n),R=!0,E<=b*2?R=!1:E<=b*2+S?(T=E/(2*b+S),b*=T,S*=T):(I=Math.floor((E+S)/(b+S)),U=(E-I*b)/(I-1),k=(E-(I+1)*b)/I,S=k<=0||Math.abs(S-U)<Math.abs(S-k)?U:k),R&&(c===3?this.ctx.setLineDash([0,b+S]):this.ctx.setLineDash([b,S])),c===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=sr(r),this.ctx.stroke(),this.ctx.setLineDash([]),c===2&&(mn(g[0])&&(H=g[3],M=g[0],this.ctx.beginPath(),this.formatPath([new Ce(H.end.x,H.end.y),new Ce(M.start.x,M.start.y)]),this.ctx.stroke()),mn(g[1])&&(H=g[1],M=g[2],this.ctx.beginPath(),this.formatPath([new Ce(H.end.x,H.end.y),new Ce(M.start.x,M.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(r){return Nr(this,void 0,void 0,function(){var n;return vr(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=sr(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=xk(r),[4,this.renderStack(n)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},t}(uC),Uk=function(e){return e instanceof Yy||e instanceof Wy?!0:e instanceof cg&&e.type!==eu&&e.type!==$c},_k=function(e,t){switch(e){case 0:return nu(t);case 2:return hk(t);case 1:default:return Au(t)}},kk=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Qk=["-apple-system","system-ui"],Ok=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(t){return Qk.indexOf(t)===-1}):e},Dk=function(e){jn(t,e);function t(r,n){var s=e.call(this,r,n)||this;return s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=n,s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),s}return t.prototype.render=function(r){return Nr(this,void 0,void 0,function(){var n,s;return vr(this,function(a){switch(a.label){case 0:return n=Gf(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,Rk(n)];case 1:return s=a.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=sr(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t}(uC),Rk=function(e){return new Promise(function(t,r){var n=new Image;n.onload=function(){t(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Mk=function(){function e(t){var r=t.id,n=t.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,_l([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,_l([this.id,this.getTime()+"ms"],t))},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,_l([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,_l([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},e.instances={},e}(),Lk=function(){function e(t,r){var n;this.windowBounds=r,this.instanceName="#"+e.instanceCount++,this.logger=new Mk({id:this.instanceName,enabled:t.logging}),this.cache=(n=t.cache)!==null&&n!==void 0?n:new sk(this,t)}return e.instanceCount=1,e}(),jk=function(e,t){return t===void 0&&(t={}),Hk(e,t)};typeof window<"u"&&sC.setContext(window);var Hk=function(e,t){return Nr(void 0,void 0,void 0,function(){var r,n,s,a,c,f,g,w,B,x,v,E,b,S,R,T,I,U,k,H,L,M,L,X,G,ce,Ne,fe,me,Te,D,oe,ge,Ae,xe,pe,Me,ie,J,ne;return vr(this,function(Ie){switch(Ie.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=e.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return s={allowTaint:(X=t.allowTaint)!==null&&X!==void 0?X:!1,imageTimeout:(G=t.imageTimeout)!==null&&G!==void 0?G:15e3,proxy:t.proxy,useCORS:(ce=t.useCORS)!==null&&ce!==void 0?ce:!1},a=Tf({logging:(Ne=t.logging)!==null&&Ne!==void 0?Ne:!0,cache:t.cache},s),c={windowWidth:(fe=t.windowWidth)!==null&&fe!==void 0?fe:n.innerWidth,windowHeight:(me=t.windowHeight)!==null&&me!==void 0?me:n.innerHeight,scrollX:(Te=t.scrollX)!==null&&Te!==void 0?Te:n.pageXOffset,scrollY:(D=t.scrollY)!==null&&D!==void 0?D:n.pageYOffset},f=new xA(c.scrollX,c.scrollY,c.windowWidth,c.windowHeight),g=new Lk(a,f),w=(oe=t.foreignObjectRendering)!==null&&oe!==void 0?oe:!1,B={allowTaint:(ge=t.allowTaint)!==null&&ge!==void 0?ge:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:w,copyStyles:w},g.logger.debug("Starting document clone with size "+f.width+"x"+f.height+" scrolled to "+-f.left+","+-f.top),x=new Cw(g,e,B),v=x.clonedReferenceElement,v?[4,x.toIFrame(r,f)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return E=Ie.sent(),b=ug(v)||P_(v)?mF(v.ownerDocument):ku(g,v),S=b.width,R=b.height,T=b.left,I=b.top,U=Pk(g,v,t.backgroundColor),k={canvas:t.canvas,backgroundColor:U,scale:(xe=(Ae=t.scale)!==null&&Ae!==void 0?Ae:n.devicePixelRatio)!==null&&xe!==void 0?xe:1,x:((pe=t.x)!==null&&pe!==void 0?pe:0)+T,y:((Me=t.y)!==null&&Me!==void 0?Me:0)+I,width:(ie=t.width)!==null&&ie!==void 0?ie:Math.ceil(S),height:(J=t.height)!==null&&J!==void 0?J:Math.ceil(R)},w?(g.logger.debug("Document cloned, using foreign object rendering"),L=new Dk(g,k),[4,L.render(v)]):[3,3];case 2:return H=Ie.sent(),[3,5];case 3:return g.logger.debug("Document cloned, element located at "+T+","+I+" with size "+S+"x"+R+" using computed rendering"),g.logger.debug("Starting DOM parsing"),M=Zy(g,v),U===M.styles.backgroundColor&&(M.styles.backgroundColor=hA.TRANSPARENT),g.logger.debug("Starting renderer for element at "+k.x+","+k.y+" with size "+k.width+"x"+k.height),L=new Tk(g,k),[4,L.render(M)];case 4:H=Ie.sent(),Ie.label=5;case 5:return(!((ne=t.removeContainer)!==null&&ne!==void 0)||ne)&&(Cw.destroy(E)||g.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),g.logger.debug("Finished rendering"),[2,H]}})})},Pk=function(e,t,r){var n=t.ownerDocument,s=n.documentElement?uo(e,getComputedStyle(n.documentElement).backgroundColor):hA.TRANSPARENT,a=n.body?uo(e,getComputedStyle(n.body).backgroundColor):hA.TRANSPARENT,c=typeof r=="string"?uo(e,r):r===null?hA.TRANSPARENT:4294967295;return t===n.documentElement?is(s)?is(a)?c:a:s:c};const dg=(e,t)=>{const r=["#FF6B6B","#4ECDC4","#45B7D1","#FFA07A","#98D8C8","#F06292","#AED581","#FFD54F","#4DB6AC","#7986CB"],n=(e||"").split("").reduce((f,g)=>g.charCodeAt(0)+f,0),c=`
        <svg width="300" height="450" viewBox="0 0 300 450" xmlns="http://www.w3.org/2000/svg">
            <rect width="300" height="450" fill="${r[n%r.length]}"/>
            <rect width="20" height="450" fill="rgba(0,0,0,0.1)"/>
            
            <!-- Book Icon in Background -->
            <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z" stroke="rgba(255,255,255,0.2)" stroke-width="2" fill="none" transform="translate(100, 150) scale(4)"/>

            <foreignObject x="30" y="60" width="240" height="330">
                <div xmlns="http://www.w3.org/1999/xhtml" style="height: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; color: white; font-family: sans-serif; padding: 20px;">
                    <div style="margin-bottom: 20px;">
                        <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"/>
                            <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"/>
                        </svg>
                    </div>
                    <div style="font-size: 24px; font-weight: 800; line-height: 1.2; margin-bottom: 20px; overflow: hidden; display: -webkit-box; -webkit-line-clamp: 4; -webkit-box-orient: vertical;">${e||"Unknown Title"}</div>
                    <div style="width: 40px; height: 2px; background: rgba(255,255,255,0.5); margin: 20px 0;"></div>
                    <div style="font-size: 16px; font-weight: 400; opacity: 0.9;">${t||"Unknown Author"}</div>
                </div>
            </foreignObject>
        </svg>
    `;return`data:image/svg+xml;base64,${btoa(c)}`},sa=({src:e,title:t,author:r,className:n,alt:s,...a})=>{const[c,f]=z.useState(!1);return!e||c?h.jsx("img",{src:dg(t,r),alt:s||t,className:n,...a}):h.jsx("img",{src:e,alt:s||t,className:n,onError:()=>f(!0),...a})},qn=({size:e=20,className:t="",fillPercentage:r=100})=>{const s=(po.useId?po.useId():`chilli-grad-${Math.random().toString(36).substr(2,9)}`).replace(/:/g,"");return h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",fill:r===100?"currentColor":r===0?"none":`url(#${s})`,stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t,children:[h.jsx("defs",{children:h.jsxs("linearGradient",{id:s,x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[h.jsx("stop",{offset:`${r}%`,stopColor:"currentColor"}),h.jsx("stop",{offset:`${r}%`,stopColor:"transparent"})]})}),h.jsx("path",{d:"M18 7V4a2 2 0 0 0-4 0"}),h.jsx("path",{d:"M14 10s2 0 4 2c2-2 4-2 4-2"}),h.jsx("path",{d:"M22 10c0 6.6-5.4 12-12 12-4.4 0-8-2.7-8-6v-.4C3.3 17.1 5 18 7 18c3.9 0 7-3.6 7-8 0-1.7 1.3-3 3-3h2c1.7 0 3 1.3 3 3"})]})},dC=({book:e,onClose:t})=>{const r=z.useRef(null),[n,s]=z.useState(!1),a=async()=>{if(r.current){s(!0);try{const f=(await jk(r.current,{scale:2,useCORS:!0,backgroundColor:null,logging:!1})).toDataURL("image/png"),g=document.createElement("a");g.href=f,g.download=`finished-${e.title.replace(/\s+/g,"-").toLowerCase()}.png`,g.click()}catch(c){console.error("Screenshot failed:",c),alert("Failed to generate image. Please try again.")}finally{s(!1)}}};return e?h.jsx("div",{className:"fixed inset-0 z-[100] bg-black/80 backdrop-blur-md flex items-center justify-center p-4 animate-fade-in",children:h.jsxs("div",{className:"w-full max-w-md flex flex-col items-center gap-6",children:[h.jsxs("div",{className:"w-full flex justify-between items-center text-white",children:[h.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[h.jsx(sy,{size:20})," Share your achievement"]}),h.jsx("button",{onClick:t,className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:h.jsx(Mn,{size:24})})]}),h.jsxs("div",{ref:r,className:"w-full bg-gradient-to-br from-violet-500 via-fuchsia-500 to-orange-400 p-8 rounded-3xl shadow-2xl relative overflow-hidden text-center aspect-[4/5] flex flex-col items-center justify-center gap-6",style:{minHeight:"500px"},children:[h.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-10 bg-[radial-gradient(circle_at_center,_var(--tw-gradient-stops))] from-white to-transparent"}),h.jsx("div",{className:"absolute -top-24 -left-24 w-48 h-48 bg-white/20 rounded-full blur-3xl"}),h.jsx("div",{className:"absolute -bottom-24 -right-24 w-48 h-48 bg-yellow-300/20 rounded-full blur-3xl"}),h.jsx("div",{className:"bg-white/90 backdrop-blur-sm px-6 py-2 rounded-full shadow-lg transform -rotate-2 border border-white/50",children:h.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-violet-600 to-fuchsia-600 font-black text-xs tracking-widest uppercase",children:"Just Finished!"})}),h.jsx("div",{className:"w-40 aspect-[2/3] rounded-lg shadow-2xl overflow-hidden ring-4 ring-white/30 transform rotate-1 transition-transform",children:h.jsx(sa,{src:e.cover,title:e.title,author:e.author,className:"w-full h-full object-cover"})}),h.jsxs("div",{className:"text-white z-10 space-y-2 max-w-xs",children:[h.jsx("h1",{className:"text-2xl font-black leading-tight drop-shadow-md line-clamp-2",children:e.title}),h.jsxs("p",{className:"text-white/90 font-medium text-sm drop-shadow-sm",children:["by ",e.author]}),h.jsx("div",{className:"flex items-center justify-center gap-1 mt-3",children:[1,2,3,4,5].map(c=>h.jsx($n,{size:20,fill:c<=(e.rating||5)?"currentColor":"none",className:c<=(e.rating||5)?"text-yellow-300 drop-shadow-sm":"text-white/30",strokeWidth:2.5},c))}),e.spiceRating>0&&h.jsx("div",{className:"flex items-center justify-center gap-1 mt-2",children:[1,2,3,4,5].map(c=>{const f=e.spiceRating>=c,g=e.spiceRating>=c-.5&&e.spiceRating<c;return h.jsx(qn,{size:16,fillPercentage:f?100:g?50:0,className:f||g?"text-red-400 drop-shadow-sm":"text-white/30"},c)})})]}),h.jsx("div",{className:"absolute bottom-6 text-white/60 text-[10px] uppercase tracking-widest font-bold",children:"Read on BookTracker"})]}),h.jsx("button",{onClick:a,disabled:n,className:"w-full py-4 bg-white text-violet-600 rounded-xl font-bold text-lg shadow-xl active:scale-95 transition-all flex items-center justify-center gap-2 hover:bg-slate-50 disabled:opacity-70 disabled:cursor-wait",children:n?"Generating...":h.jsxs(h.Fragment,{children:[h.jsx(rg,{size:20})," Save Image"]})})]})}):null},Kk=()=>{const{activeTimer:e,books:t}=ln(),r=zr(),[n,s]=z.useState(""),a=t.find(c=>c.id===(e==null?void 0:e.bookId));return z.useEffect(()=>{if(!e)return;const c=()=>{const g=new Date(e.startTime),B=new Date-g,x=Math.floor(B/36e5),v=Math.floor(B%36e5/6e4),E=Math.floor(B%6e4/1e3);let b="";x>0&&(b+=`${x}h `),b+=`${v}m ${E}s`,s(b)};c();const f=setInterval(c,1e3);return()=>clearInterval(f)},[e]),!e||!a?null:h.jsxs("div",{className:"fixed top-0 left-0 right-0 z-[100] bg-gradient-to-r from-red-600 to-rose-500 text-white py-3 px-4 shadow-lg animate-slide-down flex items-center justify-between backdrop-blur-md bg-opacity-90",children:[h.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[h.jsx("div",{className:"bg-white/20 p-1.5 rounded-lg animate-pulse",children:h.jsx(zi,{size:18})}),h.jsxs("div",{className:"min-w-0",children:[h.jsx("p",{className:"text-[10px] font-black uppercase opacity-80 tracking-widest leading-none mb-1",children:"Reading Now"}),h.jsx("p",{className:"text-sm font-bold truncate leading-none",children:a.title})]})]}),h.jsxs("div",{className:"flex items-center gap-3 shrink-0 ml-4",children:[h.jsxs("div",{className:"text-right",children:[h.jsx("p",{className:"text-[10px] font-black uppercase opacity-80 tracking-widest leading-none mb-1",children:"Elapsed"}),h.jsx("p",{className:"text-sm font-mono font-bold leading-none",children:n})]}),h.jsx("div",{className:"flex gap-1",children:h.jsx("button",{onClick:()=>r(`/book/${a.id}`),className:"p-2 bg-white/10 hover:bg-white/20 rounded-full transition-colors",title:"View Book",children:h.jsx(Va,{size:16})})})]})]})},Vk=()=>{const{celebrationBook:e,closeCelebration:t,activeTimer:r}=ln();return h.jsxs("div",{className:"min-h-screen bg-[var(--color-bg-primary)] text-[var(--color-text-primary)] pb-20 transition-colors duration-300",children:[h.jsx(Kk,{}),h.jsx("main",{className:`container mx-auto px-4 max-w-md animate-fade-in relative transition-all duration-300 ${r?"pt-20":"pt-4"}`,children:h.jsx(mE,{})}),h.jsx(wF,{}),e&&h.jsx(dC,{book:e,onClose:t})]})},hC=(e,t="USD",r="en-US")=>new Intl.NumberFormat(r,{style:"currency",currency:t}).format(e||0),fC=(e="USD",t="en-US")=>0 .toLocaleString(t,{style:"currency",currency:e,minimumFractionDigits:0,maximumFractionDigits:0}).replace(/\d/g,"").trim(),hg=({book:e,onClick:t,variant:r="grid",selectable:n=!1,selected:s=!1,onSelect:a})=>{var R,T,I,U;const{activeTimer:c,startTimer:f,stopTimer:g}=ln(),w=(c==null?void 0:c.bookId)===e.id,[B,x]=z.useState(!1),v=k=>{n?(k.stopPropagation(),a&&a(e.id)):t&&t(e)},E=k=>{k.stopPropagation(),w?window.dispatchEvent(new CustomEvent("stop-timer",{detail:{book:e}})):e.status==="reading"?f(e.id):window.dispatchEvent(new CustomEvent("start-reading-request",{detail:{book:e}}))},b=()=>!e.cover||B?h.jsx("img",{src:dg(e.title,e.author),alt:e.title,className:"w-full h-full object-cover"}):h.jsx("img",{src:e.cover,alt:e.title,className:"w-full h-full object-cover",loading:"lazy",onError:()=>x(!0)}),S=bf(e);if(r==="list")return h.jsxs("div",{onClick:v,className:`flex gap-4 p-3 bg-white dark:bg-slate-800 rounded-xl shadow-sm border transition-all ${s?"border-violet-500 ring-1 ring-violet-500 bg-violet-50/50 dark:bg-violet-900/10":"border-slate-100 dark:border-slate-700"} active:scale-95`,style:{border:"var(--theme-border, initial)"},children:[n&&h.jsx("div",{className:"flex items-center",children:h.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-colors ${s?"bg-violet-600 border-violet-600":"border-slate-300 dark:border-slate-600"}`,children:s&&h.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-scale-in"})})}),h.jsxs("div",{className:"w-20 aspect-[2/3] rounded-md overflow-hidden bg-slate-200 flex-shrink-0 relative",children:[b(),e.hasSpice&&h.jsx("div",{className:"absolute top-1 right-1 p-1 bg-white/80 dark:bg-black/40 backdrop-blur rounded-full text-orange-600 shadow-sm z-10 animate-scale-in",children:h.jsx(qn,{size:10,className:"fill-current"})}),(e.status==="reading"||e.status==="want-to-read")&&h.jsx("button",{onClick:E,className:`absolute bottom-1 right-1 p-1 rounded-full backdrop-blur-md transition-all z-10 shadow-sm ${w?"bg-red-500 text-white animate-pulse":"bg-white/80 dark:bg-slate-800/80 text-slate-600 dark:text-slate-300 hover:scale-110 active:scale-95"}`,children:h.jsx(zi,{size:12,className:w?"animate-spin-slow":""})})]}),h.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[h.jsx("h3",{className:"font-bold text-slate-800 dark:text-slate-100 text-sm",children:e.title}),h.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 mb-2",children:e.author}),h.jsxs("div",{className:"space-y-1",children:[e.status==="reading"&&h.jsxs("div",{className:"text-xs font-medium text-violet-600 dark:text-violet-400",children:["Reading  ",S,"%"]}),e.status==="read"&&h.jsx("div",{className:"text-xs font-medium text-violet-600 dark:text-violet-400",children:"Read  100%"}),h.jsxs("div",{className:"flex gap-1 mb-1",children:[e.isWantToBuy&&h.jsx("span",{className:"inline-block text-[10px] px-2 py-0.5 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400 rounded-full font-bold",children:"Want"}),e.status==="want-to-read"&&h.jsx("span",{className:"inline-block text-[10px] px-2 py-0.5 bg-violet-100 dark:bg-violet-900/30 text-violet-700 dark:text-violet-400 rounded-full font-bold",children:"TBR"})]}),h.jsxs("div",{className:"flex items-center gap-3 text-xs text-slate-500",children:[h.jsxs("div",{className:"flex items-center gap-1 text-yellow-400",children:[h.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(k=>e.rating>=k?h.jsx($n,{size:10,fill:"currentColor"},k):e.rating>=k-.5?h.jsx(If,{size:10,fill:"currentColor"},k):h.jsx($n,{size:10,className:"text-slate-300"},k))}),e.rating>0&&h.jsx("span",{className:"text-[10px] font-bold text-slate-600 dark:text-slate-400 ml-0.5",children:e.rating})]}),h.jsx("div",{className:"flex items-center text-red-500",children:[1,2,3,4,5].map(k=>{const H=e.spiceRating>=k,M=e.spiceRating>=k-.5&&e.spiceRating<k;return h.jsx(qn,{size:10,fillPercentage:H?100:M?50:0,className:H||M?"text-red-500":"text-slate-300"},k)})})]}),e.ownershipStatus==="sold"?h.jsx("span",{className:"inline-block text-[10px] px-2 py-0.5 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-full font-bold",children:"Sold"}):e.isOwned&&h.jsx("span",{className:"inline-block text-[10px] px-2 py-0.5 bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400 rounded-full font-bold",children:"Owned"}),((R=e.genres)==null?void 0:R[0])&&h.jsxs("div",{className:"text-[10px] text-slate-400 mt-1",children:[e.genres[0],"  ",[e.format,...e.otherVersions||[]].filter(Boolean).join(", ")]})]})]})]});if(r==="next-up")return h.jsxs("div",{onClick:()=>t(e),className:"flex items-center gap-3 p-2 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors cursor-pointer",children:[h.jsx("div",{className:"w-12 aspect-[2/3] rounded bg-slate-200 overflow-hidden flex-shrink-0",children:b()}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("h4",{className:"font-bold text-sm text-slate-800 dark:text-slate-100 truncate",children:e.title}),h.jsx("p",{className:"text-xs text-slate-500 truncate mb-1",children:e.author}),((T=e.genres)==null?void 0:T[0])&&h.jsx("span",{className:"inline-block text-[10px] px-2 py-0.5 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded font-medium",children:e.genres[0]})]}),h.jsx("div",{className:"text-slate-300"})]});if(r==="square")return h.jsxs("div",{className:`relative group bg-white dark:bg-slate-800 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-all duration-300 w-full border ${s?"border-violet-500 ring-1 ring-violet-500":"border-transparent"}`,style:{border:"var(--theme-border, initial)"},onClick:v,children:[n&&h.jsx("div",{className:"absolute top-2 left-2 z-10 w-6 h-6 rounded-full bg-white/90 dark:bg-slate-800/90 shadow-sm border border-slate-200 dark:border-slate-700 flex items-center justify-center",children:h.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center transition-colors ${s?"bg-violet-600 border-violet-600":"border-slate-300 dark:border-slate-600"}`,children:s&&h.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full animate-scale-in"})})}),h.jsxs("div",{className:"aspect-square relative overflow-hidden bg-slate-100 dark:bg-slate-900",children:[b(),h.jsxs("div",{className:"absolute top-2 left-2 flex flex-col gap-1 items-start z-10",children:[e.format&&h.jsx("div",{className:"px-1.5 py-0.5 bg-white/80 dark:bg-black/40 backdrop-blur rounded text-[8px] font-bold text-slate-600 dark:text-slate-300 shadow-sm",children:e.format}),(I=e.otherVersions)==null?void 0:I.map(k=>h.jsx("div",{className:"px-1.5 py-0.5 bg-white/80 dark:bg-black/40 backdrop-blur rounded text-[8px] font-bold text-slate-600 dark:text-slate-300 shadow-sm",children:k},k))]}),h.jsxs("div",{className:"absolute top-2 right-2 flex flex-col gap-1.5 items-end",children:[e.isFavorite&&h.jsx("div",{className:"p-1.5 bg-white/80 dark:bg-black/40 backdrop-blur rounded-full text-red-500 shadow-sm z-10",children:h.jsx(As,{size:12,fill:"currentColor"})}),e.hasSpice&&h.jsx("div",{className:"p-1.5 bg-white/80 dark:bg-black/40 backdrop-blur rounded-full text-orange-600 shadow-sm z-10 animate-scale-in",children:h.jsx(qn,{size:12,className:"fill-current"})}),(e.status==="reading"||e.status==="want-to-read")&&h.jsx("button",{onClick:E,className:`p-1.5 rounded-full backdrop-blur-md transition-all z-10 shadow-sm ${w?"bg-red-500 text-white animate-pulse":"bg-white/80 dark:bg-slate-800/80 text-slate-600 dark:text-slate-300 hover:scale-110 active:scale-95"}`,children:h.jsx(zi,{size:12,className:w?"animate-spin-slow":""})})]}),h.jsx("div",{className:"absolute inset-x-0 bottom-0 h-16 bg-gradient-to-t from-black/80 to-transparent pointer-events-none"}),h.jsxs("div",{className:"absolute bottom-2 left-2 right-2 text-white",children:[h.jsx("h3",{className:"font-bold text-sm line-clamp-1 text-white shadow-black/50 drop-shadow-md",children:e.title}),h.jsx("p",{className:"text-[10px] text-slate-200 line-clamp-1",children:e.author})]})]})]});if(r==="spine"){const{themePreset:k}=qo(),H=G3(e.title||e.id,k),M=160+(parseInt(String(e.id).slice(-2))||50)%40;return h.jsx("div",{className:"h-[200px] flex items-end border-b-[12px] border-stone-300 dark:border-stone-700 w-[42px]",onClick:v,children:h.jsxs("div",{className:`relative shadow-sm hover:shadow-md transition-all active:scale-95 cursor-pointer flex flex-col items-center py-3 px-1 select-none ${H} ${s?"ring-2 ring-violet-500":""}`,style:{height:`${M}px`,width:"42px",borderRadius:"var(--radius-spine)",border:"var(--theme-border, initial)",borderLeft:"var(--theme-border, 1px solid rgba(255,255,255,0.2))",borderRight:"var(--theme-border, 2px solid rgba(0,0,0,0.1))"},children:[h.jsx("div",{className:"mb-2 h-3 w-full flex justify-center shrink-0",children:e.isFavorite&&h.jsx(As,{size:12,fill:"currentColor",className:"text-red-600"})}),h.jsx("div",{className:"flex-1 flex items-center justify-center overflow-hidden w-full px-0.5",children:h.jsx("h3",{className:"font-bold text-slate-900 text-[10px] leading-tight tracking-tight uppercase whitespace-nowrap",style:{writingMode:"vertical-rl",textOrientation:"mixed",transform:"rotate(180deg)",maxHeight:"120px",display:"block"},children:e.title})}),e.hasSpice&&h.jsx("div",{className:"mt-2 text-red-600/80 w-full flex justify-center shrink-0",children:h.jsx(qn,{size:10,className:"fill-current"})})]})})}return h.jsxs("div",{className:`relative group bg-white dark:bg-slate-800 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-all duration-300 w-full border ${s?"border-violet-500 ring-1 ring-violet-500":"border-transparent"}`,onClick:v,style:{border:"var(--theme-border, initial)"},children:[n&&h.jsx("div",{className:"absolute top-2 left-2 z-10 w-6 h-6 rounded-full bg-white/90 dark:bg-slate-800/90 shadow-sm border border-slate-200 dark:border-slate-700 flex items-center justify-center",children:h.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center transition-colors ${s?"bg-violet-600 border-violet-600":"border-slate-300 dark:border-slate-600"}`,children:s&&h.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full animate-scale-in"})})}),h.jsxs("div",{className:"aspect-[2/3] relative overflow-hidden bg-slate-100 dark:bg-slate-900",children:[b(),h.jsxs("div",{className:"absolute top-2 right-2 flex flex-col gap-1.5 items-end",children:[e.isFavorite&&h.jsx("div",{className:"p-1.5 bg-white/80 dark:bg-black/40 backdrop-blur rounded-full text-red-500 shadow-sm z-10",children:h.jsx(As,{size:12,fill:"currentColor"})}),e.hasSpice&&h.jsx("div",{className:"p-1.5 bg-white/80 dark:bg-black/40 backdrop-blur rounded-full text-orange-600 shadow-sm z-10 animate-scale-in",children:h.jsx(qn,{size:12,className:"fill-current"})})]})]}),h.jsxs("div",{className:"p-2",children:[h.jsx("h3",{className:"font-bold text-sm text-slate-900 dark:text-slate-100 line-clamp-1",children:e.title}),h.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 line-clamp-1 mb-1",children:e.author}),e.rating>0&&h.jsxs("div",{className:"flex items-center gap-1 text-yellow-400 mb-1",children:[h.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(k=>e.rating>=k?h.jsx($n,{size:10,fill:"currentColor"},k):e.rating>=k-.5?h.jsx(If,{size:10,fill:"currentColor"},k):h.jsx($n,{size:10,className:"text-slate-200 dark:text-slate-700"},k))}),h.jsx("span",{className:"text-[10px] font-bold text-slate-500 dark:text-slate-400",children:e.rating})]}),e.status==="reading"&&h.jsxs("div",{className:"mt-2 space-y-1",children:[h.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-700 h-1.5 rounded-full overflow-hidden",children:h.jsx("div",{className:"bg-green-500 h-full rounded-full",style:{width:`${S}%`}})}),h.jsxs("div",{className:"text-[10px] font-bold text-violet-600 dark:text-violet-400",children:["Reading  ",S,"%"]})]}),e.status==="read"&&h.jsx("div",{className:"mt-1 text-[10px] font-bold text-violet-600 dark:text-violet-400",children:"100%"}),h.jsxs("div",{className:"absolute top-2 left-2 flex flex-col gap-1 items-start",children:[e.ownershipStatus==="sold"&&h.jsx("div",{className:"px-2 py-0.5 bg-red-100/90 dark:bg-red-900/90 backdrop-blur rounded text-[10px] font-bold text-red-600 dark:text-red-400 border border-red-200 dark:border-red-800 shadow-sm",children:"Sold"}),e.format&&h.jsx("div",{className:"px-2 py-0.5 bg-slate-100/90 dark:bg-slate-900/90 backdrop-blur rounded text-[10px] font-bold text-slate-500 dark:text-slate-400 border border-slate-200 dark:border-slate-700 shadow-sm",children:e.format}),(U=e.otherVersions)==null?void 0:U.map(k=>h.jsx("div",{className:"px-2 py-0.5 bg-slate-100/90 dark:bg-slate-900/90 backdrop-blur rounded text-[10px] font-bold text-slate-500 dark:text-slate-400 border border-slate-200 dark:border-slate-700 shadow-sm",children:k},k))]}),(e.status==="reading"||e.status==="want-to-read")&&h.jsx("button",{onClick:E,className:`absolute bottom-2 right-2 p-1.5 rounded-full backdrop-blur-md transition-all z-10 shadow-lg ${w?"bg-red-500 text-white animate-pulse":"bg-white/80 dark:bg-slate-800/80 text-slate-600 dark:text-slate-300 hover:scale-110 active:scale-95"}`,children:h.jsx(zi,{size:16,className:w?"animate-spin-slow":""})})]})]})},YA=({label:e,count:t,colorClass:r,onClick:n})=>h.jsxs("button",{onClick:n,className:`w-full rounded-2xl p-4 flex flex-col items-center justify-center ${r} contrast-card transition-all active:scale-95 hover:brightness-95 cursor-pointer border-none outline-none`,children:[h.jsx("span",{className:"text-3xl font-black text-slate-800 dark:text-slate-100",children:t}),h.jsx("span",{className:"text-[10px] font-bold text-slate-600/70 dark:text-slate-300/70 uppercase tracking-widest mt-1",children:e})]}),Gk="/assets/logo-BINNFplY.png",zk="/assets/logo-dark-Ba-XS78w.png",Ku=()=>{const{exportData:e,importData:t,userProfile:r}=ln(),{user:n}=ua(),s=zr(),a=z.useRef(null),[c,f]=z.useState(""),g=async w=>{var x;const B=(x=w.target.files)==null?void 0:x[0];if(B)try{const v=await t(B);f(` Imported ${v.bookCount} books!`),setTimeout(()=>f(""),3e3)}catch(v){f(` Failed: ${v.message}`),setTimeout(()=>f(""),3e3)}};return h.jsxs("header",{className:"flex justify-between items-center mb-6 pt-2",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("img",{src:Gk,alt:"Bookea Reads Logo",className:"h-16 object-contain dark:hidden"}),h.jsx("img",{src:zk,alt:"Bookea Reads Logo",className:"h-16 object-contain hidden dark:block"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[c&&h.jsx("span",{className:"text-xs font-medium text-emerald-600 dark:text-emerald-400 mr-2 animate-fade-in",children:c}),h.jsx("button",{onClick:()=>{var w;return(w=a.current)==null?void 0:w.click()},className:"w-10 h-10 rounded-full bg-blue-100 dark:bg-blue-900/40 flex items-center justify-center hover:bg-blue-200 dark:hover:bg-blue-900/60 transition-colors",title:"Import Data (JSON)",children:h.jsx(rg,{size:18,className:"text-blue-600 dark:text-blue-400"})}),h.jsx("button",{onClick:e,className:"w-10 h-10 rounded-full bg-emerald-100 dark:bg-emerald-900/40 flex items-center justify-center hover:bg-emerald-200 dark:hover:bg-emerald-900/60 transition-colors",title:"Export Data (Backup)",children:h.jsx(_u,{size:18,className:"text-emerald-600 dark:text-emerald-400"})}),h.jsx("input",{ref:a,type:"file",accept:".json",onChange:g,className:"hidden"}),h.jsx("button",{onClick:()=>s("/settings"),className:"w-10 h-10 rounded-full bg-slate-100 dark:bg-slate-800 flex items-center justify-center text-slate-500 hover:text-blue-500 transition-colors overflow-hidden ring-2 ring-transparent hover:ring-blue-500/50",children:r!=null&&r.avatar?h.jsx("img",{src:r.avatar,alt:"Profile",className:"w-full h-full object-cover"}):h.jsx(Ff,{size:20})})]})]})},Wk=()=>{const{loading:e,readingBooks:t,getYearlyStats:r,wantToReadBooks:n,logReading:s,readingGoal:a,setReadingGoal:c,userProfile:f,activeTimer:g,startTimer:w,stopTimer:B,updateBook:x}=ln(),{user:v}=ua(),{theme:E,toggleTheme:b,themePreset:S}=qo(),R=zr(),T=r(),[I,U]=z.useState(null),[k,H]=z.useState(0),[M,L]=z.useState(!1),[X,G]=z.useState({yearly:a.yearly,monthly:a.monthly}),[ce,Ne]=z.useState(null),[fe,me]=z.useState(0),Te=z.useRef(null);po.useEffect(()=>{const ie=ne=>{Ne(ne.detail.book)},J=ne=>{const Ie=ne.detail.book;if(g&&g.bookId===Ie.id){const j=new Date(g.startTime),W=(new Date-j)/6e4;me(parseFloat(Math.max(.1,W).toFixed(2))),U(Ie),H(Ie.progress||0)}};return window.addEventListener("start-reading-request",ie),window.addEventListener("stop-timer",J),()=>{window.removeEventListener("start-reading-request",ie),window.removeEventListener("stop-timer",J)}},[g]);const D=ie=>{if(Te.current){const{current:J}=Te,ne=ie==="left"?-300:300;J.scrollBy({left:ne,behavior:"smooth"})}};if(e)return h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx(Ag,{className:"animate-spin text-blue-500",size:40})});const oe=ie=>{R(`/book/${ie.id}`)},ge=(ie,J)=>{J.stopPropagation(),U(ie),H(ie.progress||0)},Ae=()=>{if(I){const ie=I.progress||0,J=Math.max(0,k-ie);s(I.id,k),fe>0&&(B(I.id,fe,J),me(0)),U(null)}},xe=()=>{G({yearly:a.yearly,monthly:a.monthly}),L(!0)},pe=()=>{c(X),L(!1)},Me=()=>{ce&&(x(ce.id,{status:"reading",startedAt:new Date().toISOString()}),w(ce.id),Ne(null))};return h.jsxs("div",{className:"pb-24 pt-2 relative",children:[M&&h.jsx("div",{className:"fixed inset-0 z-[60] bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-sm rounded-[32px] p-8 shadow-2xl animate-fade-in scale-in flex flex-col",children:[h.jsxs("div",{className:"flex justify-between items-center mb-8",children:[h.jsxs("h3",{className:"text-2xl font-bold dark:text-white flex items-center gap-2",children:[h.jsx(iy,{className:"text-blue-500"})," Set Goals"]}),h.jsx("button",{onClick:()=>L(!1),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:h.jsx(Mn,{size:24,className:"text-slate-400"})})]}),h.jsxs("div",{className:"space-y-8 mb-10",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-xs font-bold uppercase text-slate-400 mb-3 block tracking-wider",children:"Monthly Goal"}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("input",{type:"number",className:"flex-1 min-w-0 text-center text-3xl font-black bg-slate-50 dark:bg-slate-800/50 rounded-2xl py-3 outline-none border-2 border-transparent focus:border-blue-500 transition-all dark:text-white",value:X.monthly,onChange:ie=>G(J=>({...J,monthly:Number(ie.target.value)}))}),h.jsx("span",{className:"text-slate-400 font-bold uppercase text-xs",children:"Books / Mo"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-xs font-bold uppercase text-slate-400 mb-3 block tracking-wider",children:"Yearly Goal"}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("input",{type:"number",className:"flex-1 min-w-0 text-center text-3xl font-black bg-slate-50 dark:bg-slate-800/50 rounded-2xl py-3 outline-none border-2 border-transparent focus:border-emerald-500 transition-all dark:text-white",value:X.yearly,onChange:ie=>G(J=>({...J,yearly:Number(ie.target.value)}))}),h.jsx("span",{className:"text-slate-400 font-bold uppercase text-xs",children:"Books / Yr"})]})]})]}),h.jsx("button",{onClick:pe,className:"w-full py-5 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-2xl font-black text-lg shadow-xl shadow-blue-500/20 active:scale-95 transition-all",children:"Save Goals"})]})}),I&&h.jsx("div",{className:"fixed inset-0 z-[60] bg-black/50 backdrop-blur-sm flex items-end sm:items-center justify-center p-4",children:h.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-sm rounded-3xl p-6 shadow-2xl animate-fade-in slide-in-from-bottom",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h3",{className:"text-xl font-bold dark:text-white",children:"Log Progress"}),h.jsx("button",{onClick:()=>U(null),children:h.jsx(Mn,{})})]}),h.jsxs("div",{className:"flex gap-4 mb-6",children:[h.jsx("div",{className:"w-16 h-24 rounded bg-slate-200 overflow-hidden flex-shrink-0",children:h.jsx(sa,{src:I.cover,title:I.title,author:I.author,className:"w-full h-full object-cover"})}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-bold dark:text-white",children:I.title}),h.jsxs("p",{className:"text-sm text-slate-500",children:["Current: ",I.progress]})]})]}),fe>0&&h.jsxs("div",{className:"mb-6 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-xl text-xs font-bold text-blue-600 dark:text-blue-400 text-center animate-fade-in",children:["Reading Session: ",fe," min"]}),h.jsxs("div",{className:"mb-8",children:[h.jsx("label",{className:"text-xs font-bold uppercase text-slate-400 mb-2 block",children:I.progressMode==="chapters"||I.format==="Audiobook"?"New Chapter Number":"New Page Number"}),h.jsx("input",{type:"number",className:"w-full text-center text-4xl font-bold bg-transparent outline-none border-b-2 border-violet-500 p-2 dark:text-white",value:k,onChange:ie=>H(Number(ie.target.value)),autoFocus:!0})]}),h.jsx("button",{onClick:Ae,className:"w-full py-4 bg-violet-600 rounded-xl text-white font-bold text-lg active:scale-95 transition-transform",children:"Save Progress"})]})}),ce&&h.jsx("div",{className:"fixed inset-0 z-[60] bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-sm rounded-[32px] p-8 shadow-2xl animate-fade-in scale-in flex flex-col items-center text-center",children:[h.jsx("h3",{className:"text-2xl font-bold dark:text-white mb-2",children:"Start Reading?"}),h.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mb-6 text-sm",children:["Do you want to start reading ",h.jsx("strong",{children:ce.title}),"?"]}),h.jsxs("div",{className:"flex gap-3 w-full",children:[h.jsx("button",{onClick:Me,className:"flex-1 py-4 bg-blue-600 text-white rounded-2xl font-bold active:scale-95 transition-all",children:"Yes, Start"}),h.jsx("button",{onClick:()=>Ne(null),className:"flex-1 py-4 bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 rounded-2xl font-bold active:scale-95 transition-all",children:"No"})]})]})}),h.jsx(Ku,{}),h.jsx("div",{className:"flex justify-between items-start mb-6",children:h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-white",children:"Dashboard"}),h.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:f!=null&&f.name?`Hi, ${f.name}`:v?`Hi, ${v.email.split("@")[0]}`:"Welcome, Guest"})]})}),h.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-8",children:[h.jsx(YA,{label:"Reading",count:T.reading,colorClass:"bg-[var(--color-pastel-blue)] dark:bg-blue-900/40",onClick:()=>R("/library",{state:{statusFilter:"Reading"}})}),h.jsx(YA,{label:"Read",count:T.read,colorClass:"bg-[var(--color-pastel-green)] dark:bg-emerald-900/40",onClick:()=>R("/library",{state:{statusFilter:"Read"}})}),h.jsx(YA,{label:"TBR",count:T.tbr,colorClass:"bg-[var(--color-pastel-pink)] dark:bg-fuchsia-900/40",onClick:()=>R("/library",{state:{statusFilter:"Want to Read"}})}),h.jsx(YA,{label:"Added",count:T.addedThisMonth,colorClass:"bg-[var(--color-pastel-orange)] dark:bg-amber-900/40",onClick:()=>R("/library")})]}),h.jsxs("div",{className:"mb-8",children:[h.jsxs("div",{className:"flex justify-between items-center mb-2",children:[h.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Goals This Month"}),h.jsxs("button",{onClick:xe,className:`text-sm font-bold ${S==="paper-ink"?"text-slate-900":"text-blue-500 hover:text-blue-600"} transition-colors px-3 py-2 -mr-3 active:scale-95`,children:["Set Goals ",h.jsx(Va,{size:14,className:"ml-1 inline"})]})]}),h.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 rounded-2xl p-5 relative overflow-hidden ring-1 ring-blue-100 dark:ring-blue-900/30 contrast-card",children:[h.jsx("div",{className:`absolute left-0 top-0 bottom-0 ${S==="paper-ink"?"bg-slate-900":"bg-blue-500/10 dark:bg-blue-500/20"} transition-all duration-1000 ease-out`,style:{width:`${Math.min(T.readThisMonth/a.monthly*100,100)}%`}}),h.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[h.jsxs("div",{className:"flex items-baseline gap-2",children:[h.jsx("span",{className:"text-4xl font-black text-blue-600 dark:text-blue-400",children:T.readThisMonth}),h.jsxs("span",{className:"text-lg font-bold text-slate-400",children:["/ ",a.monthly]})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("div",{className:"flex items-center justify-end gap-1.5",children:[h.jsx("span",{className:"block text-sm font-black text-slate-800 dark:text-slate-200",children:"Books Read"}),T.readThisMonth>=a.monthly&&h.jsx("div",{className:"bg-blue-500 text-white p-0.5 rounded-full shadow-lg shadow-blue-500/40 animate-scale-in",children:h.jsx(hc,{size:12,strokeWidth:4})})]}),h.jsx("span",{className:"text-[10px] font-bold text-blue-500/80 uppercase tracking-tighter",children:"Monthly Target"})]})]})]}),h.jsxs("div",{className:"mt-3 flex gap-3",children:[h.jsxs("button",{onClick:()=>R("/annual"),className:"flex-1 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-xl py-3 px-4 flex items-center justify-center gap-2 font-bold text-sm hover:scale-[1.02] active:scale-95 transition-all shadow-md",children:[h.jsx(q3,{size:18}),"Annual Report"]}),h.jsxs("div",{className:"bg-slate-100 dark:bg-white/5 rounded-xl py-3 px-4 flex items-center justify-between flex-[1.5] border border-slate-200 dark:border-white/10 contrast-card",children:[h.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Yearly Progress"}),h.jsxs("div",{className:"flex items-baseline gap-1",children:[h.jsx("span",{className:"text-base font-bold dark:text-white",children:T.readThisYear}),h.jsxs("span",{className:"text-xs font-bold text-slate-400",children:["/ ",a.yearly]})]})]})]})]}),h.jsxs("div",{className:"mb-8 -mx-4 px-4",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Currently reading"}),h.jsxs("div",{className:"flex gap-4 items-center",children:[h.jsxs("button",{onClick:()=>R("/library",{state:{statusFilter:"Reading"}}),className:`text-sm font-bold ${S==="paper-ink"?"text-slate-900":"text-blue-500 hover:text-blue-600"} transition-colors px-3 py-2 active:scale-95`,children:["See all ",h.jsx(Va,{size:14,className:"ml-1 inline"})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>D("left"),className:"p-1 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:h.jsx(Va,{size:16,className:"rotate-180 text-slate-400"})}),h.jsx("button",{onClick:()=>D("right"),className:"p-1 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:h.jsx(Va,{size:16,className:"text-slate-400"})})]})]})]}),t.length>0?h.jsx("div",{ref:Te,className:"flex overflow-x-auto gap-4 pb-4 snap-x hide-scrollbar",children:t.map(ie=>h.jsxs("div",{onClick:()=>oe(ie),className:"flex-none w-[280px] snap-start bg-sky-400 dark:bg-sky-600 rounded-2xl p-4 text-white relative overflow-hidden shadow-lg shadow-sky-200 dark:shadow-sky-900/20 active:scale-98 transition-transform contrast-card",children:[h.jsx("button",{onClick:J=>ge(ie,J),className:"absolute top-4 right-4 w-9 h-9 bg-white/20 backdrop-blur rounded-full flex items-center justify-center hover:bg-white/30 transition-colors z-20",children:h.jsx(ny,{size:20,color:"white"})}),h.jsx("button",{onClick:J=>{J.stopPropagation(),(g==null?void 0:g.bookId)===ie.id?window.dispatchEvent(new CustomEvent("stop-timer",{detail:{book:ie}})):w(ie.id)},className:`absolute top-4 left-4 w-9 h-9 backdrop-blur rounded-full flex items-center justify-center transition-colors z-20 ${(g==null?void 0:g.bookId)===ie.id?"bg-red-500 text-white animate-pulse":"bg-white/20 hover:bg-white/30 text-white"}`,children:h.jsx(zi,{size:20})}),h.jsx("div",{className:"w-20 aspect-[2/3] rounded-lg shadow-md mb-4 bg-slate-800 overflow-hidden",children:h.jsx(sa,{src:ie.cover,title:ie.title,author:ie.author,className:"w-full h-full object-cover"})}),h.jsx("h3",{className:"font-bold text-base leading-tight mb-1 truncate",children:ie.title}),h.jsx("p",{className:"text-white/80 text-xs mb-4 truncate",children:ie.author}),h.jsx("div",{className:`h-2 rounded-full overflow-hidden ${S==="paper-ink"?"bg-slate-200":"bg-white/20"}`,children:h.jsx("div",{className:`h-full rounded-full ${S==="paper-ink"?"bg-slate-900":"bg-white"}`,style:{width:`${bf(ie)}%`}})}),h.jsxs("div",{className:"text-right text-[10px] font-bold mt-1",children:[bf(ie),"%"]})]},ie.id))}):h.jsx("div",{className:"text-slate-400 text-sm italic py-4",children:"Not reading anything yet."})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Next Up"}),h.jsx("button",{onClick:()=>R("/add"),className:"text-sm font-bold text-blue-500 hover:text-blue-600 transition-colors px-3 py-2 active:scale-95",children:"+ Add book"})]}),h.jsx("div",{className:"space-y-2",children:n.slice(0,3).map(ie=>h.jsx(hg,{book:ie,onClick:oe,variant:"next-up"},ie.id))})]})]})},Yk=({isOpen:e,onClose:t,onConfirm:r,title:n,message:s,confirmText:a="Confirm",cancelText:c="Cancel",isDangerous:f=!1})=>e?h.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:h.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-xl w-full max-w-sm overflow-hidden animate-scale-in border border-slate-100 dark:border-slate-800",children:h.jsxs("div",{className:"p-6 text-center",children:[h.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4 ${f?"bg-red-100 text-red-600 dark:bg-red-900/30 dark:text-red-400":"bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400"}`,children:h.jsx(Uu,{size:24})}),h.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-2",children:n}),h.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-6",children:s}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:t,className:"flex-1 px-4 py-3 text-sm font-bold text-slate-500 bg-slate-100 dark:bg-slate-800 rounded-xl hover:bg-slate-200 dark:hover:bg-slate-700 transition",children:c}),h.jsx("button",{onClick:()=>{r(),t()},className:`flex-1 px-4 py-3 text-sm font-bold text-white rounded-xl shadow-lg transition transform active:scale-95 ${f?"bg-red-500 shadow-red-500/30 hover:bg-red-600":"bg-blue-500 shadow-blue-500/30 hover:bg-blue-600"}`,children:a})]})]})})}):null,Xk=()=>{const{books:e,loading:t,bulkDeleteBooks:r,activeTimer:n,startTimer:s,stopTimer:a,updateBook:c,logReading:f}=ln(),g=zr(),w=ca();new URLSearchParams(w.search);const[B,x]=z.useState(!1),[v,E]=z.useState(!1),[b,S]=z.useState([]),[R,T]=z.useState(!1),[I,U]=z.useState("All"),[k,H]=z.useState(null),[M,L]=z.useState(null),[X,G]=z.useState(0),[ce,Ne]=z.useState(0),[fe,me]=z.useState("All"),[Te,D]=z.useState("list"),[oe,ge]=z.useState("Recently Added");if(z.useEffect(()=>{const j=W=>{H(W.detail.book)},V=W=>{const te=W.detail.book;if(n&&n.bookId===te.id){const ee=new Date(n.startTime),Le=(new Date-ee)/6e4;Ne(parseFloat(Math.max(.1,Le).toFixed(2))),L(te),G(te.progress||0)}};return window.addEventListener("start-reading-request",j),window.addEventListener("stop-timer",V),()=>{window.removeEventListener("start-reading-request",j),window.removeEventListener("stop-timer",V)}},[n]),t)return h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx(Ag,{className:"animate-spin text-blue-500",size:40})});const Ae=["All","Reading","Read","Want to Read","Paused","DNF","Owned","Sold","To Buy","Spicy","Worst Review"],xe=["Alphabetical","Recently Added","Recently Bought"];let pe=e.filter(j=>{let V=!0;I!=="All"&&(I==="To Buy"?V=j.isWantToBuy:I==="Owned"?V=j.isOwned:I==="Sold"?V=j.ownershipStatus==="sold":I==="Reading"?V=j.status==="reading":I==="Read"?V=j.status==="read":I==="Want to Read"?V=j.status==="want-to-read":I==="Paused"?V=j.status==="paused":I==="DNF"?V=j.status==="dnf":I==="Spicy"?V=j.hasSpice:I==="Worst Review"&&(V=j.rating>0&&j.rating<=2));let W=!0;return fe!=="All"&&(W=j.format===fe),V&&W&&!0});pe.sort((j,V)=>oe==="Alphabetical"?j.title.localeCompare(V.title):oe==="Recently Added"?new Date(V.addedAt)-new Date(j.addedAt):oe==="Recently Bought"?new Date(V.boughtDate||0)-new Date(j.boughtDate||0):0);const Me=j=>{S(V=>V.includes(j)?V.filter(W=>W!==j):[...V,j])},ie=()=>{b.length!==0&&T(!0)},J=()=>{r(b),S([]),E(!1),T(!1)},ne=()=>{k&&(c(k.id,{status:"reading",startedAt:new Date().toISOString()}),s(k.id),H(null))},Ie=()=>{if(M){const j=M.progress||0,V=Math.max(0,X-j);f(M.id,X),ce>0&&(a(M.id,ce,V),Ne(0)),L(null)}};return h.jsxs("div",{className:"pb-24 pt-2 min-h-screen relative",children:[h.jsx(Ku,{}),h.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-white",children:"BookShelf"}),h.jsx("div",{className:"flex items-center gap-2",children:h.jsxs("p",{className:"text-xs text-slate-400 font-bold uppercase",children:[pe.length," ",pe.length===1?"Book":"Books"]})})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("div",{className:"hidden sm:flex bg-slate-100 dark:bg-slate-800 p-0.5 rounded-lg",children:[h.jsx("button",{onClick:()=>D("list"),className:`p-1.5 rounded-md transition-all ${Te==="list"?"bg-white dark:bg-slate-600 shadow-sm text-slate-900 dark:text-white":"text-slate-400 dark:text-slate-600 hover:text-slate-600 dark:hover:text-slate-400"}`,children:h.jsx(Ip,{size:14,strokeWidth:2.5})}),h.jsx("button",{onClick:()=>D("grid"),className:`p-1.5 rounded-md transition-all ${Te==="grid"?"bg-white dark:bg-slate-600 shadow-sm text-slate-900 dark:text-white":"text-slate-400 dark:text-slate-600 hover:text-slate-600 dark:hover:text-slate-400"}`,children:h.jsx(Sp,{size:14,strokeWidth:2.5})}),h.jsx("button",{onClick:()=>D("spine"),className:`p-1.5 rounded-md transition-all ${Te==="spine"?"bg-white dark:bg-slate-600 shadow-sm text-slate-900 dark:text-white":"text-slate-400 dark:text-slate-600 hover:text-slate-600 dark:hover:text-slate-400"}`,children:h.jsx(Ef,{size:14,strokeWidth:2.5})})]}),h.jsxs("button",{onClick:()=>D(j=>j==="list"?"grid":j==="grid"?"spine":"list"),className:"sm:hidden flex items-center gap-1.5 px-3 py-1.5 bg-slate-100 dark:bg-slate-800 rounded-full text-[10px] font-black uppercase text-slate-500 dark:text-slate-400",children:[Te==="list"?h.jsx(Sp,{size:14}):Te==="grid"?h.jsx(Ip,{size:14}):h.jsx(Ef,{size:14}),h.jsx("span",{children:"Mode"})]}),h.jsxs("button",{onClick:()=>{E(!v),S([])},className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full text-[10px] font-black uppercase transition-all ${v?"bg-violet-600 text-white shadow-lg shadow-violet-500/30":"bg-slate-100 dark:bg-slate-800 text-slate-500"}`,children:[v?h.jsx(Ep,{size:14}):h.jsx(dF,{size:14}),v?"Done":"Select"]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{onClick:()=>x(!B),className:"flex items-center gap-1 text-xs font-bold uppercase text-slate-500",children:["Filter ",h.jsx(nF,{size:14})]}),h.jsx("div",{className:"w-px h-4 bg-slate-300 dark:bg-slate-700 my-auto"}),h.jsxs("button",{className:"flex items-center gap-1 text-xs font-bold uppercase text-slate-500",children:[oe," ",h.jsx(YB,{size:14})]})]})]})]}),v&&h.jsx("div",{className:"fixed bottom-24 left-4 right-4 z-50 animate-slide-up",children:h.jsxs("div",{className:"bg-slate-900 dark:bg-white text-white dark:text-slate-900 p-4 rounded-2xl shadow-2xl flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"bg-violet-500 p-2 rounded-xl",children:h.jsx(Ep,{size:20,className:"text-white"})}),h.jsxs("div",{children:[h.jsxs("div",{className:"text-sm font-black",children:[b.length," Selected"]}),h.jsx("div",{className:"text-[10px] font-bold opacity-60 uppercase",children:"Bulk Actions"})]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>S([]),className:"px-4 py-2 text-xs font-bold uppercase opacity-60 hover:opacity-100",children:"Clear"}),h.jsxs("button",{onClick:ie,disabled:b.length===0,className:"flex items-center gap-2 px-6 py-2 bg-red-500 text-white rounded-xl text-xs font-black uppercase shadow-lg shadow-red-500/30 active:scale-95 transition-all disabled:opacity-50 disabled:grayscale",children:[h.jsx(ay,{size:14})," Delete"]})]})]})}),h.jsx(Yk,{isOpen:R,onClose:()=>T(!1),onConfirm:J,title:"Delete Books?",message:`Are you sure you want to delete ${b.length} ${b.length===1?"book":"books"}? This action cannot be undone.`,isDangerous:!0,confirmText:"Delete"}),M&&h.jsx("div",{className:"fixed inset-0 z-[60] bg-black/50 backdrop-blur-sm flex items-end sm:items-center justify-center p-4",children:h.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-sm rounded-[32px] p-8 shadow-2xl animate-fade-in slide-in-from-bottom flex flex-col",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h3",{className:"text-xl font-bold dark:text-white",children:"Log Progress"}),h.jsx("button",{onClick:()=>L(null),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors text-slate-400",children:h.jsx(Mn,{size:24})})]}),ce>0&&h.jsxs("div",{className:"mb-6 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-xl text-xs font-bold text-blue-600 dark:text-blue-400 text-center animate-fade-in",children:["Reading Session: ",ce," min"]}),h.jsxs("div",{className:"mb-8 overflow-hidden rounded-2xl bg-slate-50 dark:bg-slate-800/50 p-4 border border-slate-100 dark:border-slate-800",children:[h.jsx("label",{className:"text-[10px] font-bold uppercase text-slate-400 mb-2 block tracking-widest text-center",children:"Current Progress"}),h.jsx("input",{type:"number",className:"w-full text-center text-5xl font-black bg-transparent outline-none p-2 dark:text-white",value:X,onChange:j=>G(Number(j.target.value)),autoFocus:!0}),h.jsx("div",{className:"text-[10px] font-bold text-slate-400 text-center mt-2",children:M.format==="Audiobook"||M.progressMode==="chapters"?"CH":"PAGE"})]}),h.jsx("button",{onClick:Ie,className:"w-full py-5 bg-gradient-to-r from-violet-600 to-blue-600 text-white rounded-2xl font-black text-lg shadow-xl shadow-violet-500/20 active:scale-95 transition-all",children:"Update Progress"})]})}),k&&h.jsx("div",{className:"fixed inset-0 z-[60] bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-sm rounded-[32px] p-8 shadow-2xl animate-fade-in scale-in flex flex-col items-center text-center",children:[h.jsx("h3",{className:"text-2xl font-bold dark:text-white mb-2",children:"Start Reading?"}),h.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mb-6 text-sm",children:["Do you want to start reading ",h.jsx("strong",{children:k.title}),"?"]}),h.jsxs("div",{className:"flex gap-3 w-full",children:[h.jsx("button",{onClick:ne,className:"flex-1 py-4 bg-blue-600 text-white rounded-2xl font-bold active:scale-95 transition-all",children:"Yes, Start"}),h.jsx("button",{onClick:()=>H(null),className:"flex-1 py-4 bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 rounded-2xl font-bold active:scale-95 transition-all",children:"No"})]})]})}),B&&h.jsx("div",{className:"mb-6 p-4 bg-white dark:bg-slate-900 rounded-xl shadow-lg border border-slate-100 dark:border-slate-800 animate-fade-in",children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase mb-2 block",children:"Sort By"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:xe.map(j=>h.jsx("button",{onClick:()=>ge(j),className:`px-3 py-1 rounded-full text-xs font-medium border ${oe===j?"bg-slate-800 text-white":"border-slate-200"}`,children:j},j))})]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase mb-2 block",children:"Status"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:Ae.map(j=>h.jsx("button",{onClick:()=>U(j),className:`px-3 py-1 rounded-full text-xs font-medium border ${I===j?"bg-violet-600 text-white":"border-slate-200"}`,children:j},j))})]})]})}),h.jsx("div",{className:Te==="spine"?"flex flex-wrap items-end gap-x-0 gap-y-12 px-8 py-12 bg-slate-50 dark:bg-[#1a1a1a] rounded-sm border-[16px] border-white dark:border-[#2a2a2a] shadow-[inset_0_2px_10px_rgba(0,0,0,0.05),0_10px_30px_rgba(0,0,0,0.1)] min-h-[500px]":Te==="grid"?"grid grid-cols-2 gap-3":"space-y-3",children:pe.map(j=>h.jsx(hg,{book:j,variant:Te==="spine"?"spine":Te==="grid"?"grid":"list",onClick:()=>g(`/book/${j.id}`),selectable:v,selected:b.includes(j.id),onSelect:Me},j.id))})]})},Jk=({value:e,max:t=5,onChange:r,readOnly:n=!1})=>{const[s,a]=z.useState(null),c=(w,B)=>{if(n)return;const x=w.currentTarget.getBoundingClientRect(),E=w.clientX-x.left<x.width/2;a(E?B+.5:B+1)},f=(w,B)=>{if(n)return;const x=w.currentTarget.getBoundingClientRect(),E=w.clientX-x.left<x.width/2;r(E?B+.5:B+1)},g=s!==null?s:e;return h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"flex gap-1",onMouseLeave:()=>a(null),children:[...Array(t)].map((w,B)=>{const x=g>=B+1,v=g>=B+.5&&g<B+1;return h.jsx("button",{type:"button",className:`transition-transform relative ${!n&&"hover:scale-110"}`,onClick:E=>f(E,B),onMouseMove:E=>c(E,B),disabled:n,children:x?h.jsx($n,{size:20,className:"fill-yellow-400 text-yellow-400 transition-colors duration-200"}):v?h.jsxs("div",{className:"relative",children:[h.jsx(If,{size:20,className:"fill-yellow-400 text-yellow-400 transition-colors duration-200"}),h.jsx($n,{size:20,className:"text-slate-300 absolute top-0 left-0 -z-10"})]}):h.jsx($n,{size:20,className:"text-slate-300 transition-colors duration-200"})},B)})}),h.jsx("span",{className:"text-sm font-bold text-slate-500 dark:text-slate-400 min-w-[24px]",children:g||0})]})},gC=({value:e,max:t=5,onChange:r,readOnly:n=!1})=>{const[s,a]=z.useState(null),c=(w,B)=>{if(n)return;const x=w.currentTarget.getBoundingClientRect(),E=w.clientX-x.left<x.width/2;a(E?B+.5:B+1)},f=(w,B)=>{if(n)return;const x=w.currentTarget.getBoundingClientRect(),E=w.clientX-x.left<x.width/2;r(E?B+.5:B+1)},g=s!==null?s:e;return h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"flex gap-1",onMouseLeave:()=>a(null),children:[...Array(t)].map((w,B)=>{const x=g>=B+1,v=g>=B+.5&&g<B+1;return h.jsx("button",{type:"button",className:`transition-transform relative ${!n&&"hover:scale-110"}`,onClick:E=>f(E,B),onMouseMove:E=>c(E,B),disabled:n,children:h.jsx(qn,{size:20,fillPercentage:x?100:v?50:0,className:`
                    ${x||v?"text-red-500":"text-slate-600"}
                    transition-colors duration-200
                `})},B)})}),h.jsx("span",{className:"text-sm font-bold text-slate-500 dark:text-slate-400 min-w-[24px]",children:g||0})]})},pC=["Fantasy","Science Fiction","Dystopian","Action & Adventure","Mystery","Horror","Thriller & Suspense","Historical Fiction","Romance","Romantasy","Dark Romance","Contemporary Fiction","Literary Fiction","Graphic Novel","Short Story","Young Adult","New Adult","Memoir & Autobiography","Biography","Food & Drink","Art & Photography","Self-Help","History","True Crime","Science & Technology","Travel","Humor","Guide / How-to","Religion & Spirituality","Humanities & Social Sciences","Parenting & Families","Children's"].sort();var Se;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Se||(Se={}));var Iw=new Map([[Se.QR_CODE,"QR_CODE"],[Se.AZTEC,"AZTEC"],[Se.CODABAR,"CODABAR"],[Se.CODE_39,"CODE_39"],[Se.CODE_93,"CODE_93"],[Se.CODE_128,"CODE_128"],[Se.DATA_MATRIX,"DATA_MATRIX"],[Se.MAXICODE,"MAXICODE"],[Se.ITF,"ITF"],[Se.EAN_13,"EAN_13"],[Se.EAN_8,"EAN_8"],[Se.PDF_417,"PDF_417"],[Se.RSS_14,"RSS_14"],[Se.RSS_EXPANDED,"RSS_EXPANDED"],[Se.UPC_A,"UPC_A"],[Se.UPC_E,"UPC_E"],[Se.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Fw;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(Fw||(Fw={}));function Zk(e){return Object.values(Se).includes(e)}var cs;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(cs||(cs={}));var Qn=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[cs.SCAN_TYPE_CAMERA,cs.SCAN_TYPE_FILE],e}(),wC=function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!Iw.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,Iw.get(t))},e}(),Nw=function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),qf;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(qf||(qf={}));var mC=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:qf.UNKWOWN_ERROR}},e}(),xC=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function Jn(e){return typeof e>"u"||e===null}function qk(e,t,r){return e>r?r:e<t?t:e}var Mi=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),at=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),Tw=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),BC=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var n=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var s=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],a=new Set(s),c=Object.keys(t),f=0,g=c;f<g.length;f++){var w=g[f];if(a.has(w))return r.logError("".concat(w," is not supported videoConstaints."),!0),!1}return!0},e}(),$f={exports:{}};(function(e,t){(function(r,n){n(t)})(va,function(r){function n(F){return F==null}var s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,A){F.__proto__=A}||function(F,A){for(var i in A)A.hasOwnProperty(i)&&(F[i]=A[i])};function a(F,A){s(F,A);function i(){this.constructor=F}F.prototype=A===null?Object.create(A):(i.prototype=A.prototype,new i)}function c(F,A){var i=Object.setPrototypeOf;i?i(F,A):F.__proto__=A}function f(F,A){A===void 0&&(A=F.constructor);var i=Error.captureStackTrace;i&&i(F,A)}var g=function(F){a(A,F);function A(i){var o=this.constructor,l=F.call(this,i)||this;return Object.defineProperty(l,"name",{value:o.name,enumerable:!1}),c(l,o.prototype),f(l),l}return A}(Error);class w extends g{constructor(A=void 0){super(A),this.message=A}getKind(){return this.constructor.kind}}w.kind="Exception";class B extends w{}B.kind="ArgumentException";class x extends w{}x.kind="IllegalArgumentException";class v{constructor(A){if(this.binarizer=A,A===null)throw new x("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(A,i){return this.binarizer.getBlackRow(A,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(A,i,o,l){const u=this.binarizer.getLuminanceSource().crop(A,i,o,l);return new v(this.binarizer.createBinarizer(u))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const A=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new v(this.binarizer.createBinarizer(A))}rotateCounterClockwise45(){const A=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new v(this.binarizer.createBinarizer(A))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class E extends w{static getChecksumInstance(){return new E}}E.kind="ChecksumException";class b{constructor(A){this.source=A}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class S{static arraycopy(A,i,o,l,u){for(;u--;)o[l++]=A[i++]}static currentTimeMillis(){return Date.now()}}class R extends w{}R.kind="IndexOutOfBoundsException";class T extends R{constructor(A=void 0,i=void 0){super(i),this.index=A,this.message=i}}T.kind="ArrayIndexOutOfBoundsException";class I{static fill(A,i){for(let o=0,l=A.length;o<l;o++)A[o]=i}static fillWithin(A,i,o,l){I.rangeCheck(A.length,i,o);for(let u=i;u<o;u++)A[u]=l}static rangeCheck(A,i,o){if(i>o)throw new x("fromIndex("+i+") > toIndex("+o+")");if(i<0)throw new T(i);if(o>A)throw new T(o)}static asList(...A){return A}static create(A,i,o){return Array.from({length:A}).map(u=>Array.from({length:i}).fill(o))}static createInt32Array(A,i,o){return Array.from({length:A}).map(u=>Int32Array.from({length:i}).fill(o))}static equals(A,i){if(!A||!i||!A.length||!i.length||A.length!==i.length)return!1;for(let o=0,l=A.length;o<l;o++)if(A[o]!==i[o])return!1;return!0}static hashCode(A){if(A===null)return 0;let i=1;for(const o of A)i=31*i+o;return i}static fillUint8Array(A,i){for(let o=0;o!==A.length;o++)A[o]=i}static copyOf(A,i){return A.slice(0,i)}static copyOfUint8Array(A,i){if(A.length<=i){const o=new Uint8Array(i);return o.set(A),o}return A.slice(0,i)}static copyOfRange(A,i,o){const l=o-i,u=new Int32Array(l);return S.arraycopy(A,i,u,0,l),u}static binarySearch(A,i,o){o===void 0&&(o=I.numberComparator);let l=0,u=A.length-1;for(;l<=u;){const d=u+l>>1,p=o(i,A[d]);if(p>0)l=d+1;else if(p<0)u=d-1;else return d}return-l-1}static numberComparator(A,i){return A-i}}class U{static numberOfTrailingZeros(A){let i;if(A===0)return 32;let o=31;return i=A<<16,i!==0&&(o-=16,A=i),i=A<<8,i!==0&&(o-=8,A=i),i=A<<4,i!==0&&(o-=4,A=i),i=A<<2,i!==0&&(o-=2,A=i),o-(A<<1>>>31)}static numberOfLeadingZeros(A){if(A===0)return 32;let i=1;return A>>>16||(i+=16,A<<=16),A>>>24||(i+=8,A<<=8),A>>>28||(i+=4,A<<=4),A>>>30||(i+=2,A<<=2),i-=A>>>31,i}static toHexString(A){return A.toString(16)}static toBinaryString(A){return String(parseInt(String(A),2))}static bitCount(A){return A=A-(A>>>1&1431655765),A=(A&858993459)+(A>>>2&858993459),A=A+(A>>>4)&252645135,A=A+(A>>>8),A=A+(A>>>16),A&63}static truncDivision(A,i){return Math.trunc(A/i)}static parseInt(A,i=void 0){return parseInt(A,i)}}U.MIN_VALUE_32_BITS=-2147483648,U.MAX_VALUE=Number.MAX_SAFE_INTEGER;class k{constructor(A,i){A===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=A,i==null?this.bits=k.makeArray(A):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(A){if(A>this.bits.length*32){const i=k.makeArray(A);S.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(A){return(this.bits[Math.floor(A/32)]&1<<(A&31))!==0}set(A){this.bits[Math.floor(A/32)]|=1<<(A&31)}flip(A){this.bits[Math.floor(A/32)]^=1<<(A&31)}getNextSet(A){const i=this.size;if(A>=i)return i;const o=this.bits;let l=Math.floor(A/32),u=o[l];u&=~((1<<(A&31))-1);const d=o.length;for(;u===0;){if(++l===d)return i;u=o[l]}const p=l*32+U.numberOfTrailingZeros(u);return p>i?i:p}getNextUnset(A){const i=this.size;if(A>=i)return i;const o=this.bits;let l=Math.floor(A/32),u=~o[l];u&=~((1<<(A&31))-1);const d=o.length;for(;u===0;){if(++l===d)return i;u=~o[l]}const p=l*32+U.numberOfTrailingZeros(u);return p>i?i:p}setBulk(A,i){this.bits[Math.floor(A/32)]=i}setRange(A,i){if(i<A||A<0||i>this.size)throw new x;if(i===A)return;i--;const o=Math.floor(A/32),l=Math.floor(i/32),u=this.bits;for(let d=o;d<=l;d++){const p=d>o?0:A&31,y=(2<<(d<l?31:i&31))-(1<<p);u[d]|=y}}clear(){const A=this.bits.length,i=this.bits;for(let o=0;o<A;o++)i[o]=0}isRange(A,i,o){if(i<A||A<0||i>this.size)throw new x;if(i===A)return!0;i--;const l=Math.floor(A/32),u=Math.floor(i/32),d=this.bits;for(let p=l;p<=u;p++){const m=p>l?0:A&31,C=(2<<(p<u?31:i&31))-(1<<m)&4294967295;if((d[p]&C)!==(o?C:0))return!1}return!0}appendBit(A){this.ensureCapacity(this.size+1),A&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(A,i){if(i<0||i>32)throw new x("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let o=i;o>0;o--)this.appendBit((A>>o-1&1)===1)}appendBitArray(A){const i=A.size;this.ensureCapacity(this.size+i);for(let o=0;o<i;o++)this.appendBit(A.get(o))}xor(A){if(this.size!==A.size)throw new x("Sizes don't match");const i=this.bits;for(let o=0,l=i.length;o<l;o++)i[o]^=A.bits[o]}toBytes(A,i,o,l){for(let u=0;u<l;u++){let d=0;for(let p=0;p<8;p++)this.get(A)&&(d|=1<<7-p),A++;i[o+u]=d}}getBitArray(){return this.bits}reverse(){const A=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),o=i+1,l=this.bits;for(let u=0;u<o;u++){let d=l[u];d=d>>1&1431655765|(d&1431655765)<<1,d=d>>2&858993459|(d&858993459)<<2,d=d>>4&252645135|(d&252645135)<<4,d=d>>8&16711935|(d&16711935)<<8,d=d>>16&65535|(d&65535)<<16,A[i-u]=d}if(this.size!==o*32){const u=o*32-this.size;let d=A[0]>>>u;for(let p=1;p<o;p++){const m=A[p];d|=m<<32-u,A[p-1]=d,d=m>>>u}A[o-1]=d}this.bits=A}static makeArray(A){return new Int32Array(Math.floor((A+31)/32))}equals(A){if(!(A instanceof k))return!1;const i=A;return this.size===i.size&&I.equals(this.bits,i.bits)}hashCode(){return 31*this.size+I.hashCode(this.bits)}toString(){let A="";for(let i=0,o=this.size;i<o;i++)i&7||(A+=" "),A+=this.get(i)?"X":".";return A}clone(){return new k(this.size,this.bits.slice())}}var H;(function(F){F[F.OTHER=0]="OTHER",F[F.PURE_BARCODE=1]="PURE_BARCODE",F[F.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",F[F.TRY_HARDER=3]="TRY_HARDER",F[F.CHARACTER_SET=4]="CHARACTER_SET",F[F.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",F[F.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",F[F.ASSUME_GS1=7]="ASSUME_GS1",F[F.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",F[F.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",F[F.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(H||(H={}));var M=H;class L extends w{static getFormatInstance(){return new L}}L.kind="FormatException";var X;(function(F){F[F.Cp437=0]="Cp437",F[F.ISO8859_1=1]="ISO8859_1",F[F.ISO8859_2=2]="ISO8859_2",F[F.ISO8859_3=3]="ISO8859_3",F[F.ISO8859_4=4]="ISO8859_4",F[F.ISO8859_5=5]="ISO8859_5",F[F.ISO8859_6=6]="ISO8859_6",F[F.ISO8859_7=7]="ISO8859_7",F[F.ISO8859_8=8]="ISO8859_8",F[F.ISO8859_9=9]="ISO8859_9",F[F.ISO8859_10=10]="ISO8859_10",F[F.ISO8859_11=11]="ISO8859_11",F[F.ISO8859_13=12]="ISO8859_13",F[F.ISO8859_14=13]="ISO8859_14",F[F.ISO8859_15=14]="ISO8859_15",F[F.ISO8859_16=15]="ISO8859_16",F[F.SJIS=16]="SJIS",F[F.Cp1250=17]="Cp1250",F[F.Cp1251=18]="Cp1251",F[F.Cp1252=19]="Cp1252",F[F.Cp1256=20]="Cp1256",F[F.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",F[F.UTF8=22]="UTF8",F[F.ASCII=23]="ASCII",F[F.Big5=24]="Big5",F[F.GB18030=25]="GB18030",F[F.EUC_KR=26]="EUC_KR"})(X||(X={}));class G{constructor(A,i,o,...l){this.valueIdentifier=A,this.name=o,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=l,G.VALUE_IDENTIFIER_TO_ECI.set(A,this),G.NAME_TO_ECI.set(o,this);const u=this.values;for(let d=0,p=u.length;d!==p;d++){const m=u[d];G.VALUES_TO_ECI.set(m,this)}for(const d of l)G.NAME_TO_ECI.set(d,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(A){if(A<0||A>=900)throw new L("incorect value");const i=G.VALUES_TO_ECI.get(A);if(i===void 0)throw new L("incorect value");return i}static getCharacterSetECIByName(A){const i=G.NAME_TO_ECI.get(A);if(i===void 0)throw new L("incorect value");return i}equals(A){if(!(A instanceof G))return!1;const i=A;return this.getName()===i.getName()}}G.VALUE_IDENTIFIER_TO_ECI=new Map,G.VALUES_TO_ECI=new Map,G.NAME_TO_ECI=new Map,G.Cp437=new G(X.Cp437,Int32Array.from([0,2]),"Cp437"),G.ISO8859_1=new G(X.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),G.ISO8859_2=new G(X.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),G.ISO8859_3=new G(X.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),G.ISO8859_4=new G(X.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),G.ISO8859_5=new G(X.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),G.ISO8859_6=new G(X.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),G.ISO8859_7=new G(X.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),G.ISO8859_8=new G(X.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),G.ISO8859_9=new G(X.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),G.ISO8859_10=new G(X.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),G.ISO8859_11=new G(X.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),G.ISO8859_13=new G(X.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),G.ISO8859_14=new G(X.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),G.ISO8859_15=new G(X.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),G.ISO8859_16=new G(X.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),G.SJIS=new G(X.SJIS,20,"SJIS","Shift_JIS"),G.Cp1250=new G(X.Cp1250,21,"Cp1250","windows-1250"),G.Cp1251=new G(X.Cp1251,22,"Cp1251","windows-1251"),G.Cp1252=new G(X.Cp1252,23,"Cp1252","windows-1252"),G.Cp1256=new G(X.Cp1256,24,"Cp1256","windows-1256"),G.UnicodeBigUnmarked=new G(X.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),G.UTF8=new G(X.UTF8,26,"UTF8","UTF-8"),G.ASCII=new G(X.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),G.Big5=new G(X.Big5,28,"Big5"),G.GB18030=new G(X.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),G.EUC_KR=new G(X.EUC_KR,30,"EUC_KR","EUC-KR");class ce extends w{}ce.kind="UnsupportedOperationException";class Ne{static decode(A,i){const o=this.encodingName(i);return this.customDecoder?this.customDecoder(A,o):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(o)?this.decodeFallback(A,o):new TextDecoder(o).decode(A)}static shouldDecodeOnFallback(A){return!Ne.isBrowser()&&A==="ISO-8859-1"}static encode(A,i){const o=this.encodingName(i);return this.customEncoder?this.customEncoder(A,o):typeof TextEncoder>"u"?this.encodeFallback(A):new TextEncoder().encode(A)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(A){return typeof A=="string"?A:A.getName()}static encodingCharacterSet(A){return A instanceof G?A:G.getCharacterSetECIByName(A)}static decodeFallback(A,i){const o=this.encodingCharacterSet(i);if(Ne.isDecodeFallbackSupported(o)){let l="";for(let u=0,d=A.length;u<d;u++){let p=A[u].toString(16);p.length<2&&(p="0"+p),l+="%"+p}return decodeURIComponent(l)}if(o.equals(G.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(A.buffer));throw new ce(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(A){return A.equals(G.UTF8)||A.equals(G.ISO8859_1)||A.equals(G.ASCII)}static encodeFallback(A){const o=btoa(unescape(encodeURIComponent(A))).split(""),l=[];for(let u=0;u<o.length;u++)l.push(o[u].charCodeAt(0));return new Uint8Array(l)}}class fe{static castAsNonUtf8Char(A,i=null){const o=i?i.getName():this.ISO88591;return Ne.decode(new Uint8Array([A]),o)}static guessEncoding(A,i){if(i!=null&&i.get(M.CHARACTER_SET)!==void 0)return i.get(M.CHARACTER_SET).toString();const o=A.length;let l=!0,u=!0,d=!0,p=0,m=0,y=0,C=0,N=0,_=0,O=0,P=0,K=0,Y=0,$=0;const de=A.length>3&&A[0]===239&&A[1]===187&&A[2]===191;for(let he=0;he<o&&(l||u||d);he++){const ae=A[he]&255;d&&(p>0?ae&128?p--:d=!1:ae&128&&(ae&64?(p++,ae&32?(p++,ae&16?(p++,ae&8?d=!1:C++):y++):m++):d=!1)),l&&(ae>127&&ae<160?l=!1:ae>159&&(ae<192||ae===215||ae===247)&&$++),u&&(N>0?ae<64||ae===127||ae>252?u=!1:N--:ae===128||ae===160||ae>239?u=!1:ae>160&&ae<224?(_++,P=0,O++,O>K&&(K=O)):ae>127?(N++,O=0,P++,P>Y&&(Y=P)):(O=0,P=0))}return d&&p>0&&(d=!1),u&&N>0&&(u=!1),d&&(de||m+y+C>0)?fe.UTF8:u&&(fe.ASSUME_SHIFT_JIS||K>=3||Y>=3)?fe.SHIFT_JIS:l&&u?K===2&&_===2||$*10>=o?fe.SHIFT_JIS:fe.ISO88591:l?fe.ISO88591:u?fe.SHIFT_JIS:d?fe.UTF8:fe.PLATFORM_DEFAULT_ENCODING}static format(A,...i){let o=-1;function l(d,p,m,y,C,N){if(d==="%%")return"%";if(i[++o]===void 0)return;d=y?parseInt(y.substr(1)):void 0;let _=C?parseInt(C.substr(1)):void 0,O;switch(N){case"s":O=i[o];break;case"c":O=i[o][0];break;case"f":O=parseFloat(i[o]).toFixed(d);break;case"p":O=parseFloat(i[o]).toPrecision(d);break;case"e":O=parseFloat(i[o]).toExponential(d);break;case"x":O=parseInt(i[o]).toString(_||16);break;case"d":O=parseFloat(parseInt(i[o],_||10).toPrecision(d)).toFixed(0);break}O=typeof O=="object"?JSON.stringify(O):(+O).toString(_);let P=parseInt(m),K=m&&m[0]+""=="0"?"0":" ";for(;O.length<P;)O=p!==void 0?O+K:K+O;return O}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return A.replace(u,l)}static getBytes(A,i){return Ne.encode(A,i)}static getCharCode(A,i=0){return A.charCodeAt(i)}static getCharAt(A){return String.fromCharCode(A)}}fe.SHIFT_JIS=G.SJIS.getName(),fe.GB2312="GB2312",fe.ISO88591=G.ISO8859_1.getName(),fe.EUC_JP="EUC_JP",fe.UTF8=G.UTF8.getName(),fe.PLATFORM_DEFAULT_ENCODING=fe.UTF8,fe.ASSUME_SHIFT_JIS=!1;class me{constructor(A=""){this.value=A}enableDecoding(A){return this.encoding=A,this}append(A){return typeof A=="string"?this.value+=A.toString():this.encoding?this.value+=fe.castAsNonUtf8Char(A,this.encoding):this.value+=String.fromCharCode(A),this}appendChars(A,i,o){for(let l=i;i<i+o;l++)this.append(A[l]);return this}length(){return this.value.length}charAt(A){return this.value.charAt(A)}deleteCharAt(A){this.value=this.value.substr(0,A)+this.value.substring(A+1)}setCharAt(A,i){this.value=this.value.substr(0,A)+i+this.value.substr(A+1)}substring(A,i){return this.value.substring(A,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(A,i){this.value=this.value.substr(0,A)+i+this.value.substr(A+i.length)}}class Te{constructor(A,i,o,l){if(this.width=A,this.height=i,this.rowSize=o,this.bits=l,i==null&&(i=A),this.height=i,A<1||i<1)throw new x("Both dimensions must be greater than 0");o==null&&(o=Math.floor((A+31)/32)),this.rowSize=o,l==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(A){const i=A.length,o=A[0].length,l=new Te(o,i);for(let u=0;u<i;u++){const d=A[u];for(let p=0;p<o;p++)d[p]&&l.set(p,u)}return l}static parseFromString(A,i,o){if(A===null)throw new x("stringRepresentation cannot be null");const l=new Array(A.length);let u=0,d=0,p=-1,m=0,y=0;for(;y<A.length;)if(A.charAt(y)===`
`||A.charAt(y)==="\r"){if(u>d){if(p===-1)p=u-d;else if(u-d!==p)throw new x("row lengths do not match");d=u,m++}y++}else if(A.substring(y,y+i.length)===i)y+=i.length,l[u]=!0,u++;else if(A.substring(y,y+o.length)===o)y+=o.length,l[u]=!1,u++;else throw new x("illegal character encountered: "+A.substring(y));if(u>d){if(p===-1)p=u-d;else if(u-d!==p)throw new x("row lengths do not match");m++}const C=new Te(p,m);for(let N=0;N<u;N++)l[N]&&C.set(Math.floor(N%p),Math.floor(N/p));return C}get(A,i){const o=i*this.rowSize+Math.floor(A/32);return(this.bits[o]>>>(A&31)&1)!==0}set(A,i){const o=i*this.rowSize+Math.floor(A/32);this.bits[o]|=1<<(A&31)&4294967295}unset(A,i){const o=i*this.rowSize+Math.floor(A/32);this.bits[o]&=~(1<<(A&31)&4294967295)}flip(A,i){const o=i*this.rowSize+Math.floor(A/32);this.bits[o]^=1<<(A&31)&4294967295}xor(A){if(this.width!==A.getWidth()||this.height!==A.getHeight()||this.rowSize!==A.getRowSize())throw new x("input matrix dimensions do not match");const i=new k(Math.floor(this.width/32)+1),o=this.rowSize,l=this.bits;for(let u=0,d=this.height;u<d;u++){const p=u*o,m=A.getRow(u,i).getBitArray();for(let y=0;y<o;y++)l[p+y]^=m[y]}}clear(){const A=this.bits,i=A.length;for(let o=0;o<i;o++)A[o]=0}setRegion(A,i,o,l){if(i<0||A<0)throw new x("Left and top must be nonnegative");if(l<1||o<1)throw new x("Height and width must be at least 1");const u=A+o,d=i+l;if(d>this.height||u>this.width)throw new x("The region must fit inside the matrix");const p=this.rowSize,m=this.bits;for(let y=i;y<d;y++){const C=y*p;for(let N=A;N<u;N++)m[C+Math.floor(N/32)]|=1<<(N&31)&4294967295}}getRow(A,i){i==null||i.getSize()<this.width?i=new k(this.width):i.clear();const o=this.rowSize,l=this.bits,u=A*o;for(let d=0;d<o;d++)i.setBulk(d*32,l[u+d]);return i}setRow(A,i){S.arraycopy(i.getBitArray(),0,this.bits,A*this.rowSize,this.rowSize)}rotate180(){const A=this.getWidth(),i=this.getHeight();let o=new k(A),l=new k(A);for(let u=0,d=Math.floor((i+1)/2);u<d;u++)o=this.getRow(u,o),l=this.getRow(i-1-u,l),o.reverse(),l.reverse(),this.setRow(u,l),this.setRow(i-1-u,o)}getEnclosingRectangle(){const A=this.width,i=this.height,o=this.rowSize,l=this.bits;let u=A,d=i,p=-1,m=-1;for(let y=0;y<i;y++)for(let C=0;C<o;C++){const N=l[y*o+C];if(N!==0){if(y<d&&(d=y),y>m&&(m=y),C*32<u){let _=0;for(;!(N<<31-_&4294967295);)_++;C*32+_<u&&(u=C*32+_)}if(C*32+31>p){let _=31;for(;!(N>>>_);)_--;C*32+_>p&&(p=C*32+_)}}}return p<u||m<d?null:Int32Array.from([u,d,p-u+1,m-d+1])}getTopLeftOnBit(){const A=this.rowSize,i=this.bits;let o=0;for(;o<i.length&&i[o]===0;)o++;if(o===i.length)return null;const l=o/A;let u=o%A*32;const d=i[o];let p=0;for(;!(d<<31-p&4294967295);)p++;return u+=p,Int32Array.from([u,l])}getBottomRightOnBit(){const A=this.rowSize,i=this.bits;let o=i.length-1;for(;o>=0&&i[o]===0;)o--;if(o<0)return null;const l=Math.floor(o/A);let u=Math.floor(o%A)*32;const d=i[o];let p=31;for(;!(d>>>p);)p--;return u+=p,Int32Array.from([u,l])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(A){if(!(A instanceof Te))return!1;const i=A;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&I.equals(this.bits,i.bits)}hashCode(){let A=this.width;return A=31*A+this.width,A=31*A+this.height,A=31*A+this.rowSize,A=31*A+I.hashCode(this.bits),A}toString(A="X ",i="  ",o=`
`){return this.buildToString(A,i,o)}buildToString(A,i,o){let l=new me;for(let u=0,d=this.height;u<d;u++){for(let p=0,m=this.width;p<m;p++)l.append(this.get(p,u)?A:i);l.append(o)}return l.toString()}clone(){return new Te(this.width,this.height,this.rowSize,this.bits.slice())}}class D extends w{static getNotFoundInstance(){return new D}}D.kind="NotFoundException";class oe extends b{constructor(A){super(A),this.luminances=oe.EMPTY,this.buckets=new Int32Array(oe.LUMINANCE_BUCKETS)}getBlackRow(A,i){const o=this.getLuminanceSource(),l=o.getWidth();i==null||i.getSize()<l?i=new k(l):i.clear(),this.initArrays(l);const u=o.getRow(A,this.luminances),d=this.buckets;for(let m=0;m<l;m++)d[(u[m]&255)>>oe.LUMINANCE_SHIFT]++;const p=oe.estimateBlackPoint(d);if(l<3)for(let m=0;m<l;m++)(u[m]&255)<p&&i.set(m);else{let m=u[0]&255,y=u[1]&255;for(let C=1;C<l-1;C++){const N=u[C+1]&255;(y*4-m-N)/2<p&&i.set(C),m=y,y=N}}return i}getBlackMatrix(){const A=this.getLuminanceSource(),i=A.getWidth(),o=A.getHeight(),l=new Te(i,o);this.initArrays(i);const u=this.buckets;for(let m=1;m<5;m++){const y=Math.floor(o*m/5),C=A.getRow(y,this.luminances),N=Math.floor(i*4/5);for(let _=Math.floor(i/5);_<N;_++){const O=C[_]&255;u[O>>oe.LUMINANCE_SHIFT]++}}const d=oe.estimateBlackPoint(u),p=A.getMatrix();for(let m=0;m<o;m++){const y=m*i;for(let C=0;C<i;C++)(p[y+C]&255)<d&&l.set(C,m)}return l}createBinarizer(A){return new oe(A)}initArrays(A){this.luminances.length<A&&(this.luminances=new Uint8ClampedArray(A));const i=this.buckets;for(let o=0;o<oe.LUMINANCE_BUCKETS;o++)i[o]=0}static estimateBlackPoint(A){const i=A.length;let o=0,l=0,u=0;for(let C=0;C<i;C++)A[C]>u&&(l=C,u=A[C]),A[C]>o&&(o=A[C]);let d=0,p=0;for(let C=0;C<i;C++){const N=C-l,_=A[C]*N*N;_>p&&(d=C,p=_)}if(l>d){const C=l;l=d,d=C}if(d-l<=i/16)throw new D;let m=d-1,y=-1;for(let C=d-1;C>l;C--){const N=C-l,_=N*N*(d-C)*(o-A[C]);_>y&&(m=C,y=_)}return m<<oe.LUMINANCE_SHIFT}}oe.LUMINANCE_BITS=5,oe.LUMINANCE_SHIFT=8-oe.LUMINANCE_BITS,oe.LUMINANCE_BUCKETS=1<<oe.LUMINANCE_BITS,oe.EMPTY=Uint8ClampedArray.from([0]);class ge extends oe{constructor(A){super(A),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const A=this.getLuminanceSource(),i=A.getWidth(),o=A.getHeight();if(i>=ge.MINIMUM_DIMENSION&&o>=ge.MINIMUM_DIMENSION){const l=A.getMatrix();let u=i>>ge.BLOCK_SIZE_POWER;i&ge.BLOCK_SIZE_MASK&&u++;let d=o>>ge.BLOCK_SIZE_POWER;o&ge.BLOCK_SIZE_MASK&&d++;const p=ge.calculateBlackPoints(l,u,d,i,o),m=new Te(i,o);ge.calculateThresholdForBlock(l,u,d,i,o,p,m),this.matrix=m}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(A){return new ge(A)}static calculateThresholdForBlock(A,i,o,l,u,d,p){const m=u-ge.BLOCK_SIZE,y=l-ge.BLOCK_SIZE;for(let C=0;C<o;C++){let N=C<<ge.BLOCK_SIZE_POWER;N>m&&(N=m);const _=ge.cap(C,2,o-3);for(let O=0;O<i;O++){let P=O<<ge.BLOCK_SIZE_POWER;P>y&&(P=y);const K=ge.cap(O,2,i-3);let Y=0;for(let de=-2;de<=2;de++){const he=d[_+de];Y+=he[K-2]+he[K-1]+he[K]+he[K+1]+he[K+2]}const $=Y/25;ge.thresholdBlock(A,P,N,$,l,p)}}}static cap(A,i,o){return A<i?i:A>o?o:A}static thresholdBlock(A,i,o,l,u,d){for(let p=0,m=o*u+i;p<ge.BLOCK_SIZE;p++,m+=u)for(let y=0;y<ge.BLOCK_SIZE;y++)(A[m+y]&255)<=l&&d.set(i+y,o+p)}static calculateBlackPoints(A,i,o,l,u){const d=u-ge.BLOCK_SIZE,p=l-ge.BLOCK_SIZE,m=new Array(o);for(let y=0;y<o;y++){m[y]=new Int32Array(i);let C=y<<ge.BLOCK_SIZE_POWER;C>d&&(C=d);for(let N=0;N<i;N++){let _=N<<ge.BLOCK_SIZE_POWER;_>p&&(_=p);let O=0,P=255,K=0;for(let $=0,de=C*l+_;$<ge.BLOCK_SIZE;$++,de+=l){for(let he=0;he<ge.BLOCK_SIZE;he++){const ae=A[de+he]&255;O+=ae,ae<P&&(P=ae),ae>K&&(K=ae)}if(K-P>ge.MIN_DYNAMIC_RANGE)for($++,de+=l;$<ge.BLOCK_SIZE;$++,de+=l)for(let he=0;he<ge.BLOCK_SIZE;he++)O+=A[de+he]&255}let Y=O>>ge.BLOCK_SIZE_POWER*2;if(K-P<=ge.MIN_DYNAMIC_RANGE&&(Y=P/2,y>0&&N>0)){const $=(m[y-1][N]+2*m[y][N-1]+m[y-1][N-1])/4;P<$&&(Y=$)}m[y][N]=Y}}return m}}ge.BLOCK_SIZE_POWER=3,ge.BLOCK_SIZE=1<<ge.BLOCK_SIZE_POWER,ge.BLOCK_SIZE_MASK=ge.BLOCK_SIZE-1,ge.MINIMUM_DIMENSION=ge.BLOCK_SIZE*5,ge.MIN_DYNAMIC_RANGE=24;class Ae{constructor(A,i){this.width=A,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(A,i,o,l){throw new ce("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ce("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ce("This luminance source does not support rotation by 45 degrees.")}toString(){const A=new Uint8ClampedArray(this.width);let i=new me;for(let o=0;o<this.height;o++){const l=this.getRow(o,A);for(let u=0;u<this.width;u++){const d=l[u]&255;let p;d<64?p="#":d<128?p="+":d<192?p=".":p=" ",i.append(p)}i.append(`
`)}return i.toString()}}class xe extends Ae{constructor(A){super(A.getWidth(),A.getHeight()),this.delegate=A}getRow(A,i){const o=this.delegate.getRow(A,i),l=this.getWidth();for(let u=0;u<l;u++)o[u]=255-(o[u]&255);return o}getMatrix(){const A=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),o=new Uint8ClampedArray(i);for(let l=0;l<i;l++)o[l]=255-(A[l]&255);return o}isCropSupported(){return this.delegate.isCropSupported()}crop(A,i,o,l){return new xe(this.delegate.crop(A,i,o,l))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new xe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new xe(this.delegate.rotateCounterClockwise45())}}class pe extends Ae{constructor(A){super(A.width,A.height),this.canvas=A,this.tempCanvasElement=null,this.buffer=pe.makeBufferFromCanvasImageData(A)}static makeBufferFromCanvasImageData(A){const i=A.getContext("2d").getImageData(0,0,A.width,A.height);return pe.toGrayscaleBuffer(i.data,A.width,A.height)}static toGrayscaleBuffer(A,i,o){const l=new Uint8ClampedArray(i*o);for(let u=0,d=0,p=A.length;u<p;u+=4,d++){let m;if(A[u+3]===0)m=255;else{const C=A[u],N=A[u+1],_=A[u+2];m=306*C+601*N+117*_+512>>10}l[d]=m}return l}getRow(A,i){if(A<0||A>=this.getHeight())throw new x("Requested row is outside the image: "+A);const o=this.getWidth(),l=A*o;return i===null?i=this.buffer.slice(l,l+o):(i.length<o&&(i=new Uint8ClampedArray(o)),i.set(this.buffer.slice(l,l+o))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(A,i,o,l){return super.crop(A,i,o,l),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const A=this.canvas.ownerDocument.createElement("canvas");A.width=this.canvas.width,A.height=this.canvas.height,this.tempCanvasElement=A}return this.tempCanvasElement}rotate(A){const i=this.getTempCanvasElement(),o=i.getContext("2d"),l=A*pe.DEGREE_TO_RADIANS,u=this.canvas.width,d=this.canvas.height,p=Math.ceil(Math.abs(Math.cos(l))*u+Math.abs(Math.sin(l))*d),m=Math.ceil(Math.abs(Math.sin(l))*u+Math.abs(Math.cos(l))*d);return i.width=p,i.height=m,o.translate(p/2,m/2),o.rotate(l),o.drawImage(this.canvas,u/-2,d/-2),this.buffer=pe.makeBufferFromCanvasImageData(i),this}invert(){return new xe(this)}}pe.DEGREE_TO_RADIANS=Math.PI/180;class Me{constructor(A,i,o){this.deviceId=A,this.label=i,this.kind="videoinput",this.groupId=o||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ie=(globalThis||va||self||window||void 0)&&(globalThis||va||self||window||void 0).__awaiter||function(F,A,i,o){function l(u){return u instanceof i?u:new i(function(d){d(u)})}return new(i||(i=Promise))(function(u,d){function p(C){try{y(o.next(C))}catch(N){d(N)}}function m(C){try{y(o.throw(C))}catch(N){d(N)}}function y(C){C.done?u(C.value):l(C.value).then(p,m)}y((o=o.apply(F,A||[])).next())})};class J{constructor(A,i=500,o){this.reader=A,this.timeBetweenScansMillis=i,this._hints=o,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(A){this._timeBetweenDecodingAttempts=A<0?0:A}set hints(A){this._hints=A||null}get hints(){return this._hints}listVideoInputDevices(){return ie(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const A=yield navigator.mediaDevices.enumerateDevices(),i=[];for(const o of A){const l=o.kind==="video"?"videoinput":o.kind;if(l!=="videoinput")continue;const u=o.deviceId||o.id,d=o.label||`Video device ${i.length+1}`,p=o.groupId,m={deviceId:u,label:d,kind:l,groupId:p};i.push(m)}return i})}getVideoInputDevices(){return ie(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new Me(i.deviceId,i.label))})}findDeviceById(A){return ie(this,void 0,void 0,function*(){const i=yield this.listVideoInputDevices();return i?i.find(o=>o.deviceId===A):null})}decodeFromInputVideoDevice(A,i){return ie(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(A,i)})}decodeOnceFromVideoDevice(A,i){return ie(this,void 0,void 0,function*(){this.reset();let o;A?o={deviceId:{exact:A}}:o={facingMode:"environment"};const l={video:o};return yield this.decodeOnceFromConstraints(l,i)})}decodeOnceFromConstraints(A,i){return ie(this,void 0,void 0,function*(){const o=yield navigator.mediaDevices.getUserMedia(A);return yield this.decodeOnceFromStream(o,i)})}decodeOnceFromStream(A,i){return ie(this,void 0,void 0,function*(){this.reset();const o=yield this.attachStreamToVideo(A,i);return yield this.decodeOnce(o)})}decodeFromInputVideoDeviceContinuously(A,i,o){return ie(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(A,i,o)})}decodeFromVideoDevice(A,i,o){return ie(this,void 0,void 0,function*(){let l;A?l={deviceId:{exact:A}}:l={facingMode:"environment"};const u={video:l};return yield this.decodeFromConstraints(u,i,o)})}decodeFromConstraints(A,i,o){return ie(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(A);return yield this.decodeFromStream(l,i,o)})}decodeFromStream(A,i,o){return ie(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(A,i);return yield this.decodeContinuously(l,o)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(A,i){return ie(this,void 0,void 0,function*(){const o=this.prepareVideoElement(i);return this.addVideoSource(o,A),this.videoElement=o,this.stream=A,yield this.playVideoOnLoadAsync(o),o})}playVideoOnLoadAsync(A){return new Promise((i,o)=>this.playVideoOnLoad(A,()=>i()))}playVideoOnLoad(A,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(A),A.addEventListener("ended",this.videoEndedListener),A.addEventListener("canplay",this.videoCanPlayListener),A.addEventListener("playing",i),this.tryPlayVideo(A)}isVideoPlaying(A){return A.currentTime>0&&!A.paused&&!A.ended&&A.readyState>2}tryPlayVideo(A){return ie(this,void 0,void 0,function*(){if(this.isVideoPlaying(A)){console.warn("Trying to play video that is already playing.");return}try{yield A.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(A,i){const o=document.getElementById(A);if(!o)throw new B(`element with id '${A}' not found`);if(o.nodeName.toLowerCase()!==i.toLowerCase())throw new B(`element with id '${A}' must be an ${i} element`);return o}decodeFromImage(A,i){if(!A&&!i)throw new B("either imageElement with a src set or an url must be provided");return i&&!A?this.decodeFromImageUrl(i):this.decodeFromImageElement(A)}decodeFromVideo(A,i){if(!A&&!i)throw new B("Either an element with a src set or an URL must be provided");return i&&!A?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(A)}decodeFromVideoContinuously(A,i,o){if(A===void 0&&i===void 0)throw new B("Either an element with a src set or an URL must be provided");return i&&!A?this.decodeFromVideoUrlContinuously(i,o):this.decodeFromVideoElementContinuously(A,o)}decodeFromImageElement(A){if(!A)throw new B("An image element must be provided.");this.reset();const i=this.prepareImageElement(A);this.imageElement=i;let o;return this.isImageLoaded(i)?o=this.decodeOnce(i,!1,!0):o=this._decodeOnLoadImage(i),o}decodeFromVideoElement(A){const i=this._decodeFromVideoElementSetup(A);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(A,i){const o=this._decodeFromVideoElementSetup(A);return this._decodeOnLoadVideoContinuously(o,i)}_decodeFromVideoElementSetup(A){if(!A)throw new B("A video element must be provided.");this.reset();const i=this.prepareVideoElement(A);return this.videoElement=i,i}decodeFromImageUrl(A){if(!A)throw new B("An URL must be provided.");this.reset();const i=this.prepareImageElement();this.imageElement=i;const o=this._decodeOnLoadImage(i);return i.src=A,o}decodeFromVideoUrl(A){if(!A)throw new B("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),o=this.decodeFromVideoElement(i);return i.src=A,o}decodeFromVideoUrlContinuously(A,i){if(!A)throw new B("An URL must be provided.");this.reset();const o=this.prepareVideoElement(),l=this.decodeFromVideoElementContinuously(o,i);return o.src=A,l}_decodeOnLoadImage(A){return new Promise((i,o)=>{this.imageLoadedListener=()=>this.decodeOnce(A,!1,!0).then(i,o),A.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(A){return ie(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(A),yield this.decodeOnce(A)})}_decodeOnLoadVideoContinuously(A,i){return ie(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(A),this.decodeContinuously(A,i)})}isImageLoaded(A){return!(!A.complete||A.naturalWidth===0)}prepareImageElement(A){let i;return typeof A>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof A=="string"&&(i=this.getMediaElement(A,"img")),A instanceof HTMLImageElement&&(i=A),i}prepareVideoElement(A){let i;return!A&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof A=="string"&&(i=this.getMediaElement(A,"video")),A instanceof HTMLVideoElement&&(i=A),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(A,i=!0,o=!0){this._stopAsyncDecode=!1;const l=(u,d)=>{if(this._stopAsyncDecode){d(new D("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const p=this.decode(A);u(p)}catch(p){const m=i&&p instanceof D,C=(p instanceof E||p instanceof L)&&o;if(m||C)return setTimeout(l,this._timeBetweenDecodingAttempts,u,d);d(p)}};return new Promise((u,d)=>l(u,d))}decodeContinuously(A,i){this._stopContinuousDecode=!1;const o=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const l=this.decode(A);i(l,null),setTimeout(o,this.timeBetweenScansMillis)}catch(l){i(null,l);const u=l instanceof E||l instanceof L,d=l instanceof D;(u||d)&&setTimeout(o,this._timeBetweenDecodingAttempts)}};o()}decode(A){const i=this.createBinaryBitmap(A);return this.decodeBitmap(i)}_isHTMLVideoElement(A){return A.videoWidth!==0}drawFrameOnCanvas(A,i,o){i||(i={sx:0,sy:0,sWidth:A.videoWidth,sHeight:A.videoHeight,dx:0,dy:0,dWidth:A.videoWidth,dHeight:A.videoHeight}),o||(o=this.captureCanvasContext),o.drawImage(A,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(A,i,o=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:A.naturalWidth,sHeight:A.naturalHeight,dx:0,dy:0,dWidth:A.naturalWidth,dHeight:A.naturalHeight}),o||(o=this.captureCanvasContext),o.drawImage(A,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(A){this.getCaptureCanvasContext(A),this._isHTMLVideoElement(A)?this.drawFrameOnCanvas(A):this.drawImageOnCanvas(A);const i=this.getCaptureCanvas(A),o=new pe(i),l=new ge(o);return new v(l)}getCaptureCanvasContext(A){if(!this.captureCanvasContext){const o=this.getCaptureCanvas(A).getContext("2d");this.captureCanvasContext=o}return this.captureCanvasContext}getCaptureCanvas(A){if(!this.captureCanvas){const i=this.createCaptureCanvas(A);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(A){return this.reader.decode(A,this._hints)}createCaptureCanvas(A){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const i=document.createElement("canvas");let o,l;return typeof A<"u"&&(A instanceof HTMLVideoElement?(o=A.videoWidth,l=A.videoHeight):A instanceof HTMLImageElement&&(o=A.naturalWidth||A.width,l=A.naturalHeight||A.height)),i.style.width=o+"px",i.style.height=l+"px",i.width=o,i.height=l,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(A=>A.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(A,i){try{A.srcObject=i}catch{A.src=URL.createObjectURL(i)}}cleanVideoSource(A){try{A.srcObject=null}catch{A.src=""}this.videoElement.removeAttribute("src")}}class ne{constructor(A,i,o=i==null?0:8*i.length,l,u,d=S.currentTimeMillis()){this.text=A,this.rawBytes=i,this.numBits=o,this.resultPoints=l,this.format=u,this.timestamp=d,this.text=A,this.rawBytes=i,o==null?this.numBits=i==null?0:8*i.length:this.numBits=o,this.resultPoints=l,this.format=u,this.resultMetadata=null,d==null?this.timestamp=S.currentTimeMillis():this.timestamp=d}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(A,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(A,i)}putAllMetadata(A){A!==null&&(this.resultMetadata===null?this.resultMetadata=A:this.resultMetadata=new Map(A))}addResultPoints(A){const i=this.resultPoints;if(i===null)this.resultPoints=A;else if(A!==null&&A.length>0){const o=new Array(i.length+A.length);S.arraycopy(i,0,o,0,i.length),S.arraycopy(A,0,o,i.length,A.length),this.resultPoints=o}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ie;(function(F){F[F.AZTEC=0]="AZTEC",F[F.CODABAR=1]="CODABAR",F[F.CODE_39=2]="CODE_39",F[F.CODE_93=3]="CODE_93",F[F.CODE_128=4]="CODE_128",F[F.DATA_MATRIX=5]="DATA_MATRIX",F[F.EAN_8=6]="EAN_8",F[F.EAN_13=7]="EAN_13",F[F.ITF=8]="ITF",F[F.MAXICODE=9]="MAXICODE",F[F.PDF_417=10]="PDF_417",F[F.QR_CODE=11]="QR_CODE",F[F.RSS_14=12]="RSS_14",F[F.RSS_EXPANDED=13]="RSS_EXPANDED",F[F.UPC_A=14]="UPC_A",F[F.UPC_E=15]="UPC_E",F[F.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ie||(Ie={}));var j=Ie,V;(function(F){F[F.OTHER=0]="OTHER",F[F.ORIENTATION=1]="ORIENTATION",F[F.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",F[F.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",F[F.ISSUE_NUMBER=4]="ISSUE_NUMBER",F[F.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",F[F.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",F[F.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",F[F.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",F[F.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",F[F.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(V||(V={}));var W=V;class te{constructor(A,i,o,l,u=-1,d=-1){this.rawBytes=A,this.text=i,this.byteSegments=o,this.ecLevel=l,this.structuredAppendSequenceNumber=u,this.structuredAppendParity=d,this.numBits=A==null?0:8*A.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(A){this.numBits=A}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(A){this.errorsCorrected=A}getErasures(){return this.erasures}setErasures(A){this.erasures=A}getOther(){return this.other}setOther(A){this.other=A}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class ee{exp(A){return this.expTable[A]}log(A){if(A===0)throw new x;return this.logTable[A]}static addOrSubtract(A,i){return A^i}}class le{constructor(A,i){if(i.length===0)throw new x;this.field=A;const o=i.length;if(o>1&&i[0]===0){let l=1;for(;l<o&&i[l]===0;)l++;l===o?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(o-l),S.arraycopy(i,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(A){return this.coefficients[this.coefficients.length-1-A]}evaluateAt(A){if(A===0)return this.getCoefficient(0);const i=this.coefficients;let o;if(A===1){o=0;for(let d=0,p=i.length;d!==p;d++){const m=i[d];o=ee.addOrSubtract(o,m)}return o}o=i[0];const l=i.length,u=this.field;for(let d=1;d<l;d++)o=ee.addOrSubtract(u.multiply(A,o),i[d]);return o}addOrSubtract(A){if(!this.field.equals(A.field))throw new x("GenericGFPolys do not have same GenericGF field");if(this.isZero())return A;if(A.isZero())return this;let i=this.coefficients,o=A.coefficients;if(i.length>o.length){const d=i;i=o,o=d}let l=new Int32Array(o.length);const u=o.length-i.length;S.arraycopy(o,0,l,0,u);for(let d=u;d<o.length;d++)l[d]=ee.addOrSubtract(i[d-u],o[d]);return new le(this.field,l)}multiply(A){if(!this.field.equals(A.field))throw new x("GenericGFPolys do not have same GenericGF field");if(this.isZero()||A.isZero())return this.field.getZero();const i=this.coefficients,o=i.length,l=A.coefficients,u=l.length,d=new Int32Array(o+u-1),p=this.field;for(let m=0;m<o;m++){const y=i[m];for(let C=0;C<u;C++)d[m+C]=ee.addOrSubtract(d[m+C],p.multiply(y,l[C]))}return new le(p,d)}multiplyScalar(A){if(A===0)return this.field.getZero();if(A===1)return this;const i=this.coefficients.length,o=this.field,l=new Int32Array(i),u=this.coefficients;for(let d=0;d<i;d++)l[d]=o.multiply(u[d],A);return new le(o,l)}multiplyByMonomial(A,i){if(A<0)throw new x;if(i===0)return this.field.getZero();const o=this.coefficients,l=o.length,u=new Int32Array(l+A),d=this.field;for(let p=0;p<l;p++)u[p]=d.multiply(o[p],i);return new le(d,u)}divide(A){if(!this.field.equals(A.field))throw new x("GenericGFPolys do not have same GenericGF field");if(A.isZero())throw new x("Divide by 0");const i=this.field;let o=i.getZero(),l=this;const u=A.getCoefficient(A.getDegree()),d=i.inverse(u);for(;l.getDegree()>=A.getDegree()&&!l.isZero();){const p=l.getDegree()-A.getDegree(),m=i.multiply(l.getCoefficient(l.getDegree()),d),y=A.multiplyByMonomial(p,m),C=i.buildMonomial(p,m);o=o.addOrSubtract(C),l=l.addOrSubtract(y)}return[o,l]}toString(){let A="";for(let i=this.getDegree();i>=0;i--){let o=this.getCoefficient(i);if(o!==0){if(o<0?(A+=" - ",o=-o):A.length>0&&(A+=" + "),i===0||o!==1){const l=this.field.log(o);l===0?A+="1":l===1?A+="a":(A+="a^",A+=l)}i!==0&&(i===1?A+="x":(A+="x^",A+=i))}}return A}}class Le extends w{}Le.kind="ArithmeticException";class we extends ee{constructor(A,i,o){super(),this.primitive=A,this.size=i,this.generatorBase=o;const l=new Int32Array(i);let u=1;for(let p=0;p<i;p++)l[p]=u,u*=2,u>=i&&(u^=A,u&=i-1);this.expTable=l;const d=new Int32Array(i);for(let p=0;p<i-1;p++)d[l[p]]=p;this.logTable=d,this.zero=new le(this,Int32Array.from([0])),this.one=new le(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(A,i){if(A<0)throw new x;if(i===0)return this.zero;const o=new Int32Array(A+1);return o[0]=i,new le(this,o)}inverse(A){if(A===0)throw new Le;return this.expTable[this.size-this.logTable[A]-1]}multiply(A,i){return A===0||i===0?0:this.expTable[(this.logTable[A]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+U.toHexString(this.primitive)+","+this.size+")"}equals(A){return A===this}}we.AZTEC_DATA_12=new we(4201,4096,1),we.AZTEC_DATA_10=new we(1033,1024,1),we.AZTEC_DATA_6=new we(67,64,1),we.AZTEC_PARAM=new we(19,16,1),we.QR_CODE_FIELD_256=new we(285,256,0),we.DATA_MATRIX_FIELD_256=new we(301,256,1),we.AZTEC_DATA_8=we.DATA_MATRIX_FIELD_256,we.MAXICODE_FIELD_64=we.AZTEC_DATA_6;class Ze extends w{}Ze.kind="ReedSolomonException";class et extends w{}et.kind="IllegalStateException";class Xt{constructor(A){this.field=A}decode(A,i){const o=this.field,l=new le(o,A),u=new Int32Array(i);let d=!0;for(let O=0;O<i;O++){const P=l.evaluateAt(o.exp(O+o.getGeneratorBase()));u[u.length-1-O]=P,P!==0&&(d=!1)}if(d)return;const p=new le(o,u),m=this.runEuclideanAlgorithm(o.buildMonomial(i,1),p,i),y=m[0],C=m[1],N=this.findErrorLocations(y),_=this.findErrorMagnitudes(C,N);for(let O=0;O<N.length;O++){const P=A.length-1-o.log(N[O]);if(P<0)throw new Ze("Bad error location");A[P]=we.addOrSubtract(A[P],_[O])}}runEuclideanAlgorithm(A,i,o){if(A.getDegree()<i.getDegree()){const O=A;A=i,i=O}const l=this.field;let u=A,d=i,p=l.getZero(),m=l.getOne();for(;d.getDegree()>=(o/2|0);){let O=u,P=p;if(u=d,p=m,u.isZero())throw new Ze("r_{i-1} was zero");d=O;let K=l.getZero();const Y=u.getCoefficient(u.getDegree()),$=l.inverse(Y);for(;d.getDegree()>=u.getDegree()&&!d.isZero();){const de=d.getDegree()-u.getDegree(),he=l.multiply(d.getCoefficient(d.getDegree()),$);K=K.addOrSubtract(l.buildMonomial(de,he)),d=d.addOrSubtract(u.multiplyByMonomial(de,he))}if(m=K.multiply(p).addOrSubtract(P),d.getDegree()>=u.getDegree())throw new et("Division algorithm failed to reduce polynomial?")}const y=m.getCoefficient(0);if(y===0)throw new Ze("sigmaTilde(0) was zero");const C=l.inverse(y),N=m.multiplyScalar(C),_=d.multiplyScalar(C);return[N,_]}findErrorLocations(A){const i=A.getDegree();if(i===1)return Int32Array.from([A.getCoefficient(1)]);const o=new Int32Array(i);let l=0;const u=this.field;for(let d=1;d<u.getSize()&&l<i;d++)A.evaluateAt(d)===0&&(o[l]=u.inverse(d),l++);if(l!==i)throw new Ze("Error locator degree does not match number of roots");return o}findErrorMagnitudes(A,i){const o=i.length,l=new Int32Array(o),u=this.field;for(let d=0;d<o;d++){const p=u.inverse(i[d]);let m=1;for(let y=0;y<o;y++)if(d!==y){const C=u.multiply(i[y],p),N=C&1?C&-2:C|1;m=u.multiply(m,N)}l[d]=u.multiply(A.evaluateAt(p),u.inverse(m)),u.getGeneratorBase()!==0&&(l[d]=u.multiply(l[d],p))}return l}}var mt;(function(F){F[F.UPPER=0]="UPPER",F[F.LOWER=1]="LOWER",F[F.MIXED=2]="MIXED",F[F.DIGIT=3]="DIGIT",F[F.PUNCT=4]="PUNCT",F[F.BINARY=5]="BINARY"})(mt||(mt={}));class ve{decode(A){this.ddata=A;let i=A.getBits(),o=this.extractBits(i),l=this.correctBits(o),u=ve.convertBoolArrayToByteArray(l),d=ve.getEncodedData(l),p=new te(u,d,null,null);return p.setNumBits(l.length),p}static highLevelDecode(A){return this.getEncodedData(A)}static getEncodedData(A){let i=A.length,o=mt.UPPER,l=mt.UPPER,u="",d=0;for(;d<i;)if(l===mt.BINARY){if(i-d<5)break;let p=ve.readCode(A,d,5);if(d+=5,p===0){if(i-d<11)break;p=ve.readCode(A,d,11)+31,d+=11}for(let m=0;m<p;m++){if(i-d<8){d=i;break}const y=ve.readCode(A,d,8);u+=fe.castAsNonUtf8Char(y),d+=8}l=o}else{let p=l===mt.DIGIT?4:5;if(i-d<p)break;let m=ve.readCode(A,d,p);d+=p;let y=ve.getCharacter(l,m);y.startsWith("CTRL_")?(o=l,l=ve.getTable(y.charAt(5)),y.charAt(6)==="L"&&(o=l)):(u+=y,l=o)}return u}static getTable(A){switch(A){case"L":return mt.LOWER;case"P":return mt.PUNCT;case"M":return mt.MIXED;case"D":return mt.DIGIT;case"B":return mt.BINARY;case"U":default:return mt.UPPER}}static getCharacter(A,i){switch(A){case mt.UPPER:return ve.UPPER_TABLE[i];case mt.LOWER:return ve.LOWER_TABLE[i];case mt.MIXED:return ve.MIXED_TABLE[i];case mt.PUNCT:return ve.PUNCT_TABLE[i];case mt.DIGIT:return ve.DIGIT_TABLE[i];default:throw new et("Bad table")}}correctBits(A){let i,o;this.ddata.getNbLayers()<=2?(o=6,i=we.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(o=8,i=we.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(o=10,i=we.AZTEC_DATA_10):(o=12,i=we.AZTEC_DATA_12);let l=this.ddata.getNbDatablocks(),u=A.length/o;if(u<l)throw new L;let d=A.length%o,p=new Int32Array(u);for(let _=0;_<u;_++,d+=o)p[_]=ve.readCode(A,d,o);try{new Xt(i).decode(p,u-l)}catch(_){throw new L(_)}let m=(1<<o)-1,y=0;for(let _=0;_<l;_++){let O=p[_];if(O===0||O===m)throw new L;(O===1||O===m-1)&&y++}let C=new Array(l*o-y),N=0;for(let _=0;_<l;_++){let O=p[_];if(O===1||O===m-1)C.fill(O>1,N,N+o-1),N+=o-1;else for(let P=o-1;P>=0;--P)C[N++]=(O&1<<P)!==0}return C}extractBits(A){let i=this.ddata.isCompact(),o=this.ddata.getNbLayers(),l=(i?11:14)+o*4,u=new Int32Array(l),d=new Array(this.totalBitsInLayer(o,i));if(i)for(let p=0;p<u.length;p++)u[p]=p;else{let p=l+1+2*U.truncDivision(U.truncDivision(l,2)-1,15),m=l/2,y=U.truncDivision(p,2);for(let C=0;C<m;C++){let N=C+U.truncDivision(C,15);u[m-C-1]=y-N-1,u[m+C]=y+N+1}}for(let p=0,m=0;p<o;p++){let y=(o-p)*4+(i?9:12),C=p*2,N=l-1-C;for(let _=0;_<y;_++){let O=_*2;for(let P=0;P<2;P++)d[m+O+P]=A.get(u[C+P],u[C+_]),d[m+2*y+O+P]=A.get(u[C+_],u[N-P]),d[m+4*y+O+P]=A.get(u[N-P],u[N-_]),d[m+6*y+O+P]=A.get(u[N-_],u[C+P])}m+=y*8}return d}static readCode(A,i,o){let l=0;for(let u=i;u<i+o;u++)l<<=1,A[u]&&(l|=1);return l}static readByte(A,i){let o=A.length-i;return o>=8?ve.readCode(A,i,8):ve.readCode(A,i,o)<<8-o}static convertBoolArrayToByteArray(A){let i=new Uint8Array((A.length+7)/8);for(let o=0;o<i.length;o++)i[o]=ve.readByte(A,8*o);return i}totalBitsInLayer(A,i){return((i?88:112)+16*A)*A}}ve.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ve.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ve.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ve.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ve.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class ze{constructor(){}static round(A){return A===NaN?0:A<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:A>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:A+(A<0?-.5:.5)|0}static distance(A,i,o,l){const u=A-o,d=i-l;return Math.sqrt(u*u+d*d)}static sum(A){let i=0;for(let o=0,l=A.length;o!==l;o++){const u=A[o];i+=u}return i}}class He{static floatToIntBits(A){return A}}He.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Be{constructor(A,i){this.x=A,this.y=i}getX(){return this.x}getY(){return this.y}equals(A){if(A instanceof Be){const i=A;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*He.floatToIntBits(this.x)+He.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(A){const i=this.distance(A[0],A[1]),o=this.distance(A[1],A[2]),l=this.distance(A[0],A[2]);let u,d,p;if(o>=i&&o>=l?(d=A[0],u=A[1],p=A[2]):l>=o&&l>=i?(d=A[1],u=A[0],p=A[2]):(d=A[2],u=A[0],p=A[1]),this.crossProductZ(u,d,p)<0){const m=u;u=p,p=m}A[0]=u,A[1]=d,A[2]=p}static distance(A,i){return ze.distance(A.x,A.y,i.x,i.y)}static crossProductZ(A,i,o){const l=i.x,u=i.y;return(o.x-l)*(A.y-u)-(o.y-u)*(A.x-l)}}class gs{constructor(A,i){this.bits=A,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class ha extends gs{constructor(A,i,o,l,u){super(A,i),this.compact=o,this.nbDatablocks=l,this.nbLayers=u}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class cn{constructor(A,i,o,l){this.image=A,this.height=A.getHeight(),this.width=A.getWidth(),i==null&&(i=cn.INIT_SIZE),o==null&&(o=A.getWidth()/2|0),l==null&&(l=A.getHeight()/2|0);const u=i/2|0;if(this.leftInit=o-u,this.rightInit=o+u,this.upInit=l-u,this.downInit=l+u,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new D}detect(){let A=this.leftInit,i=this.rightInit,o=this.upInit,l=this.downInit,u=!1,d=!0,p=!1,m=!1,y=!1,C=!1,N=!1;const _=this.width,O=this.height;for(;d;){d=!1;let P=!0;for(;(P||!m)&&i<_;)P=this.containsBlackPoint(o,l,i,!1),P?(i++,d=!0,m=!0):m||i++;if(i>=_){u=!0;break}let K=!0;for(;(K||!y)&&l<O;)K=this.containsBlackPoint(A,i,l,!0),K?(l++,d=!0,y=!0):y||l++;if(l>=O){u=!0;break}let Y=!0;for(;(Y||!C)&&A>=0;)Y=this.containsBlackPoint(o,l,A,!1),Y?(A--,d=!0,C=!0):C||A--;if(A<0){u=!0;break}let $=!0;for(;($||!N)&&o>=0;)$=this.containsBlackPoint(A,i,o,!0),$?(o--,d=!0,N=!0):N||o--;if(o<0){u=!0;break}d&&(p=!0)}if(!u&&p){const P=i-A;let K=null;for(let he=1;K===null&&he<P;he++)K=this.getBlackPointOnSegment(A,l-he,A+he,l);if(K==null)throw new D;let Y=null;for(let he=1;Y===null&&he<P;he++)Y=this.getBlackPointOnSegment(A,o+he,A+he,o);if(Y==null)throw new D;let $=null;for(let he=1;$===null&&he<P;he++)$=this.getBlackPointOnSegment(i,o+he,i-he,o);if($==null)throw new D;let de=null;for(let he=1;de===null&&he<P;he++)de=this.getBlackPointOnSegment(i,l-he,i-he,l);if(de==null)throw new D;return this.centerEdges(de,K,$,Y)}else throw new D}getBlackPointOnSegment(A,i,o,l){const u=ze.round(ze.distance(A,i,o,l)),d=(o-A)/u,p=(l-i)/u,m=this.image;for(let y=0;y<u;y++){const C=ze.round(A+y*d),N=ze.round(i+y*p);if(m.get(C,N))return new Be(C,N)}return null}centerEdges(A,i,o,l){const u=A.getX(),d=A.getY(),p=i.getX(),m=i.getY(),y=o.getX(),C=o.getY(),N=l.getX(),_=l.getY(),O=cn.CORR;return u<this.width/2?[new Be(N-O,_+O),new Be(p+O,m+O),new Be(y-O,C-O),new Be(u+O,d-O)]:[new Be(N+O,_+O),new Be(p+O,m-O),new Be(y-O,C+O),new Be(u-O,d-O)]}containsBlackPoint(A,i,o,l){const u=this.image;if(l){for(let d=A;d<=i;d++)if(u.get(d,o))return!0}else for(let d=A;d<=i;d++)if(u.get(o,d))return!0;return!1}}cn.INIT_SIZE=10,cn.CORR=1;class re{static checkAndNudgePoints(A,i){const o=A.getWidth(),l=A.getHeight();let u=!0;for(let d=0;d<i.length&&u;d+=2){const p=Math.floor(i[d]),m=Math.floor(i[d+1]);if(p<-1||p>o||m<-1||m>l)throw new D;u=!1,p===-1?(i[d]=0,u=!0):p===o&&(i[d]=o-1,u=!0),m===-1?(i[d+1]=0,u=!0):m===l&&(i[d+1]=l-1,u=!0)}u=!0;for(let d=i.length-2;d>=0&&u;d-=2){const p=Math.floor(i[d]),m=Math.floor(i[d+1]);if(p<-1||p>o||m<-1||m>l)throw new D;u=!1,p===-1?(i[d]=0,u=!0):p===o&&(i[d]=o-1,u=!0),m===-1?(i[d+1]=0,u=!0):m===l&&(i[d+1]=l-1,u=!0)}}}class Pe{constructor(A,i,o,l,u,d,p,m,y){this.a11=A,this.a21=i,this.a31=o,this.a12=l,this.a22=u,this.a32=d,this.a13=p,this.a23=m,this.a33=y}static quadrilateralToQuadrilateral(A,i,o,l,u,d,p,m,y,C,N,_,O,P,K,Y){const $=Pe.quadrilateralToSquare(A,i,o,l,u,d,p,m);return Pe.squareToQuadrilateral(y,C,N,_,O,P,K,Y).times($)}transformPoints(A){const i=A.length,o=this.a11,l=this.a12,u=this.a13,d=this.a21,p=this.a22,m=this.a23,y=this.a31,C=this.a32,N=this.a33;for(let _=0;_<i;_+=2){const O=A[_],P=A[_+1],K=u*O+m*P+N;A[_]=(o*O+d*P+y)/K,A[_+1]=(l*O+p*P+C)/K}}transformPointsWithValues(A,i){const o=this.a11,l=this.a12,u=this.a13,d=this.a21,p=this.a22,m=this.a23,y=this.a31,C=this.a32,N=this.a33,_=A.length;for(let O=0;O<_;O++){const P=A[O],K=i[O],Y=u*P+m*K+N;A[O]=(o*P+d*K+y)/Y,i[O]=(l*P+p*K+C)/Y}}static squareToQuadrilateral(A,i,o,l,u,d,p,m){const y=A-o+u-p,C=i-l+d-m;if(y===0&&C===0)return new Pe(o-A,u-o,A,l-i,d-l,i,0,0,1);{const N=o-u,_=p-u,O=l-d,P=m-d,K=N*P-_*O,Y=(y*P-_*C)/K,$=(N*C-y*O)/K;return new Pe(o-A+Y*o,p-A+$*p,A,l-i+Y*l,m-i+$*m,i,Y,$,1)}}static quadrilateralToSquare(A,i,o,l,u,d,p,m){return Pe.squareToQuadrilateral(A,i,o,l,u,d,p,m).buildAdjoint()}buildAdjoint(){return new Pe(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(A){return new Pe(this.a11*A.a11+this.a21*A.a12+this.a31*A.a13,this.a11*A.a21+this.a21*A.a22+this.a31*A.a23,this.a11*A.a31+this.a21*A.a32+this.a31*A.a33,this.a12*A.a11+this.a22*A.a12+this.a32*A.a13,this.a12*A.a21+this.a22*A.a22+this.a32*A.a23,this.a12*A.a31+this.a22*A.a32+this.a32*A.a33,this.a13*A.a11+this.a23*A.a12+this.a33*A.a13,this.a13*A.a21+this.a23*A.a22+this.a33*A.a23,this.a13*A.a31+this.a23*A.a32+this.a33*A.a33)}}class Ht extends re{sampleGrid(A,i,o,l,u,d,p,m,y,C,N,_,O,P,K,Y,$,de,he){const ae=Pe.quadrilateralToQuadrilateral(l,u,d,p,m,y,C,N,_,O,P,K,Y,$,de,he);return this.sampleGridWithTransform(A,i,o,ae)}sampleGridWithTransform(A,i,o,l){if(i<=0||o<=0)throw new D;const u=new Te(i,o),d=new Float32Array(2*i);for(let p=0;p<o;p++){const m=d.length,y=p+.5;for(let C=0;C<m;C+=2)d[C]=C/2+.5,d[C+1]=y;l.transformPoints(d),re.checkAndNudgePoints(A,d);try{for(let C=0;C<m;C+=2)A.get(Math.floor(d[C]),Math.floor(d[C+1]))&&u.set(C/2,p)}catch{throw new D}}return u}}class xt{static setGridSampler(A){xt.gridSampler=A}static getInstance(){return xt.gridSampler}}xt.gridSampler=new Ht;class kt{constructor(A,i){this.x=A,this.y=i}toResultPoint(){return new Be(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Ys{constructor(A){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=A}detect(){return this.detectMirror(!1)}detectMirror(A){let i=this.getMatrixCenter(),o=this.getBullsEyeCorners(i);if(A){let d=o[0];o[0]=o[2],o[2]=d}this.extractParameters(o);let l=this.sampleGrid(this.image,o[this.shift%4],o[(this.shift+1)%4],o[(this.shift+2)%4],o[(this.shift+3)%4]),u=this.getMatrixCornerPoints(o);return new ha(l,u,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(A){if(!this.isValidPoint(A[0])||!this.isValidPoint(A[1])||!this.isValidPoint(A[2])||!this.isValidPoint(A[3]))throw new D;let i=2*this.nbCenterLayers,o=new Int32Array([this.sampleLine(A[0],A[1],i),this.sampleLine(A[1],A[2],i),this.sampleLine(A[2],A[3],i),this.sampleLine(A[3],A[0],i)]);this.shift=this.getRotation(o,i);let l=0;for(let d=0;d<4;d++){let p=o[(this.shift+d)%4];this.compact?(l<<=7,l+=p>>1&127):(l<<=10,l+=(p>>2&992)+(p>>1&31))}let u=this.getCorrectedParameterData(l,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)}getRotation(A,i){let o=0;A.forEach((l,u,d)=>{let p=(l>>i-2<<1)+(l&1);o=(o<<3)+p}),o=((o&1)<<11)+(o>>1);for(let l=0;l<4;l++)if(U.bitCount(o^this.EXPECTED_CORNER_BITS[l])<=2)return l;throw new D}getCorrectedParameterData(A,i){let o,l;i?(o=7,l=2):(o=10,l=4);let u=o-l,d=new Int32Array(o);for(let m=o-1;m>=0;--m)d[m]=A&15,A>>=4;try{new Xt(we.AZTEC_PARAM).decode(d,u)}catch{throw new D}let p=0;for(let m=0;m<l;m++)p=(p<<4)+d[m];return p}getBullsEyeCorners(A){let i=A,o=A,l=A,u=A,d=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let N=this.getFirstDifferent(i,d,1,-1),_=this.getFirstDifferent(o,d,1,1),O=this.getFirstDifferent(l,d,-1,1),P=this.getFirstDifferent(u,d,-1,-1);if(this.nbCenterLayers>2){let K=this.distancePoint(P,N)*this.nbCenterLayers/(this.distancePoint(u,i)*(this.nbCenterLayers+2));if(K<.75||K>1.25||!this.isWhiteOrBlackRectangle(N,_,O,P))break}i=N,o=_,l=O,u=P,d=!d}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new D;this.compact=this.nbCenterLayers===5;let p=new Be(i.getX()+.5,i.getY()-.5),m=new Be(o.getX()+.5,o.getY()+.5),y=new Be(l.getX()-.5,l.getY()+.5),C=new Be(u.getX()-.5,u.getY()-.5);return this.expandSquare([p,m,y,C],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let A,i,o,l;try{let p=new cn(this.image).detect();A=p[0],i=p[1],o=p[2],l=p[3]}catch{let m=this.image.getWidth()/2,y=this.image.getHeight()/2;A=this.getFirstDifferent(new kt(m+7,y-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new kt(m+7,y+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new kt(m-7,y+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new kt(m-7,y-7),!1,-1,-1).toResultPoint()}let u=ze.round((A.getX()+l.getX()+i.getX()+o.getX())/4),d=ze.round((A.getY()+l.getY()+i.getY()+o.getY())/4);try{let p=new cn(this.image,15,u,d).detect();A=p[0],i=p[1],o=p[2],l=p[3]}catch{A=this.getFirstDifferent(new kt(u+7,d-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new kt(u+7,d+7),!1,1,1).toResultPoint(),o=this.getFirstDifferent(new kt(u-7,d+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new kt(u-7,d-7),!1,-1,-1).toResultPoint()}return u=ze.round((A.getX()+l.getX()+i.getX()+o.getX())/4),d=ze.round((A.getY()+l.getY()+i.getY()+o.getY())/4),new kt(u,d)}getMatrixCornerPoints(A){return this.expandSquare(A,2*this.nbCenterLayers,this.getDimension())}sampleGrid(A,i,o,l,u){let d=xt.getInstance(),p=this.getDimension(),m=p/2-this.nbCenterLayers,y=p/2+this.nbCenterLayers;return d.sampleGrid(A,p,p,m,m,y,m,y,y,m,y,i.getX(),i.getY(),o.getX(),o.getY(),l.getX(),l.getY(),u.getX(),u.getY())}sampleLine(A,i,o){let l=0,u=this.distanceResultPoint(A,i),d=u/o,p=A.getX(),m=A.getY(),y=d*(i.getX()-A.getX())/u,C=d*(i.getY()-A.getY())/u;for(let N=0;N<o;N++)this.image.get(ze.round(p+N*y),ze.round(m+N*C))&&(l|=1<<o-N-1);return l}isWhiteOrBlackRectangle(A,i,o,l){let u=3;A=new kt(A.getX()-u,A.getY()+u),i=new kt(i.getX()-u,i.getY()-u),o=new kt(o.getX()+u,o.getY()-u),l=new kt(l.getX()+u,l.getY()+u);let d=this.getColor(l,A);if(d===0)return!1;let p=this.getColor(A,i);return p!==d||(p=this.getColor(i,o),p!==d)?!1:(p=this.getColor(o,l),p===d)}getColor(A,i){let o=this.distancePoint(A,i),l=(i.getX()-A.getX())/o,u=(i.getY()-A.getY())/o,d=0,p=A.getX(),m=A.getY(),y=this.image.get(A.getX(),A.getY()),C=Math.ceil(o);for(let _=0;_<C;_++)p+=l,m+=u,this.image.get(ze.round(p),ze.round(m))!==y&&d++;let N=d/o;return N>.1&&N<.9?0:N<=.1===y?1:-1}getFirstDifferent(A,i,o,l){let u=A.getX()+o,d=A.getY()+l;for(;this.isValid(u,d)&&this.image.get(u,d)===i;)u+=o,d+=l;for(u-=o,d-=l;this.isValid(u,d)&&this.image.get(u,d)===i;)u+=o;for(u-=o;this.isValid(u,d)&&this.image.get(u,d)===i;)d+=l;return d-=l,new kt(u,d)}expandSquare(A,i,o){let l=o/(2*i),u=A[0].getX()-A[2].getX(),d=A[0].getY()-A[2].getY(),p=(A[0].getX()+A[2].getX())/2,m=(A[0].getY()+A[2].getY())/2,y=new Be(p+l*u,m+l*d),C=new Be(p-l*u,m-l*d);u=A[1].getX()-A[3].getX(),d=A[1].getY()-A[3].getY(),p=(A[1].getX()+A[3].getX())/2,m=(A[1].getY()+A[3].getY())/2;let N=new Be(p+l*u,m+l*d),_=new Be(p-l*u,m-l*d);return[y,N,C,_]}isValid(A,i){return A>=0&&A<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(A){let i=ze.round(A.getX()),o=ze.round(A.getY());return this.isValid(i,o)}distancePoint(A,i){return ze.distance(A.getX(),A.getY(),i.getX(),i.getY())}distanceResultPoint(A,i){return ze.distance(A.getX(),A.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(U.truncDivision(this.nbLayers-4,8)+1)+15}}class Qr{decode(A,i=null){let o=null,l=new Ys(A.getBlackMatrix()),u=null,d=null;try{let C=l.detectMirror(!1);u=C.getPoints(),this.reportFoundResultPoints(i,u),d=new ve().decode(C)}catch(C){o=C}if(d==null)try{let C=l.detectMirror(!0);u=C.getPoints(),this.reportFoundResultPoints(i,u),d=new ve().decode(C)}catch(C){throw o??C}let p=new ne(d.getText(),d.getRawBytes(),d.getNumBits(),u,j.AZTEC,S.currentTimeMillis()),m=d.getByteSegments();m!=null&&p.putMetadata(W.BYTE_SEGMENTS,m);let y=d.getECLevel();return y!=null&&p.putMetadata(W.ERROR_CORRECTION_LEVEL,y),p}reportFoundResultPoints(A,i){if(A!=null){let o=A.get(M.NEED_RESULT_POINT_CALLBACK);o!=null&&i.forEach((l,u,d)=>{o.foundPossibleResultPoint(l)})}}reset(){}}class Xs extends J{constructor(A=500){super(new Qr,A)}}class It{decode(A,i){try{return this.doDecode(A,i)}catch{if(i&&i.get(M.TRY_HARDER)===!0&&A.isRotateSupported()){const u=A.rotateCounterClockwise(),d=this.doDecode(u,i),p=d.getResultMetadata();let m=270;p!==null&&p.get(W.ORIENTATION)===!0&&(m=m+p.get(W.ORIENTATION)%360),d.putMetadata(W.ORIENTATION,m);const y=d.getResultPoints();if(y!==null){const C=u.getHeight();for(let N=0;N<y.length;N++)y[N]=new Be(C-y[N].getY()-1,y[N].getX())}return d}else throw new D}}reset(){}doDecode(A,i){const o=A.getWidth(),l=A.getHeight();let u=new k(o);const d=i&&i.get(M.TRY_HARDER)===!0,p=Math.max(1,l>>(d?8:5));let m;d?m=l:m=15;const y=Math.trunc(l/2);for(let C=0;C<m;C++){const N=Math.trunc((C+1)/2),_=(C&1)===0,O=y+p*(_?N:-N);if(O<0||O>=l)break;try{u=A.getBlackRow(O,u)}catch{continue}for(let P=0;P<2;P++){if(P===1&&(u.reverse(),i&&i.get(M.NEED_RESULT_POINT_CALLBACK)===!0)){const K=new Map;i.forEach((Y,$)=>K.set($,Y)),K.delete(M.NEED_RESULT_POINT_CALLBACK),i=K}try{const K=this.decodeRow(O,u,i);if(P===1){K.putMetadata(W.ORIENTATION,180);const Y=K.getResultPoints();Y!==null&&(Y[0]=new Be(o-Y[0].getX()-1,Y[0].getY()),Y[1]=new Be(o-Y[1].getX()-1,Y[1].getY()))}return K}catch{}}}throw new D}static recordPattern(A,i,o){const l=o.length;for(let y=0;y<l;y++)o[y]=0;const u=A.getSize();if(i>=u)throw new D;let d=!A.get(i),p=0,m=i;for(;m<u;){if(A.get(m)!==d)o[p]++;else{if(++p===l)break;o[p]=1,d=!d}m++}if(!(p===l||p===l-1&&m===u))throw new D}static recordPatternInReverse(A,i,o){let l=o.length,u=A.get(i);for(;i>0&&l>=0;)A.get(--i)!==u&&(l--,u=!u);if(l>=0)throw new D;It.recordPattern(A,i+1,o)}static patternMatchVariance(A,i,o){const l=A.length;let u=0,d=0;for(let y=0;y<l;y++)u+=A[y],d+=i[y];if(u<d)return Number.POSITIVE_INFINITY;const p=u/d;o*=p;let m=0;for(let y=0;y<l;y++){const C=A[y],N=i[y]*p,_=C>N?C-N:N-C;if(_>o)return Number.POSITIVE_INFINITY;m+=_}return m/u}}class ye extends It{static findStartPattern(A){const i=A.getSize(),o=A.getNextSet(0);let l=0,u=Int32Array.from([0,0,0,0,0,0]),d=o,p=!1;const m=6;for(let y=o;y<i;y++)if(A.get(y)!==p)u[l]++;else{if(l===m-1){let C=ye.MAX_AVG_VARIANCE,N=-1;for(let _=ye.CODE_START_A;_<=ye.CODE_START_C;_++){const O=It.patternMatchVariance(u,ye.CODE_PATTERNS[_],ye.MAX_INDIVIDUAL_VARIANCE);O<C&&(C=O,N=_)}if(N>=0&&A.isRange(Math.max(0,d-(y-d)/2),d,!1))return Int32Array.from([d,y,N]);d+=u[0]+u[1],u=u.slice(2,u.length-1),u[l-1]=0,u[l]=0,l--}else l++;u[l]=1,p=!p}throw new D}static decodeCode(A,i,o){It.recordPattern(A,o,i);let l=ye.MAX_AVG_VARIANCE,u=-1;for(let d=0;d<ye.CODE_PATTERNS.length;d++){const p=ye.CODE_PATTERNS[d],m=this.patternMatchVariance(i,p,ye.MAX_INDIVIDUAL_VARIANCE);m<l&&(l=m,u=d)}if(u>=0)return u;throw new D}decodeRow(A,i,o){const l=o&&o.get(M.ASSUME_GS1)===!0,u=ye.findStartPattern(i),d=u[2];let p=0;const m=new Uint8Array(20);m[p++]=d;let y;switch(d){case ye.CODE_START_A:y=ye.CODE_CODE_A;break;case ye.CODE_START_B:y=ye.CODE_CODE_B;break;case ye.CODE_START_C:y=ye.CODE_CODE_C;break;default:throw new L}let C=!1,N=!1,_="",O=u[0],P=u[1];const K=Int32Array.from([0,0,0,0,0,0]);let Y=0,$=0,de=d,he=0,ae=!0,Ye=!1,Ke=!1;for(;!C;){const Ai=N;switch(N=!1,Y=$,$=ye.decodeCode(i,K,P),m[p++]=$,$!==ye.CODE_STOP&&(ae=!0),$!==ye.CODE_STOP&&(he++,de+=he*$),O=P,P+=K.reduce(($C,e2)=>$C+e2,0),$){case ye.CODE_START_A:case ye.CODE_START_B:case ye.CODE_START_C:throw new L}switch(y){case ye.CODE_CODE_A:if($<64)Ke===Ye?_+=String.fromCharCode(32+$):_+=String.fromCharCode(32+$+128),Ke=!1;else if($<96)Ke===Ye?_+=String.fromCharCode($-64):_+=String.fromCharCode($+64),Ke=!1;else switch($!==ye.CODE_STOP&&(ae=!1),$){case ye.CODE_FNC_1:l&&(_.length===0?_+="]C1":_+="");break;case ye.CODE_FNC_2:case ye.CODE_FNC_3:break;case ye.CODE_FNC_4_A:!Ye&&Ke?(Ye=!0,Ke=!1):Ye&&Ke?(Ye=!1,Ke=!1):Ke=!0;break;case ye.CODE_SHIFT:N=!0,y=ye.CODE_CODE_B;break;case ye.CODE_CODE_B:y=ye.CODE_CODE_B;break;case ye.CODE_CODE_C:y=ye.CODE_CODE_C;break;case ye.CODE_STOP:C=!0;break}break;case ye.CODE_CODE_B:if($<96)Ke===Ye?_+=String.fromCharCode(32+$):_+=String.fromCharCode(32+$+128),Ke=!1;else switch($!==ye.CODE_STOP&&(ae=!1),$){case ye.CODE_FNC_1:l&&(_.length===0?_+="]C1":_+="");break;case ye.CODE_FNC_2:case ye.CODE_FNC_3:break;case ye.CODE_FNC_4_B:!Ye&&Ke?(Ye=!0,Ke=!1):Ye&&Ke?(Ye=!1,Ke=!1):Ke=!0;break;case ye.CODE_SHIFT:N=!0,y=ye.CODE_CODE_A;break;case ye.CODE_CODE_A:y=ye.CODE_CODE_A;break;case ye.CODE_CODE_C:y=ye.CODE_CODE_C;break;case ye.CODE_STOP:C=!0;break}break;case ye.CODE_CODE_C:if($<100)$<10&&(_+="0"),_+=$;else switch($!==ye.CODE_STOP&&(ae=!1),$){case ye.CODE_FNC_1:l&&(_.length===0?_+="]C1":_+="");break;case ye.CODE_CODE_A:y=ye.CODE_CODE_A;break;case ye.CODE_CODE_B:y=ye.CODE_CODE_B;break;case ye.CODE_STOP:C=!0;break}break}Ai&&(y=y===ye.CODE_CODE_A?ye.CODE_CODE_B:ye.CODE_CODE_A)}const Mr=P-O;if(P=i.getNextUnset(P),!i.isRange(P,Math.min(i.getSize(),P+(P-O)/2),!1))throw new D;if(de-=he*Y,de%103!==Y)throw new E;const Sn=_.length;if(Sn===0)throw new D;Sn>0&&ae&&(y===ye.CODE_CODE_C?_=_.substring(0,Sn-2):_=_.substring(0,Sn-1));const Lr=(u[1]+u[0])/2,ht=O+Mr/2,cr=m.length,Wr=new Uint8Array(cr);for(let Ai=0;Ai<cr;Ai++)Wr[Ai]=m[Ai];const ni=[new Be(Lr,A),new Be(ht,A)];return new ne(_,Wr,0,ni,j.CODE_128,new Date().getTime())}}ye.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ye.MAX_AVG_VARIANCE=.25,ye.MAX_INDIVIDUAL_VARIANCE=.7,ye.CODE_SHIFT=98,ye.CODE_CODE_C=99,ye.CODE_CODE_B=100,ye.CODE_CODE_A=101,ye.CODE_FNC_1=102,ye.CODE_FNC_2=97,ye.CODE_FNC_3=96,ye.CODE_FNC_4_A=101,ye.CODE_FNC_4_B=100,ye.CODE_START_A=103,ye.CODE_START_B=104,ye.CODE_START_C=105,ye.CODE_STOP=106;class Jt extends It{constructor(A=!1,i=!1){super(),this.usingCheckDigit=A,this.extendedMode=i,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(A,i,o){let l=this.counters;l.fill(0),this.decodeRowResult="";let u=Jt.findAsteriskPattern(i,l),d=i.getNextSet(u[1]),p=i.getSize(),m,y;do{Jt.recordPattern(i,d,l);let K=Jt.toNarrowWidePattern(l);if(K<0)throw new D;m=Jt.patternToChar(K),this.decodeRowResult+=m,y=d;for(let Y of l)d+=Y;d=i.getNextSet(d)}while(m!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let C=0;for(let K of l)C+=K;let N=d-y-C;if(d!==p&&N*2<C)throw new D;if(this.usingCheckDigit){let K=this.decodeRowResult.length-1,Y=0;for(let $=0;$<K;$++)Y+=Jt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt($));if(this.decodeRowResult.charAt(K)!==Jt.ALPHABET_STRING.charAt(Y%43))throw new E;this.decodeRowResult=this.decodeRowResult.substring(0,K)}if(this.decodeRowResult.length===0)throw new D;let _;this.extendedMode?_=Jt.decodeExtended(this.decodeRowResult):_=this.decodeRowResult;let O=(u[1]+u[0])/2,P=y+C/2;return new ne(_,null,0,[new Be(O,A),new Be(P,A)],j.CODE_39,new Date().getTime())}static findAsteriskPattern(A,i){let o=A.getSize(),l=A.getNextSet(0),u=0,d=l,p=!1,m=i.length;for(let y=l;y<o;y++)if(A.get(y)!==p)i[u]++;else{if(u===m-1){if(this.toNarrowWidePattern(i)===Jt.ASTERISK_ENCODING&&A.isRange(Math.max(0,d-Math.floor((y-d)/2)),d,!1))return[d,y];d+=i[0]+i[1],i.copyWithin(0,2,2+u-1),i[u-1]=0,i[u]=0,u--}else u++;i[u]=1,p=!p}throw new D}static toNarrowWidePattern(A){let i=A.length,o=0,l;do{let u=2147483647;for(let m of A)m<u&&m>o&&(u=m);o=u,l=0;let d=0,p=0;for(let m=0;m<i;m++){let y=A[m];y>o&&(p|=1<<i-1-m,l++,d+=y)}if(l===3){for(let m=0;m<i&&l>0;m++){let y=A[m];if(y>o&&(l--,y*2>=d))return-1}return p}}while(l>3);return-1}static patternToChar(A){for(let i=0;i<Jt.CHARACTER_ENCODINGS.length;i++)if(Jt.CHARACTER_ENCODINGS[i]===A)return Jt.ALPHABET_STRING.charAt(i);if(A===Jt.ASTERISK_ENCODING)return"*";throw new D}static decodeExtended(A){let i=A.length,o="";for(let l=0;l<i;l++){let u=A.charAt(l);if(u==="+"||u==="$"||u==="%"||u==="/"){let d=A.charAt(l+1),p="\0";switch(u){case"+":if(d>="A"&&d<="Z")p=String.fromCharCode(d.charCodeAt(0)+32);else throw new L;break;case"$":if(d>="A"&&d<="Z")p=String.fromCharCode(d.charCodeAt(0)-64);else throw new L;break;case"%":if(d>="A"&&d<="E")p=String.fromCharCode(d.charCodeAt(0)-38);else if(d>="F"&&d<="J")p=String.fromCharCode(d.charCodeAt(0)-11);else if(d>="K"&&d<="O")p=String.fromCharCode(d.charCodeAt(0)+16);else if(d>="P"&&d<="T")p=String.fromCharCode(d.charCodeAt(0)+43);else if(d==="U")p="\0";else if(d==="V")p="@";else if(d==="W")p="`";else if(d==="X"||d==="Y"||d==="Z")p="";else throw new L;break;case"/":if(d>="A"&&d<="O")p=String.fromCharCode(d.charCodeAt(0)-32);else if(d==="Z")p=":";else throw new L;break}o+=p,l++}else o+=u}return o}}Jt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Jt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Jt.ASTERISK_ENCODING=148;class ut extends It{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(A,i,o){let l=this.decodeStart(i),u=this.decodeEnd(i),d=new me;ut.decodeMiddle(i,l[1],u[0],d);let p=d.toString(),m=null;o!=null&&(m=o.get(M.ALLOWED_LENGTHS)),m==null&&(m=ut.DEFAULT_ALLOWED_LENGTHS);let y=p.length,C=!1,N=0;for(let P of m){if(y===P){C=!0;break}P>N&&(N=P)}if(!C&&y>N&&(C=!0),!C)throw new L;const _=[new Be(l[1],A),new Be(u[0],A)];return new ne(p,null,0,_,j.ITF,new Date().getTime())}static decodeMiddle(A,i,o,l){let u=new Int32Array(10),d=new Int32Array(5),p=new Int32Array(5);for(u.fill(0),d.fill(0),p.fill(0);i<o;){It.recordPattern(A,i,u);for(let y=0;y<5;y++){let C=2*y;d[y]=u[C],p[y]=u[C+1]}let m=ut.decodeDigit(d);l.append(m.toString()),m=this.decodeDigit(p),l.append(m.toString()),u.forEach(function(y){i+=y})}}decodeStart(A){let i=ut.skipWhiteSpace(A),o=ut.findGuardPattern(A,i,ut.START_PATTERN);return this.narrowLineWidth=(o[1]-o[0])/4,this.validateQuietZone(A,o[0]),o}validateQuietZone(A,i){let o=this.narrowLineWidth*10;o=o<i?o:i;for(let l=i-1;o>0&&l>=0&&!A.get(l);l--)o--;if(o!==0)throw new D}static skipWhiteSpace(A){const i=A.getSize(),o=A.getNextSet(0);if(o===i)throw new D;return o}decodeEnd(A){A.reverse();try{let i=ut.skipWhiteSpace(A),o;try{o=ut.findGuardPattern(A,i,ut.END_PATTERN_REVERSED[0])}catch(u){u instanceof D&&(o=ut.findGuardPattern(A,i,ut.END_PATTERN_REVERSED[1]))}this.validateQuietZone(A,o[0]);let l=o[0];return o[0]=A.getSize()-o[1],o[1]=A.getSize()-l,o}finally{A.reverse()}}static findGuardPattern(A,i,o){let l=o.length,u=new Int32Array(l),d=A.getSize(),p=!1,m=0,y=i;u.fill(0);for(let C=i;C<d;C++)if(A.get(C)!==p)u[m]++;else{if(m===l-1){if(It.patternMatchVariance(u,o,ut.MAX_INDIVIDUAL_VARIANCE)<ut.MAX_AVG_VARIANCE)return[y,C];y+=u[0]+u[1],S.arraycopy(u,2,u,0,m-1),u[m-1]=0,u[m]=0,m--}else m++;u[m]=1,p=!p}throw new D}static decodeDigit(A){let i=ut.MAX_AVG_VARIANCE,o=-1,l=ut.PATTERNS.length;for(let u=0;u<l;u++){let d=ut.PATTERNS[u],p=It.patternMatchVariance(A,d,ut.MAX_INDIVIDUAL_VARIANCE);p<i?(i=p,o=u):p===i&&(o=-1)}if(o>=0)return o%10;throw new D}}ut.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],ut.MAX_AVG_VARIANCE=.38,ut.MAX_INDIVIDUAL_VARIANCE=.5,ut.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],ut.START_PATTERN=Int32Array.from([1,1,1,1]),ut.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Qt extends It{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(A){let i=!1,o,l=0,u=Int32Array.from([0,0,0]);for(;!i;){u=Int32Array.from([0,0,0]),o=Qt.findGuardPattern(A,l,!1,this.START_END_PATTERN,u);let d=o[0];l=o[1];let p=d-(l-d);p>=0&&(i=A.isRange(p,d,!1))}return o}static checkChecksum(A){return Qt.checkStandardUPCEANChecksum(A)}static checkStandardUPCEANChecksum(A){let i=A.length;if(i===0)return!1;let o=parseInt(A.charAt(i-1),10);return Qt.getStandardUPCEANChecksum(A.substring(0,i-1))===o}static getStandardUPCEANChecksum(A){let i=A.length,o=0;for(let l=i-1;l>=0;l-=2){let u=A.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new L;o+=u}o*=3;for(let l=i-2;l>=0;l-=2){let u=A.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new L;o+=u}return(1e3-o)%10}static decodeEnd(A,i){return Qt.findGuardPattern(A,i,!1,Qt.START_END_PATTERN,new Int32Array(Qt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(A,i,o,l){return this.findGuardPattern(A,i,o,l,new Int32Array(l.length))}static findGuardPattern(A,i,o,l,u){let d=A.getSize();i=o?A.getNextUnset(i):A.getNextSet(i);let p=0,m=i,y=l.length,C=o;for(let N=i;N<d;N++)if(A.get(N)!==C)u[p]++;else{if(p===y-1){if(It.patternMatchVariance(u,l,Qt.MAX_INDIVIDUAL_VARIANCE)<Qt.MAX_AVG_VARIANCE)return Int32Array.from([m,N]);m+=u[0]+u[1];let _=u.slice(2,u.length-1);for(let O=0;O<p-1;O++)u[O]=_[O];u[p-1]=0,u[p]=0,p--}else p++;u[p]=1,C=!C}throw new D}static decodeDigit(A,i,o,l){this.recordPattern(A,o,i);let u=this.MAX_AVG_VARIANCE,d=-1,p=l.length;for(let m=0;m<p;m++){let y=l[m],C=It.patternMatchVariance(i,y,Qt.MAX_INDIVIDUAL_VARIANCE);C<u&&(u=C,d=m)}if(d>=0)return d;throw new D}}Qt.MAX_AVG_VARIANCE=.48,Qt.MAX_INDIVIDUAL_VARIANCE=.7,Qt.START_END_PATTERN=Int32Array.from([1,1,1]),Qt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Qt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Qt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class fa{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(A,i,o){let l=this.decodeRowStringBuffer,u=this.decodeMiddle(i,o,l),d=l.toString(),p=fa.parseExtensionString(d),m=[new Be((o[0]+o[1])/2,A),new Be(u,A)],y=new ne(d,null,0,m,j.UPC_EAN_EXTENSION,new Date().getTime());return p!=null&&y.putAllMetadata(p),y}decodeMiddle(A,i,o){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=A.getSize(),d=i[1],p=0;for(let y=0;y<5&&d<u;y++){let C=Qt.decodeDigit(A,l,d,Qt.L_AND_G_PATTERNS);o+=String.fromCharCode(48+C%10);for(let N of l)d+=N;C>=10&&(p|=1<<4-y),y!==4&&(d=A.getNextSet(d),d=A.getNextUnset(d))}if(o.length!==5)throw new D;let m=this.determineCheckDigit(p);if(fa.extensionChecksum(o.toString())!==m)throw new D;return d}static extensionChecksum(A){let i=A.length,o=0;for(let l=i-2;l>=0;l-=2)o+=A.charAt(l).charCodeAt(0)-48;o*=3;for(let l=i-1;l>=0;l-=2)o+=A.charAt(l).charCodeAt(0)-48;return o*=3,o%10}determineCheckDigit(A){for(let i=0;i<10;i++)if(A===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new D}static parseExtensionString(A){if(A.length!==5)return null;let i=fa.parseExtension5String(A);return i==null?null:new Map([[W.SUGGESTED_PRICE,i]])}static parseExtension5String(A){let i;switch(A.charAt(0)){case"0":i="";break;case"5":i="$";break;case"9":switch(A){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let o=parseInt(A.substring(1)),l=(o/100).toString(),u=o%100,d=u<10?"0"+u:u.toString();return i+l+"."+d}}class Vu{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(A,i,o){let l=this.decodeRowStringBuffer,u=this.decodeMiddle(i,o,l),d=l.toString(),p=Vu.parseExtensionString(d),m=[new Be((o[0]+o[1])/2,A),new Be(u,A)],y=new ne(d,null,0,m,j.UPC_EAN_EXTENSION,new Date().getTime());return p!=null&&y.putAllMetadata(p),y}decodeMiddle(A,i,o){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=A.getSize(),d=i[1],p=0;for(let m=0;m<2&&d<u;m++){let y=Qt.decodeDigit(A,l,d,Qt.L_AND_G_PATTERNS);o+=String.fromCharCode(48+y%10);for(let C of l)d+=C;y>=10&&(p|=1<<1-m),m!==1&&(d=A.getNextSet(d),d=A.getNextUnset(d))}if(o.length!==2)throw new D;if(parseInt(o.toString())%4!==p)throw new D;return d}static parseExtensionString(A){return A.length!==2?null:new Map([[W.ISSUE_NUMBER,parseInt(A)]])}}class pg{static decodeRow(A,i,o){let l=Qt.findGuardPattern(i,o,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new fa().decodeRow(A,i,l)}catch{return new Vu().decodeRow(A,i,l)}}}pg.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class rt extends Qt{constructor(){super(),this.decodeRowStringBuffer="",rt.L_AND_G_PATTERNS=rt.L_PATTERNS.map(A=>Int32Array.from(A));for(let A=10;A<20;A++){let i=rt.L_PATTERNS[A-10],o=new Int32Array(i.length);for(let l=0;l<i.length;l++)o[l]=i[i.length-l-1];rt.L_AND_G_PATTERNS[A]=o}}decodeRow(A,i,o){let l=rt.findStartGuardPattern(i),u=o==null?null:o.get(M.NEED_RESULT_POINT_CALLBACK);if(u!=null){const ae=new Be((l[0]+l[1])/2,A);u.foundPossibleResultPoint(ae)}let d=this.decodeMiddle(i,l,this.decodeRowStringBuffer),p=d.rowOffset,m=d.resultString;if(u!=null){const ae=new Be(p,A);u.foundPossibleResultPoint(ae)}let y=this.decodeEnd(i,p);if(u!=null){const ae=new Be((y[0]+y[1])/2,A);u.foundPossibleResultPoint(ae)}let C=y[1],N=C+(C-y[0]);if(N>=i.getSize()||!i.isRange(C,N,!1))throw new D;let _=m.toString();if(_.length<8)throw new L;if(!rt.checkChecksum(_))throw new E;let O=(l[1]+l[0])/2,P=(y[1]+y[0])/2,K=this.getBarcodeFormat(),Y=[new Be(O,A),new Be(P,A)],$=new ne(_,null,0,Y,K,new Date().getTime()),de=0;try{let ae=pg.decodeRow(A,i,y[1]);$.putMetadata(W.UPC_EAN_EXTENSION,ae.getText()),$.putAllMetadata(ae.getResultMetadata()),$.addResultPoints(ae.getResultPoints()),de=ae.getText().length}catch{}let he=o==null?null:o.get(M.ALLOWED_EAN_EXTENSIONS);if(he!=null){let ae=!1;for(let Ye in he)if(de.toString()===Ye){ae=!0;break}if(!ae)throw new D}return $}decodeEnd(A,i){return rt.findGuardPattern(A,i,!1,rt.START_END_PATTERN,new Int32Array(rt.START_END_PATTERN.length).fill(0))}static checkChecksum(A){return rt.checkStandardUPCEANChecksum(A)}static checkStandardUPCEANChecksum(A){let i=A.length;if(i===0)return!1;let o=parseInt(A.charAt(i-1),10);return rt.getStandardUPCEANChecksum(A.substring(0,i-1))===o}static getStandardUPCEANChecksum(A){let i=A.length,o=0;for(let l=i-1;l>=0;l-=2){let u=A.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new L;o+=u}o*=3;for(let l=i-2;l>=0;l-=2){let u=A.charAt(l).charCodeAt(0)-48;if(u<0||u>9)throw new L;o+=u}return(1e3-o)%10}}class ps extends rt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(A,i,o){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=A.getSize(),d=i[1],p=0;for(let y=0;y<6&&d<u;y++){let C=rt.decodeDigit(A,l,d,rt.L_AND_G_PATTERNS);o+=String.fromCharCode(48+C%10);for(let N of l)d+=N;C>=10&&(p|=1<<5-y)}o=ps.determineFirstDigit(o,p),d=rt.findGuardPattern(A,d,!0,rt.MIDDLE_PATTERN,new Int32Array(rt.MIDDLE_PATTERN.length).fill(0))[1];for(let y=0;y<6&&d<u;y++){let C=rt.decodeDigit(A,l,d,rt.L_PATTERNS);o+=String.fromCharCode(48+C);for(let N of l)d+=N}return{rowOffset:d,resultString:o}}getBarcodeFormat(){return j.EAN_13}static determineFirstDigit(A,i){for(let o=0;o<10;o++)if(i===this.FIRST_DIGIT_ENCODINGS[o])return A=String.fromCharCode(48+o)+A,A;throw new D}}ps.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class wg extends rt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(A,i,o){const l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=A.getSize(),d=i[1];for(let m=0;m<4&&d<u;m++){let y=rt.decodeDigit(A,l,d,rt.L_PATTERNS);o+=String.fromCharCode(48+y);for(let C of l)d+=C}d=rt.findGuardPattern(A,d,!0,rt.MIDDLE_PATTERN,new Int32Array(rt.MIDDLE_PATTERN.length).fill(0))[1];for(let m=0;m<4&&d<u;m++){let y=rt.decodeDigit(A,l,d,rt.L_PATTERNS);o+=String.fromCharCode(48+y);for(let C of l)d+=C}return{rowOffset:d,resultString:o}}getBarcodeFormat(){return j.EAN_8}}class mg extends rt{constructor(){super(...arguments),this.ean13Reader=new ps}getBarcodeFormat(){return j.UPC_A}decode(A,i){return this.maybeReturnResult(this.ean13Reader.decode(A))}decodeRow(A,i,o){return this.maybeReturnResult(this.ean13Reader.decodeRow(A,i,o))}decodeMiddle(A,i,o){return this.ean13Reader.decodeMiddle(A,i,o)}maybeReturnResult(A){let i=A.getText();if(i.charAt(0)==="0"){let o=new ne(i.substring(1),null,null,A.getResultPoints(),j.UPC_A);return A.getResultMetadata()!=null&&o.putAllMetadata(A.getResultMetadata()),o}else throw new D}reset(){this.ean13Reader.reset()}}class En extends rt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(A,i,o){const l=this.decodeMiddleCounters.map(y=>y);l[0]=0,l[1]=0,l[2]=0,l[3]=0;const u=A.getSize();let d=i[1],p=0;for(let y=0;y<6&&d<u;y++){const C=En.decodeDigit(A,l,d,En.L_AND_G_PATTERNS);o+=String.fromCharCode(48+C%10);for(let N of l)d+=N;C>=10&&(p|=1<<5-y)}let m=En.determineNumSysAndCheckDigit(o,p);return{rowOffset:d,resultString:m}}decodeEnd(A,i){return En.findGuardPatternWithoutCounters(A,i,!0,En.MIDDLE_END_PATTERN)}checkChecksum(A){return rt.checkChecksum(En.convertUPCEtoUPCA(A))}static determineNumSysAndCheckDigit(A,i){for(let o=0;o<=1;o++)for(let l=0;l<10;l++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[o][l]){let u=String.fromCharCode(48+o),d=String.fromCharCode(48+l);return u+A+d}throw D.getNotFoundInstance()}getBarcodeFormat(){return j.UPC_E}static convertUPCEtoUPCA(A){const i=A.slice(1,7).split("").map(u=>u.charCodeAt(0)),o=new me;o.append(A.charAt(0));let l=i[5];switch(l){case 0:case 1:case 2:o.appendChars(i,0,2),o.append(l),o.append("0000"),o.appendChars(i,2,3);break;case 3:o.appendChars(i,0,3),o.append("00000"),o.appendChars(i,3,2);break;case 4:o.appendChars(i,0,4),o.append("00000"),o.append(i[4]);break;default:o.appendChars(i,0,5),o.append("0000"),o.append(l);break}return A.length>=8&&o.append(A.charAt(7)),o.toString()}}En.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),En.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Gu extends It{constructor(A){super();let i=A==null?null:A.get(M.POSSIBLE_FORMATS),o=[];n(i)?(o.push(new ps),o.push(new mg),o.push(new wg),o.push(new En)):(i.indexOf(j.EAN_13)>-1&&o.push(new ps),i.indexOf(j.UPC_A)>-1&&o.push(new mg),i.indexOf(j.EAN_8)>-1&&o.push(new wg),i.indexOf(j.UPC_E)>-1&&o.push(new En)),this.readers=o}decodeRow(A,i,o){for(let l of this.readers)try{const u=l.decodeRow(A,i,o),d=u.getBarcodeFormat()===j.EAN_13&&u.getText().charAt(0)==="0",p=o==null?null:o.get(M.POSSIBLE_FORMATS),m=p==null||p.includes(j.UPC_A);if(d&&m){const y=u.getRawBytes(),C=new ne(u.getText().substring(1),y,y?y.length:null,u.getResultPoints(),j.UPC_A);return C.putAllMetadata(u.getResultMetadata()),C}return u}catch{}throw new D}reset(){for(let A of this.readers)A.reset()}}class xr extends It{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(A,i){for(let o=0;o<i.length;o++)if(It.patternMatchVariance(A,i[o],xr.MAX_INDIVIDUAL_VARIANCE)<xr.MAX_AVG_VARIANCE)return o;throw new D}static count(A){return ze.sum(new Int32Array(A))}static increment(A,i){let o=0,l=i[0];for(let u=1;u<A.length;u++)i[u]>l&&(l=i[u],o=u);A[o]++}static decrement(A,i){let o=0,l=i[0];for(let u=1;u<A.length;u++)i[u]<l&&(l=i[u],o=u);A[o]--}static isFinderPattern(A){let i=A[0]+A[1],o=i+A[2]+A[3],l=i/o;if(l>=xr.MIN_FINDER_PATTERN_RATIO&&l<=xr.MAX_FINDER_PATTERN_RATIO){let u=Number.MAX_SAFE_INTEGER,d=Number.MIN_SAFE_INTEGER;for(let p of A)p>d&&(d=p),p<u&&(u=p);return d<10*u}return!1}}xr.MAX_AVG_VARIANCE=.2,xr.MAX_INDIVIDUAL_VARIANCE=.45,xr.MIN_FINDER_PATTERN_RATIO=9.5/12,xr.MAX_FINDER_PATTERN_RATIO=12.5/14;class Js{constructor(A,i){this.value=A,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(A){if(!(A instanceof Js))return!1;const i=A;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class tl{constructor(A,i,o,l,u){this.value=A,this.startEnd=i,this.value=A,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new Be(o,u)),this.resultPoints.push(new Be(l,u))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(A){if(!(A instanceof tl))return!1;const i=A;return this.value===i.value}hashCode(){return this.value}}class Hn{constructor(){}static getRSSvalue(A,i,o){let l=0;for(let m of A)l+=m;let u=0,d=0,p=A.length;for(let m=0;m<p-1;m++){let y;for(y=1,d|=1<<m;y<A[m];y++,d&=~(1<<m)){let C=Hn.combins(l-y-1,p-m-2);if(o&&d===0&&l-y-(p-m-1)>=p-m-1&&(C-=Hn.combins(l-y-(p-m),p-m-2)),p-m-1>1){let N=0;for(let _=l-y-(p-m-2);_>i;_--)N+=Hn.combins(l-y-_-1,p-m-3);C-=N*(p-1-m)}else l-y>i&&C--;u+=C}l-=y}return u}static combins(A,i){let o,l;A-i>i?(l=i,o=A-i):(l=A-i,o=i);let u=1,d=1;for(let p=A;p>o;p--)u*=p,d<=l&&(u/=d,d++);for(;d<=l;)u/=d,d++;return u}}class EC{static buildBitArray(A){let i=A.length*2-1;A[A.length-1].getRightChar()==null&&(i-=1);let o=12*i,l=new k(o),u=0,p=A[0].getRightChar().getValue();for(let m=11;m>=0;--m)p&1<<m&&l.set(u),u++;for(let m=1;m<A.length;++m){let y=A[m],C=y.getLeftChar().getValue();for(let N=11;N>=0;--N)C&1<<N&&l.set(u),u++;if(y.getRightChar()!=null){let N=y.getRightChar().getValue();for(let _=11;_>=0;--_)N&1<<_&&l.set(u),u++}}return l}}class ws{constructor(A,i){i?this.decodedInformation=null:(this.finished=A,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class zu{constructor(A){this.newPosition=A}getNewPosition(){return this.newPosition}}class Or extends zu{constructor(A,i){super(A),this.value=i}getValue(){return this.value}isFNC1(){return this.value===Or.FNC1}}Or.FNC1="$";class ms extends zu{constructor(A,i,o){super(A),o?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class un extends zu{constructor(A,i,o){if(super(A),i<0||i>10||o<0||o>10)throw new L;this.firstDigit=i,this.secondDigit=o}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===un.FNC1}isSecondDigitFNC1(){return this.secondDigit===un.FNC1}isAnyFNC1(){return this.firstDigit===un.FNC1||this.secondDigit===un.FNC1}}un.FNC1=10;class Ee{constructor(){}static parseFieldsInGeneralPurpose(A){if(!A)return null;if(A.length<2)throw new D;let i=A.substring(0,2);for(let u of Ee.TWO_DIGIT_DATA_LENGTH)if(u[0]===i)return u[1]===Ee.VARIABLE_LENGTH?Ee.processVariableAI(2,u[2],A):Ee.processFixedAI(2,u[1],A);if(A.length<3)throw new D;let o=A.substring(0,3);for(let u of Ee.THREE_DIGIT_DATA_LENGTH)if(u[0]===o)return u[1]===Ee.VARIABLE_LENGTH?Ee.processVariableAI(3,u[2],A):Ee.processFixedAI(3,u[1],A);for(let u of Ee.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(u[0]===o)return u[1]===Ee.VARIABLE_LENGTH?Ee.processVariableAI(4,u[2],A):Ee.processFixedAI(4,u[1],A);if(A.length<4)throw new D;let l=A.substring(0,4);for(let u of Ee.FOUR_DIGIT_DATA_LENGTH)if(u[0]===l)return u[1]===Ee.VARIABLE_LENGTH?Ee.processVariableAI(4,u[2],A):Ee.processFixedAI(4,u[1],A);throw new D}static processFixedAI(A,i,o){if(o.length<A)throw new D;let l=o.substring(0,A);if(o.length<A+i)throw new D;let u=o.substring(A,A+i),d=o.substring(A+i),p="("+l+")"+u,m=Ee.parseFieldsInGeneralPurpose(d);return m==null?p:p+m}static processVariableAI(A,i,o){let l=o.substring(0,A),u;o.length<A+i?u=o.length:u=A+i;let d=o.substring(A,u),p=o.substring(u),m="("+l+")"+d,y=Ee.parseFieldsInGeneralPurpose(p);return y==null?m:m+y}}Ee.VARIABLE_LENGTH=[],Ee.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ee.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ee.VARIABLE_LENGTH,20],["22",Ee.VARIABLE_LENGTH,29],["30",Ee.VARIABLE_LENGTH,8],["37",Ee.VARIABLE_LENGTH,8],["90",Ee.VARIABLE_LENGTH,30],["91",Ee.VARIABLE_LENGTH,30],["92",Ee.VARIABLE_LENGTH,30],["93",Ee.VARIABLE_LENGTH,30],["94",Ee.VARIABLE_LENGTH,30],["95",Ee.VARIABLE_LENGTH,30],["96",Ee.VARIABLE_LENGTH,30],["97",Ee.VARIABLE_LENGTH,3],["98",Ee.VARIABLE_LENGTH,30],["99",Ee.VARIABLE_LENGTH,30]],Ee.THREE_DIGIT_DATA_LENGTH=[["240",Ee.VARIABLE_LENGTH,30],["241",Ee.VARIABLE_LENGTH,30],["242",Ee.VARIABLE_LENGTH,6],["250",Ee.VARIABLE_LENGTH,30],["251",Ee.VARIABLE_LENGTH,30],["253",Ee.VARIABLE_LENGTH,17],["254",Ee.VARIABLE_LENGTH,20],["400",Ee.VARIABLE_LENGTH,30],["401",Ee.VARIABLE_LENGTH,30],["402",17],["403",Ee.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ee.VARIABLE_LENGTH,20],["421",Ee.VARIABLE_LENGTH,15],["422",3],["423",Ee.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ee.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ee.VARIABLE_LENGTH,15],["391",Ee.VARIABLE_LENGTH,18],["392",Ee.VARIABLE_LENGTH,15],["393",Ee.VARIABLE_LENGTH,18],["703",Ee.VARIABLE_LENGTH,30]],Ee.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ee.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ee.VARIABLE_LENGTH,20],["8003",Ee.VARIABLE_LENGTH,30],["8004",Ee.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ee.VARIABLE_LENGTH,30],["8008",Ee.VARIABLE_LENGTH,12],["8018",18],["8020",Ee.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ee.VARIABLE_LENGTH,70],["8200",Ee.VARIABLE_LENGTH,70]];class Zs{constructor(A){this.buffer=new me,this.information=A}decodeAllCodes(A,i){let o=i,l=null;do{let u=this.decodeGeneralPurposeField(o,l),d=Ee.parseFieldsInGeneralPurpose(u.getNewString());if(d!=null&&A.append(d),u.isRemaining()?l=""+u.getRemainingValue():l=null,o===u.getNewPosition())break;o=u.getNewPosition()}while(!0);return A.toString()}isStillNumeric(A){if(A+7>this.information.getSize())return A+4<=this.information.getSize();for(let i=A;i<A+3;++i)if(this.information.get(i))return!0;return this.information.get(A+3)}decodeNumeric(A){if(A+7>this.information.getSize()){let u=this.extractNumericValueFromBitArray(A,4);return u===0?new un(this.information.getSize(),un.FNC1,un.FNC1):new un(this.information.getSize(),u-1,un.FNC1)}let i=this.extractNumericValueFromBitArray(A,7),o=(i-8)/11,l=(i-8)%11;return new un(A+7,o,l)}extractNumericValueFromBitArray(A,i){return Zs.extractNumericValueFromBitArray(this.information,A,i)}static extractNumericValueFromBitArray(A,i,o){let l=0;for(let u=0;u<o;++u)A.get(i+u)&&(l|=1<<o-u-1);return l}decodeGeneralPurposeField(A,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(A);let o=this.parseBlocks();return o!=null&&o.isRemaining()?new ms(this.current.getPosition(),this.buffer.toString(),o.getRemainingValue()):new ms(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let A,i;do{let o=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),A=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),A=i.isFinished()):(i=this.parseNumericBlock(),A=i.isFinished()),!(o!==this.current.getPosition())&&!A)break}while(!A);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let A=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(A.getNewPosition()),A.isFirstDigitFNC1()){let i;return A.isSecondDigitFNC1()?i=new ms(this.current.getPosition(),this.buffer.toString()):i=new ms(this.current.getPosition(),this.buffer.toString(),A.getSecondDigit()),new ws(!0,i)}if(this.buffer.append(A.getFirstDigit()),A.isSecondDigitFNC1()){let i=new ms(this.current.getPosition(),this.buffer.toString());return new ws(!0,i)}this.buffer.append(A.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ws(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let A=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(A.getNewPosition()),A.isFNC1()){let i=new ms(this.current.getPosition(),this.buffer.toString());return new ws(!0,i)}this.buffer.append(A.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ws(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let A=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(A.getNewPosition()),A.isFNC1()){let i=new ms(this.current.getPosition(),this.buffer.toString());return new ws(!0,i)}this.buffer.append(A.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ws(!1)}isStillIsoIec646(A){if(A+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(A,5);if(i>=5&&i<16)return!0;if(A+7>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(A,7);if(o>=64&&o<116)return!0;if(A+8>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(A,8);return l>=232&&l<253}decodeIsoIec646(A){let i=this.extractNumericValueFromBitArray(A,5);if(i===15)return new Or(A+5,Or.FNC1);if(i>=5&&i<15)return new Or(A+5,"0"+(i-5));let o=this.extractNumericValueFromBitArray(A,7);if(o>=64&&o<90)return new Or(A+7,""+(o+1));if(o>=90&&o<116)return new Or(A+7,""+(o+7));let l=this.extractNumericValueFromBitArray(A,8),u;switch(l){case 232:u="!";break;case 233:u='"';break;case 234:u="%";break;case 235:u="&";break;case 236:u="'";break;case 237:u="(";break;case 238:u=")";break;case 239:u="*";break;case 240:u="+";break;case 241:u=",";break;case 242:u="-";break;case 243:u=".";break;case 244:u="/";break;case 245:u=":";break;case 246:u=";";break;case 247:u="<";break;case 248:u="=";break;case 249:u=">";break;case 250:u="?";break;case 251:u="_";break;case 252:u=" ";break;default:throw new L}return new Or(A+8,u)}isStillAlpha(A){if(A+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(A,5);if(i>=5&&i<16)return!0;if(A+6>this.information.getSize())return!1;let o=this.extractNumericValueFromBitArray(A,6);return o>=16&&o<63}decodeAlphanumeric(A){let i=this.extractNumericValueFromBitArray(A,5);if(i===15)return new Or(A+5,Or.FNC1);if(i>=5&&i<15)return new Or(A+5,"0"+(i-5));let o=this.extractNumericValueFromBitArray(A,6);if(o>=32&&o<58)return new Or(A+6,""+(o+33));let l;switch(o){case 58:l="*";break;case 59:l=",";break;case 60:l="-";break;case 61:l=".";break;case 62:l="/";break;default:throw new et("Decoding invalid alphanumeric value: "+o)}return new Or(A+6,l)}isAlphaTo646ToAlphaLatch(A){if(A+1>this.information.getSize())return!1;for(let i=0;i<5&&i+A<this.information.getSize();++i)if(i===2){if(!this.information.get(A+2))return!1}else if(this.information.get(A+i))return!1;return!0}isAlphaOr646ToNumericLatch(A){if(A+3>this.information.getSize())return!1;for(let i=A;i<A+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(A){if(A+1>this.information.getSize())return!1;for(let i=0;i<4&&i+A<this.information.getSize();++i)if(this.information.get(A+i))return!1;return!0}}class Wu{constructor(A){this.information=A,this.generalDecoder=new Zs(A)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Dr extends Wu{constructor(A){super(A)}encodeCompressedGtin(A,i){A.append("(01)");let o=A.length();A.append("9"),this.encodeCompressedGtinWithoutAI(A,i,o)}encodeCompressedGtinWithoutAI(A,i,o){for(let l=0;l<4;++l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(i+10*l,10);u/100===0&&A.append("0"),u/10===0&&A.append("0"),A.append(u)}Dr.appendCheckDigit(A,o)}static appendCheckDigit(A,i){let o=0;for(let l=0;l<13;l++){let u=A.charAt(l+i).charCodeAt(0)-48;o+=l&1?u:3*u}o=10-o%10,o===10&&(o=0),A.append(o)}}Dr.GTIN_SIZE=40;class qs extends Dr{constructor(A){super(A)}parseInformation(){let A=new me;A.append("(01)");let i=A.length(),o=this.getGeneralDecoder().extractNumericValueFromBitArray(qs.HEADER_SIZE,4);return A.append(o),this.encodeCompressedGtinWithoutAI(A,qs.HEADER_SIZE+4,i),this.getGeneralDecoder().decodeAllCodes(A,qs.HEADER_SIZE+44)}}qs.HEADER_SIZE=4;class rl extends Wu{constructor(A){super(A)}parseInformation(){let A=new me;return this.getGeneralDecoder().decodeAllCodes(A,rl.HEADER_SIZE)}}rl.HEADER_SIZE=5;class nl extends Dr{constructor(A){super(A)}encodeCompressedWeight(A,i,o){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(i,o);this.addWeightCode(A,l);let u=this.checkWeight(l),d=1e5;for(let p=0;p<5;++p)u/d===0&&A.append("0"),d/=10;A.append(u)}}class Pn extends nl{constructor(A){super(A)}parseInformation(){if(this.getInformation().getSize()!=Pn.HEADER_SIZE+nl.GTIN_SIZE+Pn.WEIGHT_SIZE)throw new D;let A=new me;return this.encodeCompressedGtin(A,Pn.HEADER_SIZE),this.encodeCompressedWeight(A,Pn.HEADER_SIZE+nl.GTIN_SIZE,Pn.WEIGHT_SIZE),A.toString()}}Pn.HEADER_SIZE=5,Pn.WEIGHT_SIZE=15;class SC extends Pn{constructor(A){super(A)}addWeightCode(A,i){A.append("(3103)")}checkWeight(A){return A}}class IC extends Pn{constructor(A){super(A)}addWeightCode(A,i){i<1e4?A.append("(3202)"):A.append("(3203)")}checkWeight(A){return A<1e4?A:A-1e4}}class Kn extends Dr{constructor(A){super(A)}parseInformation(){if(this.getInformation().getSize()<Kn.HEADER_SIZE+Dr.GTIN_SIZE)throw new D;let A=new me;this.encodeCompressedGtin(A,Kn.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Kn.HEADER_SIZE+Dr.GTIN_SIZE,Kn.LAST_DIGIT_SIZE);A.append("(392"),A.append(i),A.append(")");let o=this.getGeneralDecoder().decodeGeneralPurposeField(Kn.HEADER_SIZE+Dr.GTIN_SIZE+Kn.LAST_DIGIT_SIZE,null);return A.append(o.getNewString()),A.toString()}}Kn.HEADER_SIZE=8,Kn.LAST_DIGIT_SIZE=2;class Ir extends Dr{constructor(A){super(A)}parseInformation(){if(this.getInformation().getSize()<Ir.HEADER_SIZE+Dr.GTIN_SIZE)throw new D;let A=new me;this.encodeCompressedGtin(A,Ir.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Ir.HEADER_SIZE+Dr.GTIN_SIZE,Ir.LAST_DIGIT_SIZE);A.append("(393"),A.append(i),A.append(")");let o=this.getGeneralDecoder().extractNumericValueFromBitArray(Ir.HEADER_SIZE+Dr.GTIN_SIZE+Ir.LAST_DIGIT_SIZE,Ir.FIRST_THREE_DIGITS_SIZE);o/100==0&&A.append("0"),o/10==0&&A.append("0"),A.append(o);let l=this.getGeneralDecoder().decodeGeneralPurposeField(Ir.HEADER_SIZE+Dr.GTIN_SIZE+Ir.LAST_DIGIT_SIZE+Ir.FIRST_THREE_DIGITS_SIZE,null);return A.append(l.getNewString()),A.toString()}}Ir.HEADER_SIZE=8,Ir.LAST_DIGIT_SIZE=2,Ir.FIRST_THREE_DIGITS_SIZE=10;class bt extends nl{constructor(A,i,o){super(A),this.dateCode=o,this.firstAIdigits=i}parseInformation(){if(this.getInformation().getSize()!=bt.HEADER_SIZE+bt.GTIN_SIZE+bt.WEIGHT_SIZE+bt.DATE_SIZE)throw new D;let A=new me;return this.encodeCompressedGtin(A,bt.HEADER_SIZE),this.encodeCompressedWeight(A,bt.HEADER_SIZE+bt.GTIN_SIZE,bt.WEIGHT_SIZE),this.encodeCompressedDate(A,bt.HEADER_SIZE+bt.GTIN_SIZE+bt.WEIGHT_SIZE),A.toString()}encodeCompressedDate(A,i){let o=this.getGeneralDecoder().extractNumericValueFromBitArray(i,bt.DATE_SIZE);if(o==38400)return;A.append("("),A.append(this.dateCode),A.append(")");let l=o%32;o/=32;let u=o%12+1;o/=12;let d=o;d/10==0&&A.append("0"),A.append(d),u/10==0&&A.append("0"),A.append(u),l/10==0&&A.append("0"),A.append(l)}addWeightCode(A,i){A.append("("),A.append(this.firstAIdigits),A.append(i/1e5),A.append(")")}checkWeight(A){return A%1e5}}bt.HEADER_SIZE=8,bt.WEIGHT_SIZE=20,bt.DATE_SIZE=16;function xg(F){try{if(F.get(1))return new qs(F);if(!F.get(2))return new rl(F);switch(Zs.extractNumericValueFromBitArray(F,1,4)){case 4:return new SC(F);case 5:return new IC(F)}switch(Zs.extractNumericValueFromBitArray(F,1,5)){case 12:return new Kn(F);case 13:return new Ir(F)}switch(Zs.extractNumericValueFromBitArray(F,1,7)){case 56:return new bt(F,"310","11");case 57:return new bt(F,"320","11");case 58:return new bt(F,"310","13");case 59:return new bt(F,"320","13");case 60:return new bt(F,"310","15");case 61:return new bt(F,"320","15");case 62:return new bt(F,"310","17");case 63:return new bt(F,"320","17")}}catch(A){throw console.log(A),new et("unknown decoder: "+F)}}class vA{constructor(A,i,o,l){this.leftchar=A,this.rightchar=i,this.finderpattern=o,this.maybeLast=l}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(A,i){return A instanceof vA?vA.equalsOrNull(A.leftchar,i.leftchar)&&vA.equalsOrNull(A.rightchar,i.rightchar)&&vA.equalsOrNull(A.finderpattern,i.finderpattern):!1}static equalsOrNull(A,i){return A===null?i===null:vA.equals(A,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Yu{constructor(A,i,o){this.pairs=A,this.rowNumber=i,this.wasReversed=o}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(A){return this.checkEqualitity(this,A)}toString(){return"{ "+this.pairs+" }"}equals(A,i){return A instanceof Yu?this.checkEqualitity(A,i)&&A.wasReversed===i.wasReversed:!1}checkEqualitity(A,i){if(!A||!i)return;let o;return A.forEach((l,u)=>{i.forEach(d=>{l.getLeftChar().getValue()===d.getLeftChar().getValue()&&l.getRightChar().getValue()===d.getRightChar().getValue()&&l.getFinderPatter().getValue()===d.getFinderPatter().getValue()&&(o=!0)})}),o}}class se extends xr{constructor(A){super(...arguments),this.pairs=new Array(se.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=A===!0}decodeRow(A,i,o){this.pairs.length=0,this.startFromEven=!1;try{return se.constructResult(this.decodeRow2pairs(A,i))}catch(l){this.verbose&&console.log(l)}return this.pairs.length=0,this.startFromEven=!0,se.constructResult(this.decodeRow2pairs(A,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(A,i){let o=!1;for(;!o;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,A))}catch(u){if(u instanceof D){if(!this.pairs.length)throw new D;o=!0}}if(this.checkChecksum())return this.pairs;let l;if(this.rows.length?l=!0:l=!1,this.storeRow(A,!1),l){let u=this.checkRowsBoolean(!1);if(u!=null||(u=this.checkRowsBoolean(!0),u!=null))return u}throw new D}checkRowsBoolean(A){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,A&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(o){this.verbose&&console.log(o)}return A&&(this.rows=this.rows.reverse()),i}checkRows(A,i){for(let o=i;o<this.rows.length;o++){let l=this.rows[o];this.pairs.length=0;for(let d of A)this.pairs.push(d.getPairs());if(this.pairs.push(l.getPairs()),!se.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let u=new Array(A);u.push(l);try{return this.checkRows(u,o+1)}catch(d){this.verbose&&console.log(d)}}throw new D}static isValidSequence(A){for(let i of se.FINDER_PATTERN_SEQUENCES){if(A.length>i.length)continue;let o=!0;for(let l=0;l<A.length;l++)if(A[l].getFinderPattern().getValue()!=i[l]){o=!1;break}if(o)return!0}return!1}storeRow(A,i){let o=0,l=!1,u=!1;for(;o<this.rows.length;){let d=this.rows[o];if(d.getRowNumber()>A){u=d.isEquivalent(this.pairs);break}l=d.isEquivalent(this.pairs),o++}u||l||se.isPartialRow(this.pairs,this.rows)||(this.rows.push(o,new Yu(this.pairs,A,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(A,i){for(let o of i)if(o.getPairs().length!==A.length){for(let l of o.getPairs())for(let u of A)if(vA.equals(l,u))break}}static isPartialRow(A,i){for(let o of i){let l=!0;for(let u of A){let d=!1;for(let p of o.getPairs())if(u.equals(p)){d=!0;break}if(!d){l=!1;break}}if(l)return!0}return!1}getRows(){return this.rows}static constructResult(A){let i=EC.buildBitArray(A),l=xg(i).parseInformation(),u=A[0].getFinderPattern().getResultPoints(),d=A[A.length-1].getFinderPattern().getResultPoints(),p=[u[0],u[1],d[0],d[1]];return new ne(l,null,null,p,j.RSS_EXPANDED,null)}checkChecksum(){let A=this.pairs.get(0),i=A.getLeftChar(),o=A.getRightChar();if(o==null)return!1;let l=o.getChecksumPortion(),u=2;for(let p=1;p<this.pairs.size();++p){let m=this.pairs.get(p);l+=m.getLeftChar().getChecksumPortion(),u++;let y=m.getRightChar();y!=null&&(l+=y.getChecksumPortion(),u++)}return l%=211,211*(u-4)+l==i.getValue()}static getNextSecondBar(A,i){let o;return A.get(i)?(o=A.getNextUnset(i),o=A.getNextSet(o)):(o=A.getNextSet(i),o=A.getNextUnset(o)),o}retrieveNextPair(A,i,o){let l=i.length%2==0;this.startFromEven&&(l=!l);let u,d=!0,p=-1;do this.findNextPair(A,i,p),u=this.parseFoundFinderPattern(A,o,l),u==null?p=se.getNextSecondBar(A,this.startEnd[0]):d=!1;while(d);let m=this.decodeDataCharacter(A,u,l,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new D;let y;try{y=this.decodeDataCharacter(A,u,l,!1)}catch(C){y=null,this.verbose&&console.log(C)}return new vA(m,y,u,!0)}isEmptyPair(A){return A.length===0}findNextPair(A,i,o){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=A.getSize(),d;o>=0?d=o:this.isEmptyPair(i)?d=0:d=i[i.length-1].getFinderPattern().getStartEnd()[1];let p=i.length%2!=0;this.startFromEven&&(p=!p);let m=!1;for(;d<u&&(m=!A.get(d),!!m);)d++;let y=0,C=d;for(let N=d;N<u;N++)if(A.get(N)!=m)l[y]++;else{if(y==3){if(p&&se.reverseCounters(l),se.isFinderPattern(l)){this.startEnd[0]=C,this.startEnd[1]=N;return}p&&se.reverseCounters(l),C+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,y--}else y++;l[y]=1,m=!m}throw new D}static reverseCounters(A){let i=A.length;for(let o=0;o<i/2;++o){let l=A[o];A[o]=A[i-o-1],A[i-o-1]=l}}parseFoundFinderPattern(A,i,o){let l,u,d;if(o){let y=this.startEnd[0]-1;for(;y>=0&&!A.get(y);)y--;y++,l=this.startEnd[0]-y,u=y,d=this.startEnd[1]}else u=this.startEnd[0],d=A.getNextUnset(this.startEnd[1]+1),l=d-this.startEnd[1];let p=this.getDecodeFinderCounters();S.arraycopy(p,0,p,1,p.length-1),p[0]=l;let m;try{m=this.parseFinderValue(p,se.FINDER_PATTERNS)}catch{return null}return new tl(m,[u,d],u,d,i)}decodeDataCharacter(A,i,o,l){let u=this.getDataCharacterCounters();for(let ht=0;ht<u.length;ht++)u[ht]=0;if(l)se.recordPatternInReverse(A,i.getStartEnd()[0],u);else{se.recordPattern(A,i.getStartEnd()[1],u);for(let ht=0,cr=u.length-1;ht<cr;ht++,cr--){let Wr=u[ht];u[ht]=u[cr],u[cr]=Wr}}let d=17,p=ze.sum(new Int32Array(u))/d,m=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(p-m)/m>.3)throw new D;let y=this.getOddCounts(),C=this.getEvenCounts(),N=this.getOddRoundingErrors(),_=this.getEvenRoundingErrors();for(let ht=0;ht<u.length;ht++){let cr=1*u[ht]/p,Wr=cr+.5;if(Wr<1){if(cr<.3)throw new D;Wr=1}else if(Wr>8){if(cr>8.7)throw new D;Wr=8}let ni=ht/2;ht&1?(C[ni]=Wr,_[ni]=cr-Wr):(y[ni]=Wr,N[ni]=cr-Wr)}this.adjustOddEvenCounts(d);let O=4*i.getValue()+(o?0:2)+(l?0:1)-1,P=0,K=0;for(let ht=y.length-1;ht>=0;ht--){if(se.isNotA1left(i,o,l)){let cr=se.WEIGHTS[O][2*ht];K+=y[ht]*cr}P+=y[ht]}let Y=0;for(let ht=C.length-1;ht>=0;ht--)if(se.isNotA1left(i,o,l)){let cr=se.WEIGHTS[O][2*ht+1];Y+=C[ht]*cr}let $=K+Y;if(P&1||P>13||P<4)throw new D;let de=(13-P)/2,he=se.SYMBOL_WIDEST[de],ae=9-he,Ye=Hn.getRSSvalue(y,he,!0),Ke=Hn.getRSSvalue(C,ae,!1),Mr=se.EVEN_TOTAL_SUBSET[de],Sn=se.GSUM[de],Lr=Ye*Mr+Ke+Sn;return new Js(Lr,$)}static isNotA1left(A,i,o){return!(A.getValue()==0&&i&&o)}adjustOddEvenCounts(A){let i=ze.sum(new Int32Array(this.getOddCounts())),o=ze.sum(new Int32Array(this.getEvenCounts())),l=!1,u=!1;i>13?u=!0:i<4&&(l=!0);let d=!1,p=!1;o>13?p=!0:o<4&&(d=!0);let m=i+o-A,y=(i&1)==1,C=(o&1)==0;if(m==1)if(y){if(C)throw new D;u=!0}else{if(!C)throw new D;p=!0}else if(m==-1)if(y){if(C)throw new D;l=!0}else{if(!C)throw new D;d=!0}else if(m==0){if(y){if(!C)throw new D;i<o?(l=!0,p=!0):(u=!0,d=!0)}else if(C)throw new D}else throw new D;if(l){if(u)throw new D;se.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&se.decrement(this.getOddCounts(),this.getOddRoundingErrors()),d){if(p)throw new D;se.increment(this.getEvenCounts(),this.getOddRoundingErrors())}p&&se.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}se.SYMBOL_WIDEST=[7,5,4,3,1],se.EVEN_TOTAL_SUBSET=[4,20,52,104,204],se.GSUM=[0,348,1388,2948,3988],se.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],se.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],se.FINDER_PAT_A=0,se.FINDER_PAT_B=1,se.FINDER_PAT_C=2,se.FINDER_PAT_D=3,se.FINDER_PAT_E=4,se.FINDER_PAT_F=5,se.FINDER_PATTERN_SEQUENCES=[[se.FINDER_PAT_A,se.FINDER_PAT_A],[se.FINDER_PAT_A,se.FINDER_PAT_B,se.FINDER_PAT_B],[se.FINDER_PAT_A,se.FINDER_PAT_C,se.FINDER_PAT_B,se.FINDER_PAT_D],[se.FINDER_PAT_A,se.FINDER_PAT_E,se.FINDER_PAT_B,se.FINDER_PAT_D,se.FINDER_PAT_C],[se.FINDER_PAT_A,se.FINDER_PAT_E,se.FINDER_PAT_B,se.FINDER_PAT_D,se.FINDER_PAT_D,se.FINDER_PAT_F],[se.FINDER_PAT_A,se.FINDER_PAT_E,se.FINDER_PAT_B,se.FINDER_PAT_D,se.FINDER_PAT_E,se.FINDER_PAT_F,se.FINDER_PAT_F],[se.FINDER_PAT_A,se.FINDER_PAT_A,se.FINDER_PAT_B,se.FINDER_PAT_B,se.FINDER_PAT_C,se.FINDER_PAT_C,se.FINDER_PAT_D,se.FINDER_PAT_D],[se.FINDER_PAT_A,se.FINDER_PAT_A,se.FINDER_PAT_B,se.FINDER_PAT_B,se.FINDER_PAT_C,se.FINDER_PAT_C,se.FINDER_PAT_D,se.FINDER_PAT_E,se.FINDER_PAT_E],[se.FINDER_PAT_A,se.FINDER_PAT_A,se.FINDER_PAT_B,se.FINDER_PAT_B,se.FINDER_PAT_C,se.FINDER_PAT_C,se.FINDER_PAT_D,se.FINDER_PAT_E,se.FINDER_PAT_F,se.FINDER_PAT_F],[se.FINDER_PAT_A,se.FINDER_PAT_A,se.FINDER_PAT_B,se.FINDER_PAT_B,se.FINDER_PAT_C,se.FINDER_PAT_D,se.FINDER_PAT_D,se.FINDER_PAT_E,se.FINDER_PAT_E,se.FINDER_PAT_F,se.FINDER_PAT_F]],se.MAX_PAIRS=11;class FC extends Js{constructor(A,i,o){super(A,i),this.count=0,this.finderPattern=o}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Ot extends xr{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(A,i,o){const l=this.decodePair(i,!1,A,o);Ot.addOrTally(this.possibleLeftPairs,l),i.reverse();let u=this.decodePair(i,!0,A,o);Ot.addOrTally(this.possibleRightPairs,u),i.reverse();for(let d of this.possibleLeftPairs)if(d.getCount()>1){for(let p of this.possibleRightPairs)if(p.getCount()>1&&Ot.checkChecksum(d,p))return Ot.constructResult(d,p)}throw new D}static addOrTally(A,i){if(i==null)return;let o=!1;for(let l of A)if(l.getValue()===i.getValue()){l.incrementCount(),o=!0;break}o||A.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(A,i){let o=4537077*A.getValue()+i.getValue(),l=new String(o).toString(),u=new me;for(let y=13-l.length;y>0;y--)u.append("0");u.append(l);let d=0;for(let y=0;y<13;y++){let C=u.charAt(y).charCodeAt(0)-48;d+=y&1?C:3*C}d=10-d%10,d===10&&(d=0),u.append(d.toString());let p=A.getFinderPattern().getResultPoints(),m=i.getFinderPattern().getResultPoints();return new ne(u.toString(),null,0,[p[0],p[1],m[0],m[1]],j.RSS_14,new Date().getTime())}static checkChecksum(A,i){let o=(A.getChecksumPortion()+16*i.getChecksumPortion())%79,l=9*A.getFinderPattern().getValue()+i.getFinderPattern().getValue();return l>72&&l--,l>8&&l--,o===l}decodePair(A,i,o,l){try{let u=this.findFinderPattern(A,i),d=this.parseFoundFinderPattern(A,o,i,u),p=l==null?null:l.get(M.NEED_RESULT_POINT_CALLBACK);if(p!=null){let C=(u[0]+u[1])/2;i&&(C=A.getSize()-1-C),p.foundPossibleResultPoint(new Be(C,o))}let m=this.decodeDataCharacter(A,d,!0),y=this.decodeDataCharacter(A,d,!1);return new FC(1597*m.getValue()+y.getValue(),m.getChecksumPortion()+4*y.getChecksumPortion(),d)}catch{return null}}decodeDataCharacter(A,i,o){let l=this.getDataCharacterCounters();for(let Y=0;Y<l.length;Y++)l[Y]=0;if(o)It.recordPatternInReverse(A,i.getStartEnd()[0],l);else{It.recordPattern(A,i.getStartEnd()[1]+1,l);for(let Y=0,$=l.length-1;Y<$;Y++,$--){let de=l[Y];l[Y]=l[$],l[$]=de}}let u=o?16:15,d=ze.sum(new Int32Array(l))/u,p=this.getOddCounts(),m=this.getEvenCounts(),y=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors();for(let Y=0;Y<l.length;Y++){let $=l[Y]/d,de=Math.floor($+.5);de<1?de=1:de>8&&(de=8);let he=Math.floor(Y/2);Y&1?(m[he]=de,C[he]=$-de):(p[he]=de,y[he]=$-de)}this.adjustOddEvenCounts(o,u);let N=0,_=0;for(let Y=p.length-1;Y>=0;Y--)_*=9,_+=p[Y],N+=p[Y];let O=0,P=0;for(let Y=m.length-1;Y>=0;Y--)O*=9,O+=m[Y],P+=m[Y];let K=_+3*O;if(o){if(N&1||N>12||N<4)throw new D;let Y=(12-N)/2,$=Ot.OUTSIDE_ODD_WIDEST[Y],de=9-$,he=Hn.getRSSvalue(p,$,!1),ae=Hn.getRSSvalue(m,de,!0),Ye=Ot.OUTSIDE_EVEN_TOTAL_SUBSET[Y],Ke=Ot.OUTSIDE_GSUM[Y];return new Js(he*Ye+ae+Ke,K)}else{if(P&1||P>10||P<4)throw new D;let Y=(10-P)/2,$=Ot.INSIDE_ODD_WIDEST[Y],de=9-$,he=Hn.getRSSvalue(p,$,!0),ae=Hn.getRSSvalue(m,de,!1),Ye=Ot.INSIDE_ODD_TOTAL_SUBSET[Y],Ke=Ot.INSIDE_GSUM[Y];return new Js(ae*Ye+he+Ke,K)}}findFinderPattern(A,i){let o=this.getDecodeFinderCounters();o[0]=0,o[1]=0,o[2]=0,o[3]=0;let l=A.getSize(),u=!1,d=0;for(;d<l&&(u=!A.get(d),i!==u);)d++;let p=0,m=d;for(let y=d;y<l;y++)if(A.get(y)!==u)o[p]++;else{if(p===3){if(xr.isFinderPattern(o))return[m,y];m+=o[0]+o[1],o[0]=o[2],o[1]=o[3],o[2]=0,o[3]=0,p--}else p++;o[p]=1,u=!u}throw new D}parseFoundFinderPattern(A,i,o,l){let u=A.get(l[0]),d=l[0]-1;for(;d>=0&&u!==A.get(d);)d--;d++;const p=l[0]-d,m=this.getDecodeFinderCounters(),y=new Int32Array(m.length);S.arraycopy(m,0,y,1,m.length-1),y[0]=p;const C=this.parseFinderValue(y,Ot.FINDER_PATTERNS);let N=d,_=l[1];return o&&(N=A.getSize()-1-N,_=A.getSize()-1-_),new tl(C,[d,l[1]],N,_,i)}adjustOddEvenCounts(A,i){let o=ze.sum(new Int32Array(this.getOddCounts())),l=ze.sum(new Int32Array(this.getEvenCounts())),u=!1,d=!1,p=!1,m=!1;A?(o>12?d=!0:o<4&&(u=!0),l>12?m=!0:l<4&&(p=!0)):(o>11?d=!0:o<5&&(u=!0),l>10?m=!0:l<4&&(p=!0));let y=o+l-i,C=(o&1)===(A?1:0),N=(l&1)===1;if(y===1)if(C){if(N)throw new D;d=!0}else{if(!N)throw new D;m=!0}else if(y===-1)if(C){if(N)throw new D;u=!0}else{if(!N)throw new D;p=!0}else if(y===0){if(C){if(!N)throw new D;o<l?(u=!0,m=!0):(d=!0,p=!0)}else if(N)throw new D}else throw new D;if(u){if(d)throw new D;xr.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&xr.decrement(this.getOddCounts(),this.getOddRoundingErrors()),p){if(m)throw new D;xr.increment(this.getEvenCounts(),this.getOddRoundingErrors())}m&&xr.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ot.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Ot.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Ot.OUTSIDE_GSUM=[0,161,961,2015,2715],Ot.INSIDE_GSUM=[0,336,1036,1516],Ot.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Ot.INSIDE_ODD_WIDEST=[2,4,6,8],Ot.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class $s extends It{constructor(A,i){super(),this.readers=[],this.verbose=i===!0;const o=A?A.get(M.POSSIBLE_FORMATS):null,l=A&&A.get(M.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;o?((o.includes(j.EAN_13)||o.includes(j.UPC_A)||o.includes(j.EAN_8)||o.includes(j.UPC_E))&&this.readers.push(new Gu(A)),o.includes(j.CODE_39)&&this.readers.push(new Jt(l)),o.includes(j.CODE_128)&&this.readers.push(new ye),o.includes(j.ITF)&&this.readers.push(new ut),o.includes(j.RSS_14)&&this.readers.push(new Ot),o.includes(j.RSS_EXPANDED)&&this.readers.push(new se(this.verbose))):(this.readers.push(new Gu(A)),this.readers.push(new Jt),this.readers.push(new Gu(A)),this.readers.push(new ye),this.readers.push(new ut),this.readers.push(new Ot),this.readers.push(new se(this.verbose)))}decodeRow(A,i,o){for(let l=0;l<this.readers.length;l++)try{return this.readers[l].decodeRow(A,i,o)}catch{}throw new D}reset(){this.readers.forEach(A=>A.reset())}}class NC extends J{constructor(A=500,i){super(new $s(i),A,i)}}class At{constructor(A,i,o){this.ecCodewords=A,this.ecBlocks=[i],o&&this.ecBlocks.push(o)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class nt{constructor(A,i){this.count=A,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Je{constructor(A,i,o,l,u,d){this.versionNumber=A,this.symbolSizeRows=i,this.symbolSizeColumns=o,this.dataRegionSizeRows=l,this.dataRegionSizeColumns=u,this.ecBlocks=d;let p=0;const m=d.getECCodewords(),y=d.getECBlocks();for(let C of y)p+=C.getCount()*(C.getDataCodewords()+m);this.totalCodewords=p}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(A,i){if(A&1||i&1)throw new L;for(let o of Je.VERSIONS)if(o.symbolSizeRows===A&&o.symbolSizeColumns===i)return o;throw new L}toString(){return""+this.versionNumber}static buildVersions(){return[new Je(1,10,10,8,8,new At(5,new nt(1,3))),new Je(2,12,12,10,10,new At(7,new nt(1,5))),new Je(3,14,14,12,12,new At(10,new nt(1,8))),new Je(4,16,16,14,14,new At(12,new nt(1,12))),new Je(5,18,18,16,16,new At(14,new nt(1,18))),new Je(6,20,20,18,18,new At(18,new nt(1,22))),new Je(7,22,22,20,20,new At(20,new nt(1,30))),new Je(8,24,24,22,22,new At(24,new nt(1,36))),new Je(9,26,26,24,24,new At(28,new nt(1,44))),new Je(10,32,32,14,14,new At(36,new nt(1,62))),new Je(11,36,36,16,16,new At(42,new nt(1,86))),new Je(12,40,40,18,18,new At(48,new nt(1,114))),new Je(13,44,44,20,20,new At(56,new nt(1,144))),new Je(14,48,48,22,22,new At(68,new nt(1,174))),new Je(15,52,52,24,24,new At(42,new nt(2,102))),new Je(16,64,64,14,14,new At(56,new nt(2,140))),new Je(17,72,72,16,16,new At(36,new nt(4,92))),new Je(18,80,80,18,18,new At(48,new nt(4,114))),new Je(19,88,88,20,20,new At(56,new nt(4,144))),new Je(20,96,96,22,22,new At(68,new nt(4,174))),new Je(21,104,104,24,24,new At(56,new nt(6,136))),new Je(22,120,120,18,18,new At(68,new nt(6,175))),new Je(23,132,132,20,20,new At(62,new nt(8,163))),new Je(24,144,144,22,22,new At(62,new nt(8,156),new nt(2,155))),new Je(25,8,18,6,16,new At(7,new nt(1,5))),new Je(26,8,32,6,14,new At(11,new nt(1,10))),new Je(27,12,26,10,24,new At(14,new nt(1,16))),new Je(28,12,36,10,16,new At(18,new nt(1,22))),new Je(29,16,36,14,16,new At(24,new nt(1,32))),new Je(30,16,48,14,22,new At(28,new nt(1,49)))]}}Je.VERSIONS=Je.buildVersions();class Xu{constructor(A){const i=A.getHeight();if(i<8||i>144||i&1)throw new L;this.version=Xu.readVersion(A),this.mappingBitMatrix=this.extractDataRegion(A),this.readMappingMatrix=new Te(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(A){const i=A.getHeight(),o=A.getWidth();return Je.getVersionForDimensions(i,o)}readCodewords(){const A=new Int8Array(this.version.getTotalCodewords());let i=0,o=4,l=0;const u=this.mappingBitMatrix.getHeight(),d=this.mappingBitMatrix.getWidth();let p=!1,m=!1,y=!1,C=!1;do if(o===u&&l===0&&!p)A[i++]=this.readCorner1(u,d)&255,o-=2,l+=2,p=!0;else if(o===u-2&&l===0&&d&3&&!m)A[i++]=this.readCorner2(u,d)&255,o-=2,l+=2,m=!0;else if(o===u+4&&l===2&&!(d&7)&&!y)A[i++]=this.readCorner3(u,d)&255,o-=2,l+=2,y=!0;else if(o===u-2&&l===0&&(d&7)===4&&!C)A[i++]=this.readCorner4(u,d)&255,o-=2,l+=2,C=!0;else{do o<u&&l>=0&&!this.readMappingMatrix.get(l,o)&&(A[i++]=this.readUtah(o,l,u,d)&255),o-=2,l+=2;while(o>=0&&l<d);o+=1,l+=3;do o>=0&&l<d&&!this.readMappingMatrix.get(l,o)&&(A[i++]=this.readUtah(o,l,u,d)&255),o+=2,l-=2;while(o<u&&l>=0);o+=3,l+=1}while(o<u||l<d);if(i!==this.version.getTotalCodewords())throw new L;return A}readModule(A,i,o,l){return A<0&&(A+=o,i+=4-(o+4&7)),i<0&&(i+=l,A+=4-(l+4&7)),this.readMappingMatrix.set(i,A),this.mappingBitMatrix.get(i,A)}readUtah(A,i,o,l){let u=0;return this.readModule(A-2,i-2,o,l)&&(u|=1),u<<=1,this.readModule(A-2,i-1,o,l)&&(u|=1),u<<=1,this.readModule(A-1,i-2,o,l)&&(u|=1),u<<=1,this.readModule(A-1,i-1,o,l)&&(u|=1),u<<=1,this.readModule(A-1,i,o,l)&&(u|=1),u<<=1,this.readModule(A,i-2,o,l)&&(u|=1),u<<=1,this.readModule(A,i-1,o,l)&&(u|=1),u<<=1,this.readModule(A,i,o,l)&&(u|=1),u}readCorner1(A,i){let o=0;return this.readModule(A-1,0,A,i)&&(o|=1),o<<=1,this.readModule(A-1,1,A,i)&&(o|=1),o<<=1,this.readModule(A-1,2,A,i)&&(o|=1),o<<=1,this.readModule(0,i-2,A,i)&&(o|=1),o<<=1,this.readModule(0,i-1,A,i)&&(o|=1),o<<=1,this.readModule(1,i-1,A,i)&&(o|=1),o<<=1,this.readModule(2,i-1,A,i)&&(o|=1),o<<=1,this.readModule(3,i-1,A,i)&&(o|=1),o}readCorner2(A,i){let o=0;return this.readModule(A-3,0,A,i)&&(o|=1),o<<=1,this.readModule(A-2,0,A,i)&&(o|=1),o<<=1,this.readModule(A-1,0,A,i)&&(o|=1),o<<=1,this.readModule(0,i-4,A,i)&&(o|=1),o<<=1,this.readModule(0,i-3,A,i)&&(o|=1),o<<=1,this.readModule(0,i-2,A,i)&&(o|=1),o<<=1,this.readModule(0,i-1,A,i)&&(o|=1),o<<=1,this.readModule(1,i-1,A,i)&&(o|=1),o}readCorner3(A,i){let o=0;return this.readModule(A-1,0,A,i)&&(o|=1),o<<=1,this.readModule(A-1,i-1,A,i)&&(o|=1),o<<=1,this.readModule(0,i-3,A,i)&&(o|=1),o<<=1,this.readModule(0,i-2,A,i)&&(o|=1),o<<=1,this.readModule(0,i-1,A,i)&&(o|=1),o<<=1,this.readModule(1,i-3,A,i)&&(o|=1),o<<=1,this.readModule(1,i-2,A,i)&&(o|=1),o<<=1,this.readModule(1,i-1,A,i)&&(o|=1),o}readCorner4(A,i){let o=0;return this.readModule(A-3,0,A,i)&&(o|=1),o<<=1,this.readModule(A-2,0,A,i)&&(o|=1),o<<=1,this.readModule(A-1,0,A,i)&&(o|=1),o<<=1,this.readModule(0,i-2,A,i)&&(o|=1),o<<=1,this.readModule(0,i-1,A,i)&&(o|=1),o<<=1,this.readModule(1,i-1,A,i)&&(o|=1),o<<=1,this.readModule(2,i-1,A,i)&&(o|=1),o<<=1,this.readModule(3,i-1,A,i)&&(o|=1),o}extractDataRegion(A){const i=this.version.getSymbolSizeRows(),o=this.version.getSymbolSizeColumns();if(A.getHeight()!==i)throw new x("Dimension of bitMatrix must match the version size");const l=this.version.getDataRegionSizeRows(),u=this.version.getDataRegionSizeColumns(),d=i/l|0,p=o/u|0,m=d*l,y=p*u,C=new Te(y,m);for(let N=0;N<d;++N){const _=N*l;for(let O=0;O<p;++O){const P=O*u;for(let K=0;K<l;++K){const Y=N*(l+2)+1+K,$=_+K;for(let de=0;de<u;++de){const he=O*(u+2)+1+de;if(A.get(he,Y)){const ae=P+de;C.set(ae,$)}}}}}return C}}class Ju{constructor(A,i){this.numDataCodewords=A,this.codewords=i}static getDataBlocks(A,i){const o=i.getECBlocks();let l=0;const u=o.getECBlocks();for(let K of u)l+=K.getCount();const d=new Array(l);let p=0;for(let K of u)for(let Y=0;Y<K.getCount();Y++){const $=K.getDataCodewords(),de=o.getECCodewords()+$;d[p++]=new Ju($,new Uint8Array(de))}const y=d[0].codewords.length-o.getECCodewords(),C=y-1;let N=0;for(let K=0;K<C;K++)for(let Y=0;Y<p;Y++)d[Y].codewords[K]=A[N++];const _=i.getVersionNumber()===24,O=_?8:p;for(let K=0;K<O;K++)d[K].codewords[y-1]=A[N++];const P=d[0].codewords.length;for(let K=y;K<P;K++)for(let Y=0;Y<p;Y++){const $=_?(Y+8)%p:Y,de=_&&$>7?K-1:K;d[$].codewords[de]=A[N++]}if(N!==A.length)throw new x;return d}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Zu{constructor(A){this.bytes=A,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(A){if(A<1||A>32||A>this.available())throw new x(""+A);let i=0,o=this.bitOffset,l=this.byteOffset;const u=this.bytes;if(o>0){const d=8-o,p=A<d?A:d,m=d-p,y=255>>8-p<<m;i=(u[l]&y)>>m,A-=p,o+=p,o===8&&(o=0,l++)}if(A>0){for(;A>=8;)i=i<<8|u[l]&255,l++,A-=8;if(A>0){const d=8-A,p=255>>d<<d;i=i<<A|(u[l]&p)>>d,o+=A}}return this.bitOffset=o,this.byteOffset=l,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Zt;(function(F){F[F.PAD_ENCODE=0]="PAD_ENCODE",F[F.ASCII_ENCODE=1]="ASCII_ENCODE",F[F.C40_ENCODE=2]="C40_ENCODE",F[F.TEXT_ENCODE=3]="TEXT_ENCODE",F[F.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",F[F.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",F[F.BASE256_ENCODE=6]="BASE256_ENCODE"})(Zt||(Zt={}));class bA{static decode(A){const i=new Zu(A),o=new me,l=new me,u=new Array;let d=Zt.ASCII_ENCODE;do if(d===Zt.ASCII_ENCODE)d=this.decodeAsciiSegment(i,o,l);else{switch(d){case Zt.C40_ENCODE:this.decodeC40Segment(i,o);break;case Zt.TEXT_ENCODE:this.decodeTextSegment(i,o);break;case Zt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,o);break;case Zt.EDIFACT_ENCODE:this.decodeEdifactSegment(i,o);break;case Zt.BASE256_ENCODE:this.decodeBase256Segment(i,o,u);break;default:throw new L}d=Zt.ASCII_ENCODE}while(d!==Zt.PAD_ENCODE&&i.available()>0);return l.length()>0&&o.append(l.toString()),new te(A,o.toString(),u.length===0?null:u,null)}static decodeAsciiSegment(A,i,o){let l=!1;do{let u=A.readBits(8);if(u===0)throw new L;if(u<=128)return l&&(u+=128),i.append(String.fromCharCode(u-1)),Zt.ASCII_ENCODE;if(u===129)return Zt.PAD_ENCODE;if(u<=229){const d=u-130;d<10&&i.append("0"),i.append(""+d)}else switch(u){case 230:return Zt.C40_ENCODE;case 231:return Zt.BASE256_ENCODE;case 232:i.append("");break;case 233:case 234:break;case 235:l=!0;break;case 236:i.append("[)>05"),o.insert(0,"");break;case 237:i.append("[)>06"),o.insert(0,"");break;case 238:return Zt.ANSIX12_ENCODE;case 239:return Zt.TEXT_ENCODE;case 240:return Zt.EDIFACT_ENCODE;case 241:break;default:if(u!==254||A.available()!==0)throw new L;break}}while(A.available()>0);return Zt.ASCII_ENCODE}static decodeC40Segment(A,i){let o=!1;const l=[];let u=0;do{if(A.available()===8)return;const d=A.readBits(8);if(d===254)return;this.parseTwoBytes(d,A.readBits(8),l);for(let p=0;p<3;p++){const m=l[p];switch(u){case 0:if(m<3)u=m+1;else if(m<this.C40_BASIC_SET_CHARS.length){const y=this.C40_BASIC_SET_CHARS[m];o?(i.append(String.fromCharCode(y.charCodeAt(0)+128)),o=!1):i.append(y)}else throw new L;break;case 1:o?(i.append(String.fromCharCode(m+128)),o=!1):i.append(String.fromCharCode(m)),u=0;break;case 2:if(m<this.C40_SHIFT2_SET_CHARS.length){const y=this.C40_SHIFT2_SET_CHARS[m];o?(i.append(String.fromCharCode(y.charCodeAt(0)+128)),o=!1):i.append(y)}else switch(m){case 27:i.append("");break;case 30:o=!0;break;default:throw new L}u=0;break;case 3:o?(i.append(String.fromCharCode(m+224)),o=!1):i.append(String.fromCharCode(m+96)),u=0;break;default:throw new L}}}while(A.available()>0)}static decodeTextSegment(A,i){let o=!1,l=[],u=0;do{if(A.available()===8)return;const d=A.readBits(8);if(d===254)return;this.parseTwoBytes(d,A.readBits(8),l);for(let p=0;p<3;p++){const m=l[p];switch(u){case 0:if(m<3)u=m+1;else if(m<this.TEXT_BASIC_SET_CHARS.length){const y=this.TEXT_BASIC_SET_CHARS[m];o?(i.append(String.fromCharCode(y.charCodeAt(0)+128)),o=!1):i.append(y)}else throw new L;break;case 1:o?(i.append(String.fromCharCode(m+128)),o=!1):i.append(String.fromCharCode(m)),u=0;break;case 2:if(m<this.TEXT_SHIFT2_SET_CHARS.length){const y=this.TEXT_SHIFT2_SET_CHARS[m];o?(i.append(String.fromCharCode(y.charCodeAt(0)+128)),o=!1):i.append(y)}else switch(m){case 27:i.append("");break;case 30:o=!0;break;default:throw new L}u=0;break;case 3:if(m<this.TEXT_SHIFT3_SET_CHARS.length){const y=this.TEXT_SHIFT3_SET_CHARS[m];o?(i.append(String.fromCharCode(y.charCodeAt(0)+128)),o=!1):i.append(y),u=0}else throw new L;break;default:throw new L}}}while(A.available()>0)}static decodeAnsiX12Segment(A,i){const o=[];do{if(A.available()===8)return;const l=A.readBits(8);if(l===254)return;this.parseTwoBytes(l,A.readBits(8),o);for(let u=0;u<3;u++){const d=o[u];switch(d){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(d<14)i.append(String.fromCharCode(d+44));else if(d<40)i.append(String.fromCharCode(d+51));else throw new L;break}}}while(A.available()>0)}static parseTwoBytes(A,i,o){let l=(A<<8)+i-1,u=Math.floor(l/1600);o[0]=u,l-=u*1600,u=Math.floor(l/40),o[1]=u,o[2]=l-u*40}static decodeEdifactSegment(A,i){do{if(A.available()<=16)return;for(let o=0;o<4;o++){let l=A.readBits(6);if(l===31){const u=8-A.getBitOffset();u!==8&&A.readBits(u);return}l&32||(l|=64),i.append(String.fromCharCode(l))}}while(A.available()>0)}static decodeBase256Segment(A,i,o){let l=1+A.getByteOffset();const u=this.unrandomize255State(A.readBits(8),l++);let d;if(u===0?d=A.available()/8|0:u<250?d=u:d=250*(u-249)+this.unrandomize255State(A.readBits(8),l++),d<0)throw new L;const p=new Uint8Array(d);for(let m=0;m<d;m++){if(A.available()<8)throw new L;p[m]=this.unrandomize255State(A.readBits(8),l++)}o.push(p);try{i.append(Ne.decode(p,fe.ISO88591))}catch(m){throw new et("Platform does not support required encoding: "+m.message)}}static unrandomize255State(A,i){const o=149*i%255+1,l=A-o;return l>=0?l:l+256}}bA.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],bA.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],bA.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],bA.TEXT_SHIFT2_SET_CHARS=bA.C40_SHIFT2_SET_CHARS,bA.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class TC{constructor(){this.rsDecoder=new Xt(we.DATA_MATRIX_FIELD_256)}decode(A){const i=new Xu(A),o=i.getVersion(),l=i.readCodewords(),u=Ju.getDataBlocks(l,o);let d=0;for(let y of u)d+=y.getNumDataCodewords();const p=new Uint8Array(d),m=u.length;for(let y=0;y<m;y++){const C=u[y],N=C.getCodewords(),_=C.getNumDataCodewords();this.correctErrors(N,_);for(let O=0;O<_;O++)p[O*m+y]=N[O]}return bA.decode(p)}correctErrors(A,i){const o=new Int32Array(A);try{this.rsDecoder.decode(o,A.length-i)}catch{throw new E}for(let l=0;l<i;l++)A[l]=o[l]}}class Pt{constructor(A){this.image=A,this.rectangleDetector=new cn(this.image)}detect(){const A=this.rectangleDetector.detect();let i=this.detectSolid1(A);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new D;i=this.shiftToModuleCenter(i);const o=i[0],l=i[1],u=i[2],d=i[3];let p=this.transitionsBetween(o,d)+1,m=this.transitionsBetween(u,d)+1;(p&1)===1&&(p+=1),(m&1)===1&&(m+=1),4*p<7*m&&4*m<7*p&&(p=m=Math.max(p,m));let y=Pt.sampleGrid(this.image,o,l,u,d,p,m);return new gs(y,[o,l,u,d])}static shiftPoint(A,i,o){let l=(i.getX()-A.getX())/(o+1),u=(i.getY()-A.getY())/(o+1);return new Be(A.getX()+l,A.getY()+u)}static moveAway(A,i,o){let l=A.getX(),u=A.getY();return l<i?l-=1:l+=1,u<o?u-=1:u+=1,new Be(l,u)}detectSolid1(A){let i=A[0],o=A[1],l=A[3],u=A[2],d=this.transitionsBetween(i,o),p=this.transitionsBetween(o,l),m=this.transitionsBetween(l,u),y=this.transitionsBetween(u,i),C=d,N=[u,i,o,l];return C>p&&(C=p,N[0]=i,N[1]=o,N[2]=l,N[3]=u),C>m&&(C=m,N[0]=o,N[1]=l,N[2]=u,N[3]=i),C>y&&(N[0]=l,N[1]=u,N[2]=i,N[3]=o),N}detectSolid2(A){let i=A[0],o=A[1],l=A[2],u=A[3],d=this.transitionsBetween(i,u),p=Pt.shiftPoint(o,l,(d+1)*4),m=Pt.shiftPoint(l,o,(d+1)*4),y=this.transitionsBetween(p,i),C=this.transitionsBetween(m,u);return y<C?(A[0]=i,A[1]=o,A[2]=l,A[3]=u):(A[0]=o,A[1]=l,A[2]=u,A[3]=i),A}correctTopRight(A){let i=A[0],o=A[1],l=A[2],u=A[3],d=this.transitionsBetween(i,u),p=this.transitionsBetween(o,u),m=Pt.shiftPoint(i,o,(p+1)*4),y=Pt.shiftPoint(l,o,(d+1)*4);d=this.transitionsBetween(m,u),p=this.transitionsBetween(y,u);let C=new Be(u.getX()+(l.getX()-o.getX())/(d+1),u.getY()+(l.getY()-o.getY())/(d+1)),N=new Be(u.getX()+(i.getX()-o.getX())/(p+1),u.getY()+(i.getY()-o.getY())/(p+1));if(!this.isValid(C))return this.isValid(N)?N:null;if(!this.isValid(N))return C;let _=this.transitionsBetween(m,C)+this.transitionsBetween(y,C),O=this.transitionsBetween(m,N)+this.transitionsBetween(y,N);return _>O?C:N}shiftToModuleCenter(A){let i=A[0],o=A[1],l=A[2],u=A[3],d=this.transitionsBetween(i,u)+1,p=this.transitionsBetween(l,u)+1,m=Pt.shiftPoint(i,o,p*4),y=Pt.shiftPoint(l,o,d*4);d=this.transitionsBetween(m,u)+1,p=this.transitionsBetween(y,u)+1,(d&1)===1&&(d+=1),(p&1)===1&&(p+=1);let C=(i.getX()+o.getX()+l.getX()+u.getX())/4,N=(i.getY()+o.getY()+l.getY()+u.getY())/4;i=Pt.moveAway(i,C,N),o=Pt.moveAway(o,C,N),l=Pt.moveAway(l,C,N),u=Pt.moveAway(u,C,N);let _,O;return m=Pt.shiftPoint(i,o,p*4),m=Pt.shiftPoint(m,u,d*4),_=Pt.shiftPoint(o,i,p*4),_=Pt.shiftPoint(_,l,d*4),y=Pt.shiftPoint(l,u,p*4),y=Pt.shiftPoint(y,o,d*4),O=Pt.shiftPoint(u,l,p*4),O=Pt.shiftPoint(O,i,d*4),[m,_,y,O]}isValid(A){return A.getX()>=0&&A.getX()<this.image.getWidth()&&A.getY()>0&&A.getY()<this.image.getHeight()}static sampleGrid(A,i,o,l,u,d,p){return xt.getInstance().sampleGrid(A,d,p,.5,.5,d-.5,.5,d-.5,p-.5,.5,p-.5,i.getX(),i.getY(),u.getX(),u.getY(),l.getX(),l.getY(),o.getX(),o.getY())}transitionsBetween(A,i){let o=Math.trunc(A.getX()),l=Math.trunc(A.getY()),u=Math.trunc(i.getX()),d=Math.trunc(i.getY()),p=Math.abs(d-l)>Math.abs(u-o);if(p){let K=o;o=l,l=K,K=u,u=d,d=K}let m=Math.abs(u-o),y=Math.abs(d-l),C=-m/2,N=l<d?1:-1,_=o<u?1:-1,O=0,P=this.image.get(p?l:o,p?o:l);for(let K=o,Y=l;K!==u;K+=_){let $=this.image.get(p?Y:K,p?K:Y);if($!==P&&(O++,P=$),C+=y,C>0){if(Y===d)break;Y+=N,C-=m}}return O}}class EA{constructor(){this.decoder=new TC}decode(A,i=null){let o,l;if(i!=null&&i.has(M.PURE_BARCODE)){const y=EA.extractPureBits(A.getBlackMatrix());o=this.decoder.decode(y),l=EA.NO_POINTS}else{const y=new Pt(A.getBlackMatrix()).detect();o=this.decoder.decode(y.getBits()),l=y.getPoints()}const u=o.getRawBytes(),d=new ne(o.getText(),u,8*u.length,l,j.DATA_MATRIX,S.currentTimeMillis()),p=o.getByteSegments();p!=null&&d.putMetadata(W.BYTE_SEGMENTS,p);const m=o.getECLevel();return m!=null&&d.putMetadata(W.ERROR_CORRECTION_LEVEL,m),d}reset(){}static extractPureBits(A){const i=A.getTopLeftOnBit(),o=A.getBottomRightOnBit();if(i==null||o==null)throw new D;const l=this.moduleSize(i,A);let u=i[1];const d=o[1];let p=i[0];const y=(o[0]-p+1)/l,C=(d-u+1)/l;if(y<=0||C<=0)throw new D;const N=l/2;u+=N,p+=N;const _=new Te(y,C);for(let O=0;O<C;O++){const P=u+O*l;for(let K=0;K<y;K++)A.get(p+K*l,P)&&_.set(K,O)}return _}static moduleSize(A,i){const o=i.getWidth();let l=A[0];const u=A[1];for(;l<o&&i.get(l,u);)l++;if(l===o)throw new D;const d=l-A[0];if(d===0)throw new D;return d}}EA.NO_POINTS=[];class UC extends J{constructor(A=500){super(new EA,A)}}var ei;(function(F){F[F.L=0]="L",F[F.M=1]="M",F[F.Q=2]="Q",F[F.H=3]="H"})(ei||(ei={}));class ft{constructor(A,i,o){this.value=A,this.stringValue=i,this.bits=o,ft.FOR_BITS.set(o,this),ft.FOR_VALUE.set(A,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(A){switch(A){case"L":return ft.L;case"M":return ft.M;case"Q":return ft.Q;case"H":return ft.H;default:throw new B(A+"not available")}}toString(){return this.stringValue}equals(A){if(!(A instanceof ft))return!1;const i=A;return this.value===i.value}static forBits(A){if(A<0||A>=ft.FOR_BITS.size)throw new x;return ft.FOR_BITS.get(A)}}ft.FOR_BITS=new Map,ft.FOR_VALUE=new Map,ft.L=new ft(ei.L,"L",1),ft.M=new ft(ei.M,"M",0),ft.Q=new ft(ei.Q,"Q",3),ft.H=new ft(ei.H,"H",2);class Br{constructor(A){this.errorCorrectionLevel=ft.forBits(A>>3&3),this.dataMask=A&7}static numBitsDiffering(A,i){return U.bitCount(A^i)}static decodeFormatInformation(A,i){const o=Br.doDecodeFormatInformation(A,i);return o!==null?o:Br.doDecodeFormatInformation(A^Br.FORMAT_INFO_MASK_QR,i^Br.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(A,i){let o=Number.MAX_SAFE_INTEGER,l=0;for(const u of Br.FORMAT_INFO_DECODE_LOOKUP){const d=u[0];if(d===A||d===i)return new Br(u[1]);let p=Br.numBitsDiffering(A,d);p<o&&(l=u[1],o=p),A!==i&&(p=Br.numBitsDiffering(i,d),p<o&&(l=u[1],o=p))}return o<=3?new Br(l):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(A){if(!(A instanceof Br))return!1;const i=A;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}Br.FORMAT_INFO_MASK_QR=21522,Br.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Z{constructor(A,...i){this.ecCodewordsPerBlock=A,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let A=0;const i=this.ecBlocks;for(const o of i)A+=o.getCount();return A}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class Q{constructor(A,i){this.count=A,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class _e{constructor(A,i,...o){this.versionNumber=A,this.alignmentPatternCenters=i,this.ecBlocks=o;let l=0;const u=o[0].getECCodewordsPerBlock(),d=o[0].getECBlocks();for(const p of d)l+=p.getCount()*(p.getDataCodewords()+u);this.totalCodewords=l}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(A){return this.ecBlocks[A.getValue()]}static getProvisionalVersionForDimension(A){if(A%4!==1)throw new L;try{return this.getVersionForNumber((A-17)/4)}catch{throw new L}}static getVersionForNumber(A){if(A<1||A>40)throw new x;return _e.VERSIONS[A-1]}static decodeVersionInformation(A){let i=Number.MAX_SAFE_INTEGER,o=0;for(let l=0;l<_e.VERSION_DECODE_INFO.length;l++){const u=_e.VERSION_DECODE_INFO[l];if(u===A)return _e.getVersionForNumber(l+7);const d=Br.numBitsDiffering(A,u);d<i&&(o=l+7,i=d)}return i<=3?_e.getVersionForNumber(o):null}buildFunctionPattern(){const A=this.getDimensionForVersion(),i=new Te(A);i.setRegion(0,0,9,9),i.setRegion(A-8,0,8,9),i.setRegion(0,A-8,9,8);const o=this.alignmentPatternCenters.length;for(let l=0;l<o;l++){const u=this.alignmentPatternCenters[l]-2;for(let d=0;d<o;d++)l===0&&(d===0||d===o-1)||l===o-1&&d===0||i.setRegion(this.alignmentPatternCenters[d]-2,u,5,5)}return i.setRegion(6,9,1,A-17),i.setRegion(9,6,A-17,1),this.versionNumber>6&&(i.setRegion(A-11,0,3,6),i.setRegion(0,A-11,6,3)),i}toString(){return""+this.versionNumber}}_e.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),_e.VERSIONS=[new _e(1,new Int32Array(0),new Z(7,new Q(1,19)),new Z(10,new Q(1,16)),new Z(13,new Q(1,13)),new Z(17,new Q(1,9))),new _e(2,Int32Array.from([6,18]),new Z(10,new Q(1,34)),new Z(16,new Q(1,28)),new Z(22,new Q(1,22)),new Z(28,new Q(1,16))),new _e(3,Int32Array.from([6,22]),new Z(15,new Q(1,55)),new Z(26,new Q(1,44)),new Z(18,new Q(2,17)),new Z(22,new Q(2,13))),new _e(4,Int32Array.from([6,26]),new Z(20,new Q(1,80)),new Z(18,new Q(2,32)),new Z(26,new Q(2,24)),new Z(16,new Q(4,9))),new _e(5,Int32Array.from([6,30]),new Z(26,new Q(1,108)),new Z(24,new Q(2,43)),new Z(18,new Q(2,15),new Q(2,16)),new Z(22,new Q(2,11),new Q(2,12))),new _e(6,Int32Array.from([6,34]),new Z(18,new Q(2,68)),new Z(16,new Q(4,27)),new Z(24,new Q(4,19)),new Z(28,new Q(4,15))),new _e(7,Int32Array.from([6,22,38]),new Z(20,new Q(2,78)),new Z(18,new Q(4,31)),new Z(18,new Q(2,14),new Q(4,15)),new Z(26,new Q(4,13),new Q(1,14))),new _e(8,Int32Array.from([6,24,42]),new Z(24,new Q(2,97)),new Z(22,new Q(2,38),new Q(2,39)),new Z(22,new Q(4,18),new Q(2,19)),new Z(26,new Q(4,14),new Q(2,15))),new _e(9,Int32Array.from([6,26,46]),new Z(30,new Q(2,116)),new Z(22,new Q(3,36),new Q(2,37)),new Z(20,new Q(4,16),new Q(4,17)),new Z(24,new Q(4,12),new Q(4,13))),new _e(10,Int32Array.from([6,28,50]),new Z(18,new Q(2,68),new Q(2,69)),new Z(26,new Q(4,43),new Q(1,44)),new Z(24,new Q(6,19),new Q(2,20)),new Z(28,new Q(6,15),new Q(2,16))),new _e(11,Int32Array.from([6,30,54]),new Z(20,new Q(4,81)),new Z(30,new Q(1,50),new Q(4,51)),new Z(28,new Q(4,22),new Q(4,23)),new Z(24,new Q(3,12),new Q(8,13))),new _e(12,Int32Array.from([6,32,58]),new Z(24,new Q(2,92),new Q(2,93)),new Z(22,new Q(6,36),new Q(2,37)),new Z(26,new Q(4,20),new Q(6,21)),new Z(28,new Q(7,14),new Q(4,15))),new _e(13,Int32Array.from([6,34,62]),new Z(26,new Q(4,107)),new Z(22,new Q(8,37),new Q(1,38)),new Z(24,new Q(8,20),new Q(4,21)),new Z(22,new Q(12,11),new Q(4,12))),new _e(14,Int32Array.from([6,26,46,66]),new Z(30,new Q(3,115),new Q(1,116)),new Z(24,new Q(4,40),new Q(5,41)),new Z(20,new Q(11,16),new Q(5,17)),new Z(24,new Q(11,12),new Q(5,13))),new _e(15,Int32Array.from([6,26,48,70]),new Z(22,new Q(5,87),new Q(1,88)),new Z(24,new Q(5,41),new Q(5,42)),new Z(30,new Q(5,24),new Q(7,25)),new Z(24,new Q(11,12),new Q(7,13))),new _e(16,Int32Array.from([6,26,50,74]),new Z(24,new Q(5,98),new Q(1,99)),new Z(28,new Q(7,45),new Q(3,46)),new Z(24,new Q(15,19),new Q(2,20)),new Z(30,new Q(3,15),new Q(13,16))),new _e(17,Int32Array.from([6,30,54,78]),new Z(28,new Q(1,107),new Q(5,108)),new Z(28,new Q(10,46),new Q(1,47)),new Z(28,new Q(1,22),new Q(15,23)),new Z(28,new Q(2,14),new Q(17,15))),new _e(18,Int32Array.from([6,30,56,82]),new Z(30,new Q(5,120),new Q(1,121)),new Z(26,new Q(9,43),new Q(4,44)),new Z(28,new Q(17,22),new Q(1,23)),new Z(28,new Q(2,14),new Q(19,15))),new _e(19,Int32Array.from([6,30,58,86]),new Z(28,new Q(3,113),new Q(4,114)),new Z(26,new Q(3,44),new Q(11,45)),new Z(26,new Q(17,21),new Q(4,22)),new Z(26,new Q(9,13),new Q(16,14))),new _e(20,Int32Array.from([6,34,62,90]),new Z(28,new Q(3,107),new Q(5,108)),new Z(26,new Q(3,41),new Q(13,42)),new Z(30,new Q(15,24),new Q(5,25)),new Z(28,new Q(15,15),new Q(10,16))),new _e(21,Int32Array.from([6,28,50,72,94]),new Z(28,new Q(4,116),new Q(4,117)),new Z(26,new Q(17,42)),new Z(28,new Q(17,22),new Q(6,23)),new Z(30,new Q(19,16),new Q(6,17))),new _e(22,Int32Array.from([6,26,50,74,98]),new Z(28,new Q(2,111),new Q(7,112)),new Z(28,new Q(17,46)),new Z(30,new Q(7,24),new Q(16,25)),new Z(24,new Q(34,13))),new _e(23,Int32Array.from([6,30,54,78,102]),new Z(30,new Q(4,121),new Q(5,122)),new Z(28,new Q(4,47),new Q(14,48)),new Z(30,new Q(11,24),new Q(14,25)),new Z(30,new Q(16,15),new Q(14,16))),new _e(24,Int32Array.from([6,28,54,80,106]),new Z(30,new Q(6,117),new Q(4,118)),new Z(28,new Q(6,45),new Q(14,46)),new Z(30,new Q(11,24),new Q(16,25)),new Z(30,new Q(30,16),new Q(2,17))),new _e(25,Int32Array.from([6,32,58,84,110]),new Z(26,new Q(8,106),new Q(4,107)),new Z(28,new Q(8,47),new Q(13,48)),new Z(30,new Q(7,24),new Q(22,25)),new Z(30,new Q(22,15),new Q(13,16))),new _e(26,Int32Array.from([6,30,58,86,114]),new Z(28,new Q(10,114),new Q(2,115)),new Z(28,new Q(19,46),new Q(4,47)),new Z(28,new Q(28,22),new Q(6,23)),new Z(30,new Q(33,16),new Q(4,17))),new _e(27,Int32Array.from([6,34,62,90,118]),new Z(30,new Q(8,122),new Q(4,123)),new Z(28,new Q(22,45),new Q(3,46)),new Z(30,new Q(8,23),new Q(26,24)),new Z(30,new Q(12,15),new Q(28,16))),new _e(28,Int32Array.from([6,26,50,74,98,122]),new Z(30,new Q(3,117),new Q(10,118)),new Z(28,new Q(3,45),new Q(23,46)),new Z(30,new Q(4,24),new Q(31,25)),new Z(30,new Q(11,15),new Q(31,16))),new _e(29,Int32Array.from([6,30,54,78,102,126]),new Z(30,new Q(7,116),new Q(7,117)),new Z(28,new Q(21,45),new Q(7,46)),new Z(30,new Q(1,23),new Q(37,24)),new Z(30,new Q(19,15),new Q(26,16))),new _e(30,Int32Array.from([6,26,52,78,104,130]),new Z(30,new Q(5,115),new Q(10,116)),new Z(28,new Q(19,47),new Q(10,48)),new Z(30,new Q(15,24),new Q(25,25)),new Z(30,new Q(23,15),new Q(25,16))),new _e(31,Int32Array.from([6,30,56,82,108,134]),new Z(30,new Q(13,115),new Q(3,116)),new Z(28,new Q(2,46),new Q(29,47)),new Z(30,new Q(42,24),new Q(1,25)),new Z(30,new Q(23,15),new Q(28,16))),new _e(32,Int32Array.from([6,34,60,86,112,138]),new Z(30,new Q(17,115)),new Z(28,new Q(10,46),new Q(23,47)),new Z(30,new Q(10,24),new Q(35,25)),new Z(30,new Q(19,15),new Q(35,16))),new _e(33,Int32Array.from([6,30,58,86,114,142]),new Z(30,new Q(17,115),new Q(1,116)),new Z(28,new Q(14,46),new Q(21,47)),new Z(30,new Q(29,24),new Q(19,25)),new Z(30,new Q(11,15),new Q(46,16))),new _e(34,Int32Array.from([6,34,62,90,118,146]),new Z(30,new Q(13,115),new Q(6,116)),new Z(28,new Q(14,46),new Q(23,47)),new Z(30,new Q(44,24),new Q(7,25)),new Z(30,new Q(59,16),new Q(1,17))),new _e(35,Int32Array.from([6,30,54,78,102,126,150]),new Z(30,new Q(12,121),new Q(7,122)),new Z(28,new Q(12,47),new Q(26,48)),new Z(30,new Q(39,24),new Q(14,25)),new Z(30,new Q(22,15),new Q(41,16))),new _e(36,Int32Array.from([6,24,50,76,102,128,154]),new Z(30,new Q(6,121),new Q(14,122)),new Z(28,new Q(6,47),new Q(34,48)),new Z(30,new Q(46,24),new Q(10,25)),new Z(30,new Q(2,15),new Q(64,16))),new _e(37,Int32Array.from([6,28,54,80,106,132,158]),new Z(30,new Q(17,122),new Q(4,123)),new Z(28,new Q(29,46),new Q(14,47)),new Z(30,new Q(49,24),new Q(10,25)),new Z(30,new Q(24,15),new Q(46,16))),new _e(38,Int32Array.from([6,32,58,84,110,136,162]),new Z(30,new Q(4,122),new Q(18,123)),new Z(28,new Q(13,46),new Q(32,47)),new Z(30,new Q(48,24),new Q(14,25)),new Z(30,new Q(42,15),new Q(32,16))),new _e(39,Int32Array.from([6,26,54,82,110,138,166]),new Z(30,new Q(20,117),new Q(4,118)),new Z(28,new Q(40,47),new Q(7,48)),new Z(30,new Q(43,24),new Q(22,25)),new Z(30,new Q(10,15),new Q(67,16))),new _e(40,Int32Array.from([6,30,58,86,114,142,170]),new Z(30,new Q(19,118),new Q(6,119)),new Z(28,new Q(18,47),new Q(31,48)),new Z(30,new Q(34,24),new Q(34,25)),new Z(30,new Q(20,15),new Q(61,16)))];var nr;(function(F){F[F.DATA_MASK_000=0]="DATA_MASK_000",F[F.DATA_MASK_001=1]="DATA_MASK_001",F[F.DATA_MASK_010=2]="DATA_MASK_010",F[F.DATA_MASK_011=3]="DATA_MASK_011",F[F.DATA_MASK_100=4]="DATA_MASK_100",F[F.DATA_MASK_101=5]="DATA_MASK_101",F[F.DATA_MASK_110=6]="DATA_MASK_110",F[F.DATA_MASK_111=7]="DATA_MASK_111"})(nr||(nr={}));class dn{constructor(A,i){this.value=A,this.isMasked=i}unmaskBitMatrix(A,i){for(let o=0;o<i;o++)for(let l=0;l<i;l++)this.isMasked(o,l)&&A.flip(l,o)}}dn.values=new Map([[nr.DATA_MASK_000,new dn(nr.DATA_MASK_000,(F,A)=>(F+A&1)===0)],[nr.DATA_MASK_001,new dn(nr.DATA_MASK_001,(F,A)=>(F&1)===0)],[nr.DATA_MASK_010,new dn(nr.DATA_MASK_010,(F,A)=>A%3===0)],[nr.DATA_MASK_011,new dn(nr.DATA_MASK_011,(F,A)=>(F+A)%3===0)],[nr.DATA_MASK_100,new dn(nr.DATA_MASK_100,(F,A)=>(Math.floor(F/2)+Math.floor(A/3)&1)===0)],[nr.DATA_MASK_101,new dn(nr.DATA_MASK_101,(F,A)=>F*A%6===0)],[nr.DATA_MASK_110,new dn(nr.DATA_MASK_110,(F,A)=>F*A%6<3)],[nr.DATA_MASK_111,new dn(nr.DATA_MASK_111,(F,A)=>(F+A+F*A%3&1)===0)]]);class _C{constructor(A){const i=A.getHeight();if(i<21||(i&3)!==1)throw new L;this.bitMatrix=A}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let A=0;for(let u=0;u<6;u++)A=this.copyBit(u,8,A);A=this.copyBit(7,8,A),A=this.copyBit(8,8,A),A=this.copyBit(8,7,A);for(let u=5;u>=0;u--)A=this.copyBit(8,u,A);const i=this.bitMatrix.getHeight();let o=0;const l=i-7;for(let u=i-1;u>=l;u--)o=this.copyBit(8,u,o);for(let u=i-8;u<i;u++)o=this.copyBit(u,8,o);if(this.parsedFormatInfo=Br.decodeFormatInformation(A,o),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new L}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const A=this.bitMatrix.getHeight(),i=Math.floor((A-17)/4);if(i<=6)return _e.getVersionForNumber(i);let o=0;const l=A-11;for(let d=5;d>=0;d--)for(let p=A-9;p>=l;p--)o=this.copyBit(p,d,o);let u=_e.decodeVersionInformation(o);if(u!==null&&u.getDimensionForVersion()===A)return this.parsedVersion=u,u;o=0;for(let d=5;d>=0;d--)for(let p=A-9;p>=l;p--)o=this.copyBit(d,p,o);if(u=_e.decodeVersionInformation(o),u!==null&&u.getDimensionForVersion()===A)return this.parsedVersion=u,u;throw new L}copyBit(A,i,o){return(this.isMirror?this.bitMatrix.get(i,A):this.bitMatrix.get(A,i))?o<<1|1:o<<1}readCodewords(){const A=this.readFormatInformation(),i=this.readVersion(),o=dn.values.get(A.getDataMask()),l=this.bitMatrix.getHeight();o.unmaskBitMatrix(this.bitMatrix,l);const u=i.buildFunctionPattern();let d=!0;const p=new Uint8Array(i.getTotalCodewords());let m=0,y=0,C=0;for(let N=l-1;N>0;N-=2){N===6&&N--;for(let _=0;_<l;_++){const O=d?l-1-_:_;for(let P=0;P<2;P++)u.get(N-P,O)||(C++,y<<=1,this.bitMatrix.get(N-P,O)&&(y|=1),C===8&&(p[m++]=y,C=0,y=0))}d=!d}if(m!==i.getTotalCodewords())throw new L;return p}remask(){if(this.parsedFormatInfo===null)return;const A=dn.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();A.unmaskBitMatrix(this.bitMatrix,i)}setMirror(A){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=A}mirror(){const A=this.bitMatrix;for(let i=0,o=A.getWidth();i<o;i++)for(let l=i+1,u=A.getHeight();l<u;l++)A.get(i,l)!==A.get(l,i)&&(A.flip(l,i),A.flip(i,l))}}class qu{constructor(A,i){this.numDataCodewords=A,this.codewords=i}static getDataBlocks(A,i,o){if(A.length!==i.getTotalCodewords())throw new x;const l=i.getECBlocksForLevel(o);let u=0;const d=l.getECBlocks();for(const P of d)u+=P.getCount();const p=new Array(u);let m=0;for(const P of d)for(let K=0;K<P.getCount();K++){const Y=P.getDataCodewords(),$=l.getECCodewordsPerBlock()+Y;p[m++]=new qu(Y,new Uint8Array($))}const y=p[0].codewords.length;let C=p.length-1;for(;C>=0&&p[C].codewords.length!==y;)C--;C++;const N=y-l.getECCodewordsPerBlock();let _=0;for(let P=0;P<N;P++)for(let K=0;K<m;K++)p[K].codewords[P]=A[_++];for(let P=C;P<m;P++)p[P].codewords[N]=A[_++];const O=p[0].codewords.length;for(let P=N;P<O;P++)for(let K=0;K<m;K++){const Y=K<C?P:P+1;p[K].codewords[Y]=A[_++]}return p}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var hn;(function(F){F[F.TERMINATOR=0]="TERMINATOR",F[F.NUMERIC=1]="NUMERIC",F[F.ALPHANUMERIC=2]="ALPHANUMERIC",F[F.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",F[F.BYTE=4]="BYTE",F[F.ECI=5]="ECI",F[F.KANJI=6]="KANJI",F[F.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",F[F.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",F[F.HANZI=9]="HANZI"})(hn||(hn={}));class Qe{constructor(A,i,o,l){this.value=A,this.stringValue=i,this.characterCountBitsForVersions=o,this.bits=l,Qe.FOR_BITS.set(l,this),Qe.FOR_VALUE.set(A,this)}static forBits(A){const i=Qe.FOR_BITS.get(A);if(i===void 0)throw new x;return i}getCharacterCountBits(A){const i=A.getVersionNumber();let o;return i<=9?o=0:i<=26?o=1:o=2,this.characterCountBitsForVersions[o]}getValue(){return this.value}getBits(){return this.bits}equals(A){if(!(A instanceof Qe))return!1;const i=A;return this.value===i.value}toString(){return this.stringValue}}Qe.FOR_BITS=new Map,Qe.FOR_VALUE=new Map,Qe.TERMINATOR=new Qe(hn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Qe.NUMERIC=new Qe(hn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Qe.ALPHANUMERIC=new Qe(hn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Qe.STRUCTURED_APPEND=new Qe(hn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Qe.BYTE=new Qe(hn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Qe.ECI=new Qe(hn.ECI,"ECI",Int32Array.from([0,0,0]),7),Qe.KANJI=new Qe(hn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Qe.FNC1_FIRST_POSITION=new Qe(hn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Qe.FNC1_SECOND_POSITION=new Qe(hn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Qe.HANZI=new Qe(hn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Ft{static decode(A,i,o,l){const u=new Zu(A);let d=new me;const p=new Array;let m=-1,y=-1;try{let C=null,N=!1,_;do{if(u.available()<4)_=Qe.TERMINATOR;else{const O=u.readBits(4);_=Qe.forBits(O)}switch(_){case Qe.TERMINATOR:break;case Qe.FNC1_FIRST_POSITION:case Qe.FNC1_SECOND_POSITION:N=!0;break;case Qe.STRUCTURED_APPEND:if(u.available()<16)throw new L;m=u.readBits(8),y=u.readBits(8);break;case Qe.ECI:const O=Ft.parseECIValue(u);if(C=G.getCharacterSetECIByValue(O),C===null)throw new L;break;case Qe.HANZI:const P=u.readBits(4),K=u.readBits(_.getCharacterCountBits(i));P===Ft.GB2312_SUBSET&&Ft.decodeHanziSegment(u,d,K);break;default:const Y=u.readBits(_.getCharacterCountBits(i));switch(_){case Qe.NUMERIC:Ft.decodeNumericSegment(u,d,Y);break;case Qe.ALPHANUMERIC:Ft.decodeAlphanumericSegment(u,d,Y,N);break;case Qe.BYTE:Ft.decodeByteSegment(u,d,Y,C,p,l);break;case Qe.KANJI:Ft.decodeKanjiSegment(u,d,Y);break;default:throw new L}break}}while(_!==Qe.TERMINATOR)}catch{throw new L}return new te(A,d.toString(),p.length===0?null:p,o===null?null:o.toString(),m,y)}static decodeHanziSegment(A,i,o){if(o*13>A.available())throw new L;const l=new Uint8Array(2*o);let u=0;for(;o>0;){const d=A.readBits(13);let p=d/96<<8&4294967295|d%96;p<959?p+=41377:p+=42657,l[u]=p>>8&255,l[u+1]=p&255,u+=2,o--}try{i.append(Ne.decode(l,fe.GB2312))}catch(d){throw new L(d)}}static decodeKanjiSegment(A,i,o){if(o*13>A.available())throw new L;const l=new Uint8Array(2*o);let u=0;for(;o>0;){const d=A.readBits(13);let p=d/192<<8&4294967295|d%192;p<7936?p+=33088:p+=49472,l[u]=p>>8,l[u+1]=p,u+=2,o--}try{i.append(Ne.decode(l,fe.SHIFT_JIS))}catch(d){throw new L(d)}}static decodeByteSegment(A,i,o,l,u,d){if(8*o>A.available())throw new L;const p=new Uint8Array(o);for(let y=0;y<o;y++)p[y]=A.readBits(8);let m;l===null?m=fe.guessEncoding(p,d):m=l.getName();try{i.append(Ne.decode(p,m))}catch(y){throw new L(y)}u.push(p)}static toAlphaNumericChar(A){if(A>=Ft.ALPHANUMERIC_CHARS.length)throw new L;return Ft.ALPHANUMERIC_CHARS[A]}static decodeAlphanumericSegment(A,i,o,l){const u=i.length();for(;o>1;){if(A.available()<11)throw new L;const d=A.readBits(11);i.append(Ft.toAlphaNumericChar(Math.floor(d/45))),i.append(Ft.toAlphaNumericChar(d%45)),o-=2}if(o===1){if(A.available()<6)throw new L;i.append(Ft.toAlphaNumericChar(A.readBits(6)))}if(l)for(let d=u;d<i.length();d++)i.charAt(d)==="%"&&(d<i.length()-1&&i.charAt(d+1)==="%"?i.deleteCharAt(d+1):i.setCharAt(d,""))}static decodeNumericSegment(A,i,o){for(;o>=3;){if(A.available()<10)throw new L;const l=A.readBits(10);if(l>=1e3)throw new L;i.append(Ft.toAlphaNumericChar(Math.floor(l/100))),i.append(Ft.toAlphaNumericChar(Math.floor(l/10)%10)),i.append(Ft.toAlphaNumericChar(l%10)),o-=3}if(o===2){if(A.available()<7)throw new L;const l=A.readBits(7);if(l>=100)throw new L;i.append(Ft.toAlphaNumericChar(Math.floor(l/10))),i.append(Ft.toAlphaNumericChar(l%10))}else if(o===1){if(A.available()<4)throw new L;const l=A.readBits(4);if(l>=10)throw new L;i.append(Ft.toAlphaNumericChar(l))}}static parseECIValue(A){const i=A.readBits(8);if(!(i&128))return i&127;if((i&192)===128){const o=A.readBits(8);return(i&63)<<8&4294967295|o}if((i&224)===192){const o=A.readBits(16);return(i&31)<<16&4294967295|o}throw new L}}Ft.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Ft.GB2312_SUBSET=1;class Bg{constructor(A){this.mirrored=A}isMirrored(){return this.mirrored}applyMirroredCorrection(A){if(!this.mirrored||A===null||A.length<3)return;const i=A[0];A[0]=A[2],A[2]=i}}class kC{constructor(){this.rsDecoder=new Xt(we.QR_CODE_FIELD_256)}decodeBooleanArray(A,i){return this.decodeBitMatrix(Te.parseFromBooleanArray(A),i)}decodeBitMatrix(A,i){const o=new _C(A);let l=null;try{return this.decodeBitMatrixParser(o,i)}catch(u){l=u}try{o.remask(),o.setMirror(!0),o.readVersion(),o.readFormatInformation(),o.mirror();const u=this.decodeBitMatrixParser(o,i);return u.setOther(new Bg(!0)),u}catch(u){throw l!==null?l:u}}decodeBitMatrixParser(A,i){const o=A.readVersion(),l=A.readFormatInformation().getErrorCorrectionLevel(),u=A.readCodewords(),d=qu.getDataBlocks(u,o,l);let p=0;for(const C of d)p+=C.getNumDataCodewords();const m=new Uint8Array(p);let y=0;for(const C of d){const N=C.getCodewords(),_=C.getNumDataCodewords();this.correctErrors(N,_);for(let O=0;O<_;O++)m[y++]=N[O]}return Ft.decode(m,o,l,i)}correctErrors(A,i){const o=new Int32Array(A);try{this.rsDecoder.decode(o,A.length-i)}catch{throw new E}for(let l=0;l<i;l++)A[l]=o[l]}}class $u extends Be{constructor(A,i,o){super(A,i),this.estimatedModuleSize=o}aboutEquals(A,i,o){if(Math.abs(i-this.getY())<=A&&Math.abs(o-this.getX())<=A){const l=Math.abs(A-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(A,i,o){const l=(this.getX()+i)/2,u=(this.getY()+A)/2,d=(this.estimatedModuleSize+o)/2;return new $u(l,u,d)}}class Al{constructor(A,i,o,l,u,d,p){this.image=A,this.startX=i,this.startY=o,this.width=l,this.height=u,this.moduleSize=d,this.resultPointCallback=p,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const A=this.startX,i=this.height,o=this.width,l=A+o,u=this.startY+i/2,d=new Int32Array(3),p=this.image;for(let m=0;m<i;m++){const y=u+(m&1?-Math.floor((m+1)/2):Math.floor((m+1)/2));d[0]=0,d[1]=0,d[2]=0;let C=A;for(;C<l&&!p.get(C,y);)C++;let N=0;for(;C<l;){if(p.get(C,y))if(N===1)d[1]++;else if(N===2){if(this.foundPatternCross(d)){const _=this.handlePossibleCenter(d,y,C);if(_!==null)return _}d[0]=d[2],d[1]=1,d[2]=0,N=1}else d[++N]++;else N===1&&N++,d[N]++;C++}if(this.foundPatternCross(d)){const _=this.handlePossibleCenter(d,y,l);if(_!==null)return _}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new D}static centerFromEnd(A,i){return i-A[2]-A[1]/2}foundPatternCross(A){const i=this.moduleSize,o=i/2;for(let l=0;l<3;l++)if(Math.abs(i-A[l])>=o)return!1;return!0}crossCheckVertical(A,i,o,l){const u=this.image,d=u.getHeight(),p=this.crossCheckStateCount;p[0]=0,p[1]=0,p[2]=0;let m=A;for(;m>=0&&u.get(i,m)&&p[1]<=o;)p[1]++,m--;if(m<0||p[1]>o)return NaN;for(;m>=0&&!u.get(i,m)&&p[0]<=o;)p[0]++,m--;if(p[0]>o)return NaN;for(m=A+1;m<d&&u.get(i,m)&&p[1]<=o;)p[1]++,m++;if(m===d||p[1]>o)return NaN;for(;m<d&&!u.get(i,m)&&p[2]<=o;)p[2]++,m++;if(p[2]>o)return NaN;const y=p[0]+p[1]+p[2];return 5*Math.abs(y-l)>=2*l?NaN:this.foundPatternCross(p)?Al.centerFromEnd(p,m):NaN}handlePossibleCenter(A,i,o){const l=A[0]+A[1]+A[2],u=Al.centerFromEnd(A,o),d=this.crossCheckVertical(i,u,2*A[1],l);if(!isNaN(d)){const p=(A[0]+A[1]+A[2])/3;for(const y of this.possibleCenters)if(y.aboutEquals(p,d,u))return y.combineEstimate(d,u,p);const m=new $u(u,d,p);this.possibleCenters.push(m),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(m)}return null}}class ed extends Be{constructor(A,i,o,l){super(A,i),this.estimatedModuleSize=o,this.count=l,l===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(A,i,o){if(Math.abs(i-this.getY())<=A&&Math.abs(o-this.getX())<=A){const l=Math.abs(A-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(A,i,o){const l=this.count+1,u=(this.count*this.getX()+i)/l,d=(this.count*this.getY()+A)/l,p=(this.count*this.estimatedModuleSize+o)/l;return new ed(u,d,p,l)}}class QC{constructor(A){this.bottomLeft=A[0],this.topLeft=A[1],this.topRight=A[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Ar{constructor(A,i){this.image=A,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=i}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(A){const i=A!=null&&A.get(M.TRY_HARDER)!==void 0,o=A!=null&&A.get(M.PURE_BARCODE)!==void 0,l=this.image,u=l.getHeight(),d=l.getWidth();let p=Math.floor(3*u/(4*Ar.MAX_MODULES));(p<Ar.MIN_SKIP||i)&&(p=Ar.MIN_SKIP);let m=!1;const y=new Int32Array(5);for(let N=p-1;N<u&&!m;N+=p){y[0]=0,y[1]=0,y[2]=0,y[3]=0,y[4]=0;let _=0;for(let O=0;O<d;O++)if(l.get(O,N))(_&1)===1&&_++,y[_]++;else if(_&1)y[_]++;else if(_===4)if(Ar.foundPatternCross(y)){if(this.handlePossibleCenter(y,N,O,o)===!0)if(p=2,this.hasSkipped===!0)m=this.haveMultiplyConfirmedCenters();else{const K=this.findRowSkip();K>y[2]&&(N+=K-y[2]-p,O=d-1)}else{y[0]=y[2],y[1]=y[3],y[2]=y[4],y[3]=1,y[4]=0,_=3;continue}_=0,y[0]=0,y[1]=0,y[2]=0,y[3]=0,y[4]=0}else y[0]=y[2],y[1]=y[3],y[2]=y[4],y[3]=1,y[4]=0,_=3;else y[++_]++;Ar.foundPatternCross(y)&&this.handlePossibleCenter(y,N,d,o)===!0&&(p=y[0],this.hasSkipped&&(m=this.haveMultiplyConfirmedCenters()))}const C=this.selectBestPatterns();return Be.orderBestPatterns(C),new QC(C)}static centerFromEnd(A,i){return i-A[4]-A[3]-A[2]/2}static foundPatternCross(A){let i=0;for(let u=0;u<5;u++){const d=A[u];if(d===0)return!1;i+=d}if(i<7)return!1;const o=i/7,l=o/2;return Math.abs(o-A[0])<l&&Math.abs(o-A[1])<l&&Math.abs(3*o-A[2])<3*l&&Math.abs(o-A[3])<l&&Math.abs(o-A[4])<l}getCrossCheckStateCount(){const A=this.crossCheckStateCount;return A[0]=0,A[1]=0,A[2]=0,A[3]=0,A[4]=0,A}crossCheckDiagonal(A,i,o,l){const u=this.getCrossCheckStateCount();let d=0;const p=this.image;for(;A>=d&&i>=d&&p.get(i-d,A-d);)u[2]++,d++;if(A<d||i<d)return!1;for(;A>=d&&i>=d&&!p.get(i-d,A-d)&&u[1]<=o;)u[1]++,d++;if(A<d||i<d||u[1]>o)return!1;for(;A>=d&&i>=d&&p.get(i-d,A-d)&&u[0]<=o;)u[0]++,d++;if(u[0]>o)return!1;const m=p.getHeight(),y=p.getWidth();for(d=1;A+d<m&&i+d<y&&p.get(i+d,A+d);)u[2]++,d++;if(A+d>=m||i+d>=y)return!1;for(;A+d<m&&i+d<y&&!p.get(i+d,A+d)&&u[3]<o;)u[3]++,d++;if(A+d>=m||i+d>=y||u[3]>=o)return!1;for(;A+d<m&&i+d<y&&p.get(i+d,A+d)&&u[4]<o;)u[4]++,d++;if(u[4]>=o)return!1;const C=u[0]+u[1]+u[2]+u[3]+u[4];return Math.abs(C-l)<2*l&&Ar.foundPatternCross(u)}crossCheckVertical(A,i,o,l){const u=this.image,d=u.getHeight(),p=this.getCrossCheckStateCount();let m=A;for(;m>=0&&u.get(i,m);)p[2]++,m--;if(m<0)return NaN;for(;m>=0&&!u.get(i,m)&&p[1]<=o;)p[1]++,m--;if(m<0||p[1]>o)return NaN;for(;m>=0&&u.get(i,m)&&p[0]<=o;)p[0]++,m--;if(p[0]>o)return NaN;for(m=A+1;m<d&&u.get(i,m);)p[2]++,m++;if(m===d)return NaN;for(;m<d&&!u.get(i,m)&&p[3]<o;)p[3]++,m++;if(m===d||p[3]>=o)return NaN;for(;m<d&&u.get(i,m)&&p[4]<o;)p[4]++,m++;if(p[4]>=o)return NaN;const y=p[0]+p[1]+p[2]+p[3]+p[4];return 5*Math.abs(y-l)>=2*l?NaN:Ar.foundPatternCross(p)?Ar.centerFromEnd(p,m):NaN}crossCheckHorizontal(A,i,o,l){const u=this.image,d=u.getWidth(),p=this.getCrossCheckStateCount();let m=A;for(;m>=0&&u.get(m,i);)p[2]++,m--;if(m<0)return NaN;for(;m>=0&&!u.get(m,i)&&p[1]<=o;)p[1]++,m--;if(m<0||p[1]>o)return NaN;for(;m>=0&&u.get(m,i)&&p[0]<=o;)p[0]++,m--;if(p[0]>o)return NaN;for(m=A+1;m<d&&u.get(m,i);)p[2]++,m++;if(m===d)return NaN;for(;m<d&&!u.get(m,i)&&p[3]<o;)p[3]++,m++;if(m===d||p[3]>=o)return NaN;for(;m<d&&u.get(m,i)&&p[4]<o;)p[4]++,m++;if(p[4]>=o)return NaN;const y=p[0]+p[1]+p[2]+p[3]+p[4];return 5*Math.abs(y-l)>=l?NaN:Ar.foundPatternCross(p)?Ar.centerFromEnd(p,m):NaN}handlePossibleCenter(A,i,o,l){const u=A[0]+A[1]+A[2]+A[3]+A[4];let d=Ar.centerFromEnd(A,o),p=this.crossCheckVertical(i,Math.floor(d),A[2],u);if(!isNaN(p)&&(d=this.crossCheckHorizontal(Math.floor(d),Math.floor(p),A[2],u),!isNaN(d)&&(!l||this.crossCheckDiagonal(Math.floor(p),Math.floor(d),A[2],u)))){const m=u/7;let y=!1;const C=this.possibleCenters;for(let N=0,_=C.length;N<_;N++){const O=C[N];if(O.aboutEquals(m,p,d)){C[N]=O.combineEstimate(p,d,m),y=!0;break}}if(!y){const N=new ed(d,p,m);C.push(N),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(N)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let i=null;for(const o of this.possibleCenters)if(o.getCount()>=Ar.CENTER_QUORUM)if(i==null)i=o;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-o.getX())-Math.abs(i.getY()-o.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let A=0,i=0;const o=this.possibleCenters.length;for(const d of this.possibleCenters)d.getCount()>=Ar.CENTER_QUORUM&&(A++,i+=d.getEstimatedModuleSize());if(A<3)return!1;const l=i/o;let u=0;for(const d of this.possibleCenters)u+=Math.abs(d.getEstimatedModuleSize()-l);return u<=.05*i}selectBestPatterns(){const A=this.possibleCenters.length;if(A<3)throw new D;const i=this.possibleCenters;let o;if(A>3){let l=0,u=0;for(const m of this.possibleCenters){const y=m.getEstimatedModuleSize();l+=y,u+=y*y}o=l/A;let d=Math.sqrt(u/A-o*o);i.sort((m,y)=>{const C=Math.abs(y.getEstimatedModuleSize()-o),N=Math.abs(m.getEstimatedModuleSize()-o);return C<N?-1:C>N?1:0});const p=Math.max(.2*o,d);for(let m=0;m<i.length&&i.length>3;m++){const y=i[m];Math.abs(y.getEstimatedModuleSize()-o)>p&&(i.splice(m,1),m--)}}if(i.length>3){let l=0;for(const u of i)l+=u.getEstimatedModuleSize();o=l/i.length,i.sort((u,d)=>{if(d.getCount()===u.getCount()){const p=Math.abs(d.getEstimatedModuleSize()-o),m=Math.abs(u.getEstimatedModuleSize()-o);return p<m?1:p>m?-1:0}else return d.getCount()-u.getCount()}),i.splice(3)}return[i[0],i[1],i[2]]}}Ar.CENTER_QUORUM=2,Ar.MIN_SKIP=3,Ar.MAX_MODULES=57;class ga{constructor(A){this.image=A}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(A){this.resultPointCallback=A==null?null:A.get(M.NEED_RESULT_POINT_CALLBACK);const o=new Ar(this.image,this.resultPointCallback).find(A);return this.processFinderPatternInfo(o)}processFinderPatternInfo(A){const i=A.getTopLeft(),o=A.getTopRight(),l=A.getBottomLeft(),u=this.calculateModuleSize(i,o,l);if(u<1)throw new D("No pattern found in proccess finder.");const d=ga.computeDimension(i,o,l,u),p=_e.getProvisionalVersionForDimension(d),m=p.getDimensionForVersion()-7;let y=null;if(p.getAlignmentPatternCenters().length>0){const O=o.getX()-i.getX()+l.getX(),P=o.getY()-i.getY()+l.getY(),K=1-3/m,Y=Math.floor(i.getX()+K*(O-i.getX())),$=Math.floor(i.getY()+K*(P-i.getY()));for(let de=4;de<=16;de<<=1)try{y=this.findAlignmentInRegion(u,Y,$,de);break}catch(he){if(!(he instanceof D))throw he}}const C=ga.createTransform(i,o,l,y,d),N=ga.sampleGrid(this.image,C,d);let _;return y===null?_=[l,i,o]:_=[l,i,o,y],new gs(N,_)}static createTransform(A,i,o,l,u){const d=u-3.5;let p,m,y,C;return l!==null?(p=l.getX(),m=l.getY(),y=d-3,C=y):(p=i.getX()-A.getX()+o.getX(),m=i.getY()-A.getY()+o.getY(),y=d,C=d),Pe.quadrilateralToQuadrilateral(3.5,3.5,d,3.5,y,C,3.5,d,A.getX(),A.getY(),i.getX(),i.getY(),p,m,o.getX(),o.getY())}static sampleGrid(A,i,o){return xt.getInstance().sampleGridWithTransform(A,o,o,i)}static computeDimension(A,i,o,l){const u=ze.round(Be.distance(A,i)/l),d=ze.round(Be.distance(A,o)/l);let p=Math.floor((u+d)/2)+7;switch(p&3){case 0:p++;break;case 2:p--;break;case 3:throw new D("Dimensions could be not found.")}return p}calculateModuleSize(A,i,o){return(this.calculateModuleSizeOneWay(A,i)+this.calculateModuleSizeOneWay(A,o))/2}calculateModuleSizeOneWay(A,i){const o=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(A.getX()),Math.floor(A.getY()),Math.floor(i.getX()),Math.floor(i.getY())),l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(A.getX()),Math.floor(A.getY()));return isNaN(o)?l/7:isNaN(l)?o/7:(o+l)/14}sizeOfBlackWhiteBlackRunBothWays(A,i,o,l){let u=this.sizeOfBlackWhiteBlackRun(A,i,o,l),d=1,p=A-(o-A);p<0?(d=A/(A-p),p=0):p>=this.image.getWidth()&&(d=(this.image.getWidth()-1-A)/(p-A),p=this.image.getWidth()-1);let m=Math.floor(i-(l-i)*d);return d=1,m<0?(d=i/(i-m),m=0):m>=this.image.getHeight()&&(d=(this.image.getHeight()-1-i)/(m-i),m=this.image.getHeight()-1),p=Math.floor(A+(p-A)*d),u+=this.sizeOfBlackWhiteBlackRun(A,i,p,m),u-1}sizeOfBlackWhiteBlackRun(A,i,o,l){const u=Math.abs(l-i)>Math.abs(o-A);if(u){let O=A;A=i,i=O,O=o,o=l,l=O}const d=Math.abs(o-A),p=Math.abs(l-i);let m=-d/2;const y=A<o?1:-1,C=i<l?1:-1;let N=0;const _=o+y;for(let O=A,P=i;O!==_;O+=y){const K=u?P:O,Y=u?O:P;if(N===1===this.image.get(K,Y)){if(N===2)return ze.distance(O,P,A,i);N++}if(m+=p,m>0){if(P===l)break;P+=C,m-=d}}return N===2?ze.distance(o+y,l,A,i):NaN}findAlignmentInRegion(A,i,o,l){const u=Math.floor(l*A),d=Math.max(0,i-u),p=Math.min(this.image.getWidth()-1,i+u);if(p-d<A*3)throw new D("Alignment top exceeds estimated module size.");const m=Math.max(0,o-u),y=Math.min(this.image.getHeight()-1,o+u);if(y-m<A*3)throw new D("Alignment bottom exceeds estimated module size.");return new Al(this.image,d,m,p-d,y-m,A,this.resultPointCallback).find()}}class SA{constructor(){this.decoder=new kC}getDecoder(){return this.decoder}decode(A,i){let o,l;if(i!=null&&i.get(M.PURE_BARCODE)!==void 0){const m=SA.extractPureBits(A.getBlackMatrix());o=this.decoder.decodeBitMatrix(m,i),l=SA.NO_POINTS}else{const m=new ga(A.getBlackMatrix()).detect(i);o=this.decoder.decodeBitMatrix(m.getBits(),i),l=m.getPoints()}o.getOther()instanceof Bg&&o.getOther().applyMirroredCorrection(l);const u=new ne(o.getText(),o.getRawBytes(),void 0,l,j.QR_CODE,void 0),d=o.getByteSegments();d!==null&&u.putMetadata(W.BYTE_SEGMENTS,d);const p=o.getECLevel();return p!==null&&u.putMetadata(W.ERROR_CORRECTION_LEVEL,p),o.hasStructuredAppend()&&(u.putMetadata(W.STRUCTURED_APPEND_SEQUENCE,o.getStructuredAppendSequenceNumber()),u.putMetadata(W.STRUCTURED_APPEND_PARITY,o.getStructuredAppendParity())),u}reset(){}static extractPureBits(A){const i=A.getTopLeftOnBit(),o=A.getBottomRightOnBit();if(i===null||o===null)throw new D;const l=this.moduleSize(i,A);let u=i[1],d=o[1],p=i[0],m=o[0];if(p>=m||u>=d)throw new D;if(d-u!==m-p&&(m=p+(d-u),m>=A.getWidth()))throw new D;const y=Math.round((m-p+1)/l),C=Math.round((d-u+1)/l);if(y<=0||C<=0)throw new D;if(C!==y)throw new D;const N=Math.floor(l/2);u+=N,p+=N;const _=p+Math.floor((y-1)*l)-m;if(_>0){if(_>N)throw new D;p-=_}const O=u+Math.floor((C-1)*l)-d;if(O>0){if(O>N)throw new D;u-=O}const P=new Te(y,C);for(let K=0;K<C;K++){const Y=u+Math.floor(K*l);for(let $=0;$<y;$++)A.get(p+Math.floor($*l),Y)&&P.set($,K)}return P}static moduleSize(A,i){const o=i.getHeight(),l=i.getWidth();let u=A[0],d=A[1],p=!0,m=0;for(;u<l&&d<o;){if(p!==i.get(u,d)){if(++m===5)break;p=!p}u++,d++}if(u===l||d===o)throw new D;return(u-A[0])/7}}SA.NO_POINTS=new Array;class je{PDF417Common(){}static getBitCountSum(A){return ze.sum(A)}static toIntArray(A){if(A==null||!A.length)return je.EMPTY_INT_ARRAY;const i=new Int32Array(A.length);let o=0;for(const l of A)i[o++]=l;return i}static getCodeword(A){const i=I.binarySearch(je.SYMBOL_TABLE,A&262143);return i<0?-1:(je.CODEWORD_TABLE[i]-1)%je.NUMBER_OF_CODEWORDS}}je.NUMBER_OF_CODEWORDS=929,je.MAX_CODEWORDS_IN_BARCODE=je.NUMBER_OF_CODEWORDS-1,je.MIN_ROWS_IN_BARCODE=3,je.MAX_ROWS_IN_BARCODE=90,je.MODULES_IN_CODEWORD=17,je.MODULES_IN_STOP_PATTERN=18,je.BARS_IN_MODULE=8,je.EMPTY_INT_ARRAY=new Int32Array([]),je.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),je.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class OC{constructor(A,i){this.bits=A,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class Ve{static detectMultiple(A,i,o){let l=A.getBlackMatrix(),u=Ve.detect(o,l);return u.length||(l=l.clone(),l.rotate180(),u=Ve.detect(o,l)),new OC(l,u)}static detect(A,i){const o=new Array;let l=0,u=0,d=!1;for(;l<i.getHeight();){const p=Ve.findVertices(i,l,u);if(p[0]==null&&p[3]==null){if(!d)break;d=!1,u=0;for(const m of o)m[1]!=null&&(l=Math.trunc(Math.max(l,m[1].getY()))),m[3]!=null&&(l=Math.max(l,Math.trunc(m[3].getY())));l+=Ve.ROW_STEP;continue}if(d=!0,o.push(p),!A)break;p[2]!=null?(u=Math.trunc(p[2].getX()),l=Math.trunc(p[2].getY())):(u=Math.trunc(p[4].getX()),l=Math.trunc(p[4].getY()))}return o}static findVertices(A,i,o){const l=A.getHeight(),u=A.getWidth(),d=new Array(8);return Ve.copyToResult(d,Ve.findRowsWithPattern(A,l,u,i,o,Ve.START_PATTERN),Ve.INDEXES_START_PATTERN),d[4]!=null&&(o=Math.trunc(d[4].getX()),i=Math.trunc(d[4].getY())),Ve.copyToResult(d,Ve.findRowsWithPattern(A,l,u,i,o,Ve.STOP_PATTERN),Ve.INDEXES_STOP_PATTERN),d}static copyToResult(A,i,o){for(let l=0;l<o.length;l++)A[o[l]]=i[l]}static findRowsWithPattern(A,i,o,l,u,d){const p=new Array(4);let m=!1;const y=new Int32Array(d.length);for(;l<i;l+=Ve.ROW_STEP){let N=Ve.findGuardPattern(A,u,l,o,!1,d,y);if(N!=null){for(;l>0;){const _=Ve.findGuardPattern(A,u,--l,o,!1,d,y);if(_!=null)N=_;else{l++;break}}p[0]=new Be(N[0],l),p[1]=new Be(N[1],l),m=!0;break}}let C=l+1;if(m){let N=0,_=Int32Array.from([Math.trunc(p[0].getX()),Math.trunc(p[1].getX())]);for(;C<i;C++){const O=Ve.findGuardPattern(A,_[0],C,o,!1,d,y);if(O!=null&&Math.abs(_[0]-O[0])<Ve.MAX_PATTERN_DRIFT&&Math.abs(_[1]-O[1])<Ve.MAX_PATTERN_DRIFT)_=O,N=0;else{if(N>Ve.SKIPPED_ROW_COUNT_MAX)break;N++}}C-=N+1,p[2]=new Be(_[0],C),p[3]=new Be(_[1],C)}return C-l<Ve.BARCODE_MIN_HEIGHT&&I.fill(p,null),p}static findGuardPattern(A,i,o,l,u,d,p){I.fillWithin(p,0,p.length,0);let m=i,y=0;for(;A.get(m,o)&&m>0&&y++<Ve.MAX_PIXEL_DRIFT;)m--;let C=m,N=0,_=d.length;for(let O=u;C<l;C++)if(A.get(C,o)!==O)p[N]++;else{if(N===_-1){if(Ve.patternMatchVariance(p,d,Ve.MAX_INDIVIDUAL_VARIANCE)<Ve.MAX_AVG_VARIANCE)return new Int32Array([m,C]);m+=p[0]+p[1],S.arraycopy(p,2,p,0,N-1),p[N-1]=0,p[N]=0,N--}else N++;p[N]=1,O=!O}return N===_-1&&Ve.patternMatchVariance(p,d,Ve.MAX_INDIVIDUAL_VARIANCE)<Ve.MAX_AVG_VARIANCE?new Int32Array([m,C-1]):null}static patternMatchVariance(A,i,o){let l=A.length,u=0,d=0;for(let y=0;y<l;y++)u+=A[y],d+=i[y];if(u<d)return 1/0;let p=u/d;o*=p;let m=0;for(let y=0;y<l;y++){let C=A[y],N=i[y]*p,_=C>N?C-N:N-C;if(_>o)return 1/0;m+=_}return m/u}}Ve.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ve.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ve.MAX_AVG_VARIANCE=.42,Ve.MAX_INDIVIDUAL_VARIANCE=.8,Ve.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ve.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ve.MAX_PIXEL_DRIFT=3,Ve.MAX_PATTERN_DRIFT=5,Ve.SKIPPED_ROW_COUNT_MAX=25,Ve.ROW_STEP=5,Ve.BARCODE_MIN_HEIGHT=10;class or{constructor(A,i){if(i.length===0)throw new x;this.field=A;let o=i.length;if(o>1&&i[0]===0){let l=1;for(;l<o&&i[l]===0;)l++;l===o?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(o-l),S.arraycopy(i,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(A){return this.coefficients[this.coefficients.length-1-A]}evaluateAt(A){if(A===0)return this.getCoefficient(0);if(A===1){let l=0;for(let u of this.coefficients)l=this.field.add(l,u);return l}let i=this.coefficients[0],o=this.coefficients.length;for(let l=1;l<o;l++)i=this.field.add(this.field.multiply(A,i),this.coefficients[l]);return i}add(A){if(!this.field.equals(A.field))throw new x("ModulusPolys do not have same ModulusGF field");if(this.isZero())return A;if(A.isZero())return this;let i=this.coefficients,o=A.coefficients;if(i.length>o.length){let d=i;i=o,o=d}let l=new Int32Array(o.length),u=o.length-i.length;S.arraycopy(o,0,l,0,u);for(let d=u;d<o.length;d++)l[d]=this.field.add(i[d-u],o[d]);return new or(this.field,l)}subtract(A){if(!this.field.equals(A.field))throw new x("ModulusPolys do not have same ModulusGF field");return A.isZero()?this:this.add(A.negative())}multiply(A){return A instanceof or?this.multiplyOther(A):this.multiplyScalar(A)}multiplyOther(A){if(!this.field.equals(A.field))throw new x("ModulusPolys do not have same ModulusGF field");if(this.isZero()||A.isZero())return new or(this.field,new Int32Array([0]));let i=this.coefficients,o=i.length,l=A.coefficients,u=l.length,d=new Int32Array(o+u-1);for(let p=0;p<o;p++){let m=i[p];for(let y=0;y<u;y++)d[p+y]=this.field.add(d[p+y],this.field.multiply(m,l[y]))}return new or(this.field,d)}negative(){let A=this.coefficients.length,i=new Int32Array(A);for(let o=0;o<A;o++)i[o]=this.field.subtract(0,this.coefficients[o]);return new or(this.field,i)}multiplyScalar(A){if(A===0)return new or(this.field,new Int32Array([0]));if(A===1)return this;let i=this.coefficients.length,o=new Int32Array(i);for(let l=0;l<i;l++)o[l]=this.field.multiply(this.coefficients[l],A);return new or(this.field,o)}multiplyByMonomial(A,i){if(A<0)throw new x;if(i===0)return new or(this.field,new Int32Array([0]));let o=this.coefficients.length,l=new Int32Array(o+A);for(let u=0;u<o;u++)l[u]=this.field.multiply(this.coefficients[u],i);return new or(this.field,l)}toString(){let A=new me;for(let i=this.getDegree();i>=0;i--){let o=this.getCoefficient(i);o!==0&&(o<0?(A.append(" - "),o=-o):A.length()>0&&A.append(" + "),(i===0||o!==1)&&A.append(o),i!==0&&(i===1?A.append("x"):(A.append("x^"),A.append(i))))}return A.toString()}}class DC{add(A,i){return(A+i)%this.modulus}subtract(A,i){return(this.modulus+A-i)%this.modulus}exp(A){return this.expTable[A]}log(A){if(A===0)throw new x;return this.logTable[A]}inverse(A){if(A===0)throw new Le;return this.expTable[this.modulus-this.logTable[A]-1]}multiply(A,i){return A===0||i===0?0:this.expTable[(this.logTable[A]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(A){return A===this}}class td extends DC{constructor(A,i){super(),this.modulus=A,this.expTable=new Int32Array(A),this.logTable=new Int32Array(A);let o=1;for(let l=0;l<A;l++)this.expTable[l]=o,o=o*i%A;for(let l=0;l<A-1;l++)this.logTable[this.expTable[l]]=l;this.zero=new or(this,new Int32Array([0])),this.one=new or(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(A,i){if(A<0)throw new x;if(i===0)return this.zero;let o=new Int32Array(A+1);return o[0]=i,new or(this,o)}}td.PDF417_GF=new td(je.NUMBER_OF_CODEWORDS,3);class yg{constructor(){this.field=td.PDF417_GF}decode(A,i,o){let l=new or(this.field,A),u=new Int32Array(i),d=!1;for(let P=i;P>0;P--){let K=l.evaluateAt(this.field.exp(P));u[i-P]=K,K!==0&&(d=!0)}if(!d)return 0;let p=this.field.getOne();if(o!=null)for(const P of o){let K=this.field.exp(A.length-1-P),Y=new or(this.field,new Int32Array([this.field.subtract(0,K),1]));p=p.multiply(Y)}let m=new or(this.field,u),y=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),m,i),C=y[0],N=y[1],_=this.findErrorLocations(C),O=this.findErrorMagnitudes(N,C,_);for(let P=0;P<_.length;P++){let K=A.length-1-this.field.log(_[P]);if(K<0)throw E.getChecksumInstance();A[K]=this.field.subtract(A[K],O[P])}return _.length}runEuclideanAlgorithm(A,i,o){if(A.getDegree()<i.getDegree()){let _=A;A=i,i=_}let l=A,u=i,d=this.field.getZero(),p=this.field.getOne();for(;u.getDegree()>=Math.round(o/2);){let _=l,O=d;if(l=u,d=p,l.isZero())throw E.getChecksumInstance();u=_;let P=this.field.getZero(),K=l.getCoefficient(l.getDegree()),Y=this.field.inverse(K);for(;u.getDegree()>=l.getDegree()&&!u.isZero();){let $=u.getDegree()-l.getDegree(),de=this.field.multiply(u.getCoefficient(u.getDegree()),Y);P=P.add(this.field.buildMonomial($,de)),u=u.subtract(l.multiplyByMonomial($,de))}p=P.multiply(d).subtract(O).negative()}let m=p.getCoefficient(0);if(m===0)throw E.getChecksumInstance();let y=this.field.inverse(m),C=p.multiply(y),N=u.multiply(y);return[C,N]}findErrorLocations(A){let i=A.getDegree(),o=new Int32Array(i),l=0;for(let u=1;u<this.field.getSize()&&l<i;u++)A.evaluateAt(u)===0&&(o[l]=this.field.inverse(u),l++);if(l!==i)throw E.getChecksumInstance();return o}findErrorMagnitudes(A,i,o){let l=i.getDegree(),u=new Int32Array(l);for(let y=1;y<=l;y++)u[l-y]=this.field.multiply(y,i.getCoefficient(y));let d=new or(this.field,u),p=o.length,m=new Int32Array(p);for(let y=0;y<p;y++){let C=this.field.inverse(o[y]),N=this.field.subtract(0,A.evaluateAt(C)),_=this.field.inverse(d.evaluateAt(C));m[y]=this.field.multiply(N,_)}return m}}class xs{constructor(A,i,o,l,u){A instanceof xs?this.constructor_2(A):this.constructor_1(A,i,o,l,u)}constructor_1(A,i,o,l,u){const d=i==null||o==null,p=l==null||u==null;if(d&&p)throw new D;d?(i=new Be(0,l.getY()),o=new Be(0,u.getY())):p&&(l=new Be(A.getWidth()-1,i.getY()),u=new Be(A.getWidth()-1,o.getY())),this.image=A,this.topLeft=i,this.bottomLeft=o,this.topRight=l,this.bottomRight=u,this.minX=Math.trunc(Math.min(i.getX(),o.getX())),this.maxX=Math.trunc(Math.max(l.getX(),u.getX())),this.minY=Math.trunc(Math.min(i.getY(),l.getY())),this.maxY=Math.trunc(Math.max(o.getY(),u.getY()))}constructor_2(A){this.image=A.image,this.topLeft=A.getTopLeft(),this.bottomLeft=A.getBottomLeft(),this.topRight=A.getTopRight(),this.bottomRight=A.getBottomRight(),this.minX=A.getMinX(),this.maxX=A.getMaxX(),this.minY=A.getMinY(),this.maxY=A.getMaxY()}static merge(A,i){return A==null?i:i==null?A:new xs(A.image,A.topLeft,A.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(A,i,o){let l=this.topLeft,u=this.bottomLeft,d=this.topRight,p=this.bottomRight;if(A>0){let m=o?this.topLeft:this.topRight,y=Math.trunc(m.getY()-A);y<0&&(y=0);let C=new Be(m.getX(),y);o?l=C:d=C}if(i>0){let m=o?this.bottomLeft:this.bottomRight,y=Math.trunc(m.getY()+i);y>=this.image.getHeight()&&(y=this.image.getHeight()-1);let C=new Be(m.getX(),y);o?u=C:p=C}return new xs(this.image,l,u,d,p)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class RC{constructor(A,i,o,l){this.columnCount=A,this.errorCorrectionLevel=l,this.rowCountUpperPart=i,this.rowCountLowerPart=o,this.rowCount=i+o}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class pa{constructor(){this.buffer=""}static form(A,i){let o=-1;function l(d,p,m,y,C,N){if(d==="%%")return"%";if(i[++o]===void 0)return;d=y?parseInt(y.substr(1)):void 0;let _=C?parseInt(C.substr(1)):void 0,O;switch(N){case"s":O=i[o];break;case"c":O=i[o][0];break;case"f":O=parseFloat(i[o]).toFixed(d);break;case"p":O=parseFloat(i[o]).toPrecision(d);break;case"e":O=parseFloat(i[o]).toExponential(d);break;case"x":O=parseInt(i[o]).toString(_||16);break;case"d":O=parseFloat(parseInt(i[o],_||10).toPrecision(d)).toFixed(0);break}O=typeof O=="object"?JSON.stringify(O):(+O).toString(_);let P=parseInt(m),K=m&&m[0]+""=="0"?"0":" ";for(;O.length<P;)O=p!==void 0?O+K:K+O;return O}let u=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return A.replace(u,l)}format(A,...i){this.buffer+=pa.form(A,i)}toString(){return this.buffer}}class wa{constructor(A){this.boundingBox=new xs(A),this.codewords=new Array(A.getMaxY()-A.getMinY()+1)}getCodewordNearby(A){let i=this.getCodeword(A);if(i!=null)return i;for(let o=1;o<wa.MAX_NEARBY_DISTANCE;o++){let l=this.imageRowToCodewordIndex(A)-o;if(l>=0&&(i=this.codewords[l],i!=null)||(l=this.imageRowToCodewordIndex(A)+o,l<this.codewords.length&&(i=this.codewords[l],i!=null)))return i}return null}imageRowToCodewordIndex(A){return A-this.boundingBox.getMinY()}setCodeword(A,i){this.codewords[this.imageRowToCodewordIndex(A)]=i}getCodeword(A){return this.codewords[this.imageRowToCodewordIndex(A)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const A=new pa;let i=0;for(const o of this.codewords){if(o==null){A.format("%3d:    |   %n",i++);continue}A.format("%3d: %3d|%3d%n",i++,o.getRowNumber(),o.getValue())}return A.toString()}}wa.MAX_NEARBY_DISTANCE=5;class ma{constructor(){this.values=new Map}setValue(A){A=Math.trunc(A);let i=this.values.get(A);i==null&&(i=0),i++,this.values.set(A,i)}getValue(){let A=-1,i=new Array;for(const[o,l]of this.values.entries()){const u={getKey:()=>o,getValue:()=>l};u.getValue()>A?(A=u.getValue(),i=[],i.push(u.getKey())):u.getValue()===A&&i.push(u.getKey())}return je.toIntArray(i)}getConfidence(A){return this.values.get(A)}}class Cg extends wa{constructor(A,i){super(A),this._isLeft=i}setRowNumbers(){for(let A of this.getCodewords())A!=null&&A.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(A){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,A);let o=this.getBoundingBox(),l=this._isLeft?o.getTopLeft():o.getTopRight(),u=this._isLeft?o.getBottomLeft():o.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),p=this.imageRowToCodewordIndex(Math.trunc(u.getY())),m=-1,y=1,C=0;for(let N=d;N<p;N++){if(i[N]==null)continue;let _=i[N],O=_.getRowNumber()-m;if(O===0)C++;else if(O===1)y=Math.max(y,C),C=1,m=_.getRowNumber();else if(O<0||_.getRowNumber()>=A.getRowCount()||O>N)i[N]=null;else{let P;y>2?P=(y-2)*O:P=O;let K=P>=N;for(let Y=1;Y<=P&&!K;Y++)K=i[N-Y]!=null;K?i[N]=null:(m=_.getRowNumber(),C=1)}}}getRowHeights(){let A=this.getBarcodeMetadata();if(A==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(A);let i=new Int32Array(A.getRowCount());for(let o of this.getCodewords())if(o!=null){let l=o.getRowNumber();if(l>=i.length)continue;i[l]++}return i}adjustIncompleteIndicatorColumnRowNumbers(A){let i=this.getBoundingBox(),o=this._isLeft?i.getTopLeft():i.getTopRight(),l=this._isLeft?i.getBottomLeft():i.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(o.getY())),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),p=this.getCodewords(),m=-1;for(let y=u;y<d;y++){if(p[y]==null)continue;let C=p[y];C.setRowNumberAsRowIndicatorColumn();let N=C.getRowNumber()-m;N===0||(N===1?m=C.getRowNumber():C.getRowNumber()>=A.getRowCount()?p[y]=null:m=C.getRowNumber())}}getBarcodeMetadata(){let A=this.getCodewords(),i=new ma,o=new ma,l=new ma,u=new ma;for(let p of A){if(p==null)continue;p.setRowNumberAsRowIndicatorColumn();let m=p.getValue()%30,y=p.getRowNumber();switch(this._isLeft||(y+=2),y%3){case 0:o.setValue(m*3+1);break;case 1:u.setValue(m/3),l.setValue(m%3);break;case 2:i.setValue(m+1);break}}if(i.getValue().length===0||o.getValue().length===0||l.getValue().length===0||u.getValue().length===0||i.getValue()[0]<1||o.getValue()[0]+l.getValue()[0]<je.MIN_ROWS_IN_BARCODE||o.getValue()[0]+l.getValue()[0]>je.MAX_ROWS_IN_BARCODE)return null;let d=new RC(i.getValue()[0],o.getValue()[0],l.getValue()[0],u.getValue()[0]);return this.removeIncorrectCodewords(A,d),d}removeIncorrectCodewords(A,i){for(let o=0;o<A.length;o++){let l=A[o];if(A[o]==null)continue;let u=l.getValue()%30,d=l.getRowNumber();if(d>i.getRowCount()){A[o]=null;continue}switch(this._isLeft||(d+=2),d%3){case 0:u*3+1!==i.getRowCountUpperPart()&&(A[o]=null);break;case 1:(Math.trunc(u/3)!==i.getErrorCorrectionLevel()||u%3!==i.getRowCountLowerPart())&&(A[o]=null);break;case 2:u+1!==i.getColumnCount()&&(A[o]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class xa{constructor(A,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=A,this.barcodeColumnCount=A.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let A=je.MAX_CODEWORDS_IN_BARCODE,i;do i=A,A=this.adjustRowNumbersAndGetCount();while(A>0&&A<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(A){A!=null&&A.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let A=this.adjustRowNumbersByRow();if(A===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let o=this.detectionResultColumns[i].getCodewords();for(let l=0;l<o.length;l++)o[l]!=null&&(o[l].hasValidRowNumber()||this.adjustRowNumbers(i,l,o))}return A}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let A=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<A.length;o++)if(A[o]!=null&&i[o]!=null&&A[o].getRowNumber()===i[o].getRowNumber())for(let l=1;l<=this.barcodeColumnCount;l++){let u=this.detectionResultColumns[l].getCodewords()[o];u!=null&&(u.setRowNumber(A[o].getRowNumber()),u.hasValidRowNumber()||(this.detectionResultColumns[l].getCodewords()[o]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let A=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let o=0;o<i.length;o++){if(i[o]==null)continue;let l=i[o].getRowNumber(),u=0;for(let d=this.barcodeColumnCount+1;d>0&&u<this.ADJUST_ROW_NUMBER_SKIP;d--){let p=this.detectionResultColumns[d].getCodewords()[o];p!=null&&(u=xa.adjustRowNumberIfValid(l,u,p),p.hasValidRowNumber()||A++)}}return A}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let A=0,i=this.detectionResultColumns[0].getCodewords();for(let o=0;o<i.length;o++){if(i[o]==null)continue;let l=i[o].getRowNumber(),u=0;for(let d=1;d<this.barcodeColumnCount+1&&u<this.ADJUST_ROW_NUMBER_SKIP;d++){let p=this.detectionResultColumns[d].getCodewords()[o];p!=null&&(u=xa.adjustRowNumberIfValid(l,u,p),p.hasValidRowNumber()||A++)}}return A}static adjustRowNumberIfValid(A,i,o){return o==null||o.hasValidRowNumber()||(o.isValidRowNumber(A)?(o.setRowNumber(A),i=0):++i),i}adjustRowNumbers(A,i,o){if(!this.detectionResultColumns[A-1])return;let l=o[i],u=this.detectionResultColumns[A-1].getCodewords(),d=u;this.detectionResultColumns[A+1]!=null&&(d=this.detectionResultColumns[A+1].getCodewords());let p=new Array(14);p[2]=u[i],p[3]=d[i],i>0&&(p[0]=o[i-1],p[4]=u[i-1],p[5]=d[i-1]),i>1&&(p[8]=o[i-2],p[10]=u[i-2],p[11]=d[i-2]),i<o.length-1&&(p[1]=o[i+1],p[6]=u[i+1],p[7]=d[i+1]),i<o.length-2&&(p[9]=o[i+2],p[12]=u[i+2],p[13]=d[i+2]);for(let m of p)if(xa.adjustRowNumber(l,m))return}static adjustRowNumber(A,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===A.getBucket()?(A.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(A){this.boundingBox=A}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(A,i){this.detectionResultColumns[A]=i}getDetectionResultColumn(A){return this.detectionResultColumns[A]}toString(){let A=this.detectionResultColumns[0];A==null&&(A=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new pa;for(let o=0;o<A.getCodewords().length;o++){i.format("CW %3d:",o);for(let l=0;l<this.barcodeColumnCount+2;l++){if(this.detectionResultColumns[l]==null){i.format("    |   ");continue}let u=this.detectionResultColumns[l].getCodewords()[o];if(u==null){i.format("    |   ");continue}i.format(" %3d|%3d",u.getRowNumber(),u.getValue())}i.format("%n")}return i.toString()}}class Ba{constructor(A,i,o,l){this.rowNumber=Ba.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(A),this.endX=Math.trunc(i),this.bucket=Math.trunc(o),this.value=Math.trunc(l)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(A){return A!==Ba.BARCODE_ROW_UNKNOWN&&this.bucket===A%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(A){this.rowNumber=A}toString(){return this.rowNumber+"|"+this.value}}Ba.BARCODE_ROW_UNKNOWN=-1;class Rr{static initialize(){for(let A=0;A<je.SYMBOL_TABLE.length;A++){let i=je.SYMBOL_TABLE[A],o=i&1;for(let l=0;l<je.BARS_IN_MODULE;l++){let u=0;for(;(i&1)===o;)u+=1,i>>=1;o=i&1,Rr.RATIOS_TABLE[A]||(Rr.RATIOS_TABLE[A]=new Array(je.BARS_IN_MODULE)),Rr.RATIOS_TABLE[A][je.BARS_IN_MODULE-l-1]=Math.fround(u/je.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(A){let i=Rr.getDecodedCodewordValue(Rr.sampleBitCounts(A));return i!==-1?i:Rr.getClosestDecodedValue(A)}static sampleBitCounts(A){let i=ze.sum(A),o=new Int32Array(je.BARS_IN_MODULE),l=0,u=0;for(let d=0;d<je.MODULES_IN_CODEWORD;d++){let p=i/(2*je.MODULES_IN_CODEWORD)+d*i/je.MODULES_IN_CODEWORD;u+A[l]<=p&&(u+=A[l],l++),o[l]++}return o}static getDecodedCodewordValue(A){let i=Rr.getBitValue(A);return je.getCodeword(i)===-1?-1:i}static getBitValue(A){let i=0;for(let o=0;o<A.length;o++)for(let l=0;l<A[o];l++)i=i<<1|(o%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(A){let i=ze.sum(A),o=new Array(je.BARS_IN_MODULE);if(i>1)for(let d=0;d<o.length;d++)o[d]=Math.fround(A[d]/i);let l=He.MAX_VALUE,u=-1;this.bSymbolTableReady||Rr.initialize();for(let d=0;d<Rr.RATIOS_TABLE.length;d++){let p=0,m=Rr.RATIOS_TABLE[d];for(let y=0;y<je.BARS_IN_MODULE;y++){let C=Math.fround(m[y]-o[y]);if(p+=Math.fround(C*C),p>=l)break}p<l&&(l=p,u=je.SYMBOL_TABLE[d])}return u}}Rr.bSymbolTableReady=!1,Rr.RATIOS_TABLE=new Array(je.SYMBOL_TABLE.length).map(F=>new Array(je.BARS_IN_MODULE));class vg{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(A){this.segmentIndex=A}getFileId(){return this.fileId}setFileId(A){this.fileId=A}getOptionalData(){return this.optionalData}setOptionalData(A){this.optionalData=A}isLastSegment(){return this.lastSegment}setLastSegment(A){this.lastSegment=A}getSegmentCount(){return this.segmentCount}setSegmentCount(A){this.segmentCount=A}getSender(){return this.sender||null}setSender(A){this.sender=A}getAddressee(){return this.addressee||null}setAddressee(A){this.addressee=A}getFileName(){return this.fileName}setFileName(A){this.fileName=A}getFileSize(){return this.fileSize}setFileSize(A){this.fileSize=A}getChecksum(){return this.checksum}setChecksum(A){this.checksum=A}getTimestamp(){return this.timestamp}setTimestamp(A){this.timestamp=A}}class bg{static parseLong(A,i=void 0){return parseInt(A,i)}}class Eg extends w{}Eg.kind="NullPointerException";class MC{writeBytes(A){this.writeBytesOffset(A,0,A.length)}writeBytesOffset(A,i,o){if(A==null)throw new Eg;if(i<0||i>A.length||o<0||i+o>A.length||i+o<0)throw new R;if(o===0)return;for(let l=0;l<o;l++)this.write(A[i+l])}flush(){}close(){}}class LC extends w{}class jC extends MC{constructor(A=32){if(super(),this.count=0,A<0)throw new x("Negative initial size: "+A);this.buf=new Uint8Array(A)}ensureCapacity(A){A-this.buf.length>0&&this.grow(A)}grow(A){let o=this.buf.length<<1;if(o-A<0&&(o=A),o<0){if(A<0)throw new LC;o=U.MAX_VALUE}this.buf=I.copyOfUint8Array(this.buf,o)}write(A){this.ensureCapacity(this.count+1),this.buf[this.count]=A,this.count+=1}writeBytesOffset(A,i,o){if(i<0||i>A.length||o<0||i+o-A.length>0)throw new R;this.ensureCapacity(this.count+o),S.arraycopy(A,i,this.buf,this.count,o),this.count+=o}writeTo(A){A.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return I.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(A){return A?typeof A=="string"?this.toString_string(A):this.toString_number(A):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(A){return new String(this.buf).toString()}toString_number(A){return new String(this.buf).toString()}close(){}}var lt;(function(F){F[F.ALPHA=0]="ALPHA",F[F.LOWER=1]="LOWER",F[F.MIXED=2]="MIXED",F[F.PUNCT=3]="PUNCT",F[F.ALPHA_SHIFT=4]="ALPHA_SHIFT",F[F.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(lt||(lt={}));function Sg(){if(typeof window<"u")return window.BigInt||null;if(typeof va<"u")return va.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let sl;function IA(F){if(typeof sl>"u"&&(sl=Sg()),sl===null)throw new Error("BigInt is not supported!");return sl(F)}function HC(){let F=[];F[0]=IA(1);let A=IA(900);F[1]=A;for(let i=2;i<16;i++)F[i]=F[i-1]*A;return F}class q{static decode(A,i){let o=new me(""),l=G.ISO8859_1;o.enableDecoding(l);let u=1,d=A[u++],p=new vg;for(;u<A[0];){switch(d){case q.TEXT_COMPACTION_MODE_LATCH:u=q.textCompaction(A,u,o);break;case q.BYTE_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:u=q.byteCompaction(d,A,l,u,o);break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:o.append(A[u++]);break;case q.NUMERIC_COMPACTION_MODE_LATCH:u=q.numericCompaction(A,u,o);break;case q.ECI_CHARSET:G.getCharacterSetECIByValue(A[u++]);break;case q.ECI_GENERAL_PURPOSE:u+=2;break;case q.ECI_USER_DEFINED:u++;break;case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:u=q.decodeMacroBlock(A,u,p);break;case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:throw new L;default:u--,u=q.textCompaction(A,u,o);break}if(u<A.length)d=A[u++];else throw L.getFormatInstance()}if(o.length()===0)throw L.getFormatInstance();let m=new te(null,o.toString(),null,i);return m.setOther(p),m}static decodeMacroBlock(A,i,o){if(i+q.NUMBER_OF_SEQUENCE_CODEWORDS>A[0])throw L.getFormatInstance();let l=new Int32Array(q.NUMBER_OF_SEQUENCE_CODEWORDS);for(let p=0;p<q.NUMBER_OF_SEQUENCE_CODEWORDS;p++,i++)l[p]=A[i];o.setSegmentIndex(U.parseInt(q.decodeBase900toBase10(l,q.NUMBER_OF_SEQUENCE_CODEWORDS)));let u=new me;i=q.textCompaction(A,i,u),o.setFileId(u.toString());let d=-1;for(A[i]===q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(d=i+1);i<A[0];)switch(A[i]){case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,A[i]){case q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let p=new me;i=q.textCompaction(A,i+1,p),o.setFileName(p.toString());break;case q.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let m=new me;i=q.textCompaction(A,i+1,m),o.setSender(m.toString());break;case q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let y=new me;i=q.textCompaction(A,i+1,y),o.setAddressee(y.toString());break;case q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let C=new me;i=q.numericCompaction(A,i+1,C),o.setSegmentCount(U.parseInt(C.toString()));break;case q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let N=new me;i=q.numericCompaction(A,i+1,N),o.setTimestamp(bg.parseLong(N.toString()));break;case q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let _=new me;i=q.numericCompaction(A,i+1,_),o.setChecksum(U.parseInt(_.toString()));break;case q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let O=new me;i=q.numericCompaction(A,i+1,O),o.setFileSize(bg.parseLong(O.toString()));break;default:throw L.getFormatInstance()}break;case q.MACRO_PDF417_TERMINATOR:i++,o.setLastSegment(!0);break;default:throw L.getFormatInstance()}if(d!==-1){let p=i-d;o.isLastSegment()&&p--,o.setOptionalData(I.copyOfRange(A,d,d+p))}return i}static textCompaction(A,i,o){let l=new Int32Array((A[0]-i)*2),u=new Int32Array((A[0]-i)*2),d=0,p=!1;for(;i<A[0]&&!p;){let m=A[i++];if(m<q.TEXT_COMPACTION_MODE_LATCH)l[d]=m/30,l[d+1]=m%30,d+=2;else switch(m){case q.TEXT_COMPACTION_MODE_LATCH:l[d++]=q.TEXT_COMPACTION_MODE_LATCH;break;case q.BYTE_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.NUMERIC_COMPACTION_MODE_LATCH:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:i--,p=!0;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l[d]=q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,m=A[i++],u[d]=m,d++;break}}return q.decodeTextCompaction(l,u,d,o),i}static decodeTextCompaction(A,i,o,l){let u=lt.ALPHA,d=lt.ALPHA,p=0;for(;p<o;){let m=A[p],y="";switch(u){case lt.ALPHA:if(m<26)y=String.fromCharCode(65+m);else switch(m){case 26:y=" ";break;case q.LL:u=lt.LOWER;break;case q.ML:u=lt.MIXED;break;case q.PS:d=u,u=lt.PUNCT_SHIFT;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[p]);break;case q.TEXT_COMPACTION_MODE_LATCH:u=lt.ALPHA;break}break;case lt.LOWER:if(m<26)y=String.fromCharCode(97+m);else switch(m){case 26:y=" ";break;case q.AS:d=u,u=lt.ALPHA_SHIFT;break;case q.ML:u=lt.MIXED;break;case q.PS:d=u,u=lt.PUNCT_SHIFT;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[p]);break;case q.TEXT_COMPACTION_MODE_LATCH:u=lt.ALPHA;break}break;case lt.MIXED:if(m<q.PL)y=q.MIXED_CHARS[m];else switch(m){case q.PL:u=lt.PUNCT;break;case 26:y=" ";break;case q.LL:u=lt.LOWER;break;case q.AL:u=lt.ALPHA;break;case q.PS:d=u,u=lt.PUNCT_SHIFT;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[p]);break;case q.TEXT_COMPACTION_MODE_LATCH:u=lt.ALPHA;break}break;case lt.PUNCT:if(m<q.PAL)y=q.PUNCT_CHARS[m];else switch(m){case q.PAL:u=lt.ALPHA;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[p]);break;case q.TEXT_COMPACTION_MODE_LATCH:u=lt.ALPHA;break}break;case lt.ALPHA_SHIFT:if(u=d,m<26)y=String.fromCharCode(65+m);else switch(m){case 26:y=" ";break;case q.TEXT_COMPACTION_MODE_LATCH:u=lt.ALPHA;break}break;case lt.PUNCT_SHIFT:if(u=d,m<q.PAL)y=q.PUNCT_CHARS[m];else switch(m){case q.PAL:u=lt.ALPHA;break;case q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[p]);break;case q.TEXT_COMPACTION_MODE_LATCH:u=lt.ALPHA;break}break}y!==""&&l.append(y),p++}}static byteCompaction(A,i,o,l,u){let d=new jC,p=0,m=0,y=!1;switch(A){case q.BYTE_COMPACTION_MODE_LATCH:let C=new Int32Array(6),N=i[l++];for(;l<i[0]&&!y;)switch(C[p++]=N,m=900*m+N,N=i[l++],N){case q.TEXT_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH:case q.NUMERIC_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:l--,y=!0;break;default:if(p%5===0&&p>0){for(let _=0;_<6;++_)d.write(Number(IA(m)>>IA(8*(5-_))));m=0,p=0}break}l===i[0]&&N<q.TEXT_COMPACTION_MODE_LATCH&&(C[p++]=N);for(let _=0;_<p;_++)d.write(C[_]);break;case q.BYTE_COMPACTION_MODE_LATCH_6:for(;l<i[0]&&!y;){let _=i[l++];if(_<q.TEXT_COMPACTION_MODE_LATCH)p++,m=900*m+_;else switch(_){case q.TEXT_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH:case q.NUMERIC_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:l--,y=!0;break}if(p%5===0&&p>0){for(let O=0;O<6;++O)d.write(Number(IA(m)>>IA(8*(5-O))));m=0,p=0}}break}return u.append(Ne.decode(d.toByteArray(),o)),l}static numericCompaction(A,i,o){let l=0,u=!1,d=new Int32Array(q.MAX_NUMERIC_CODEWORDS);for(;i<A[0]&&!u;){let p=A[i++];if(i===A[0]&&(u=!0),p<q.TEXT_COMPACTION_MODE_LATCH)d[l]=p,l++;else switch(p){case q.TEXT_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH:case q.BYTE_COMPACTION_MODE_LATCH_6:case q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case q.MACRO_PDF417_TERMINATOR:i--,u=!0;break}(l%q.MAX_NUMERIC_CODEWORDS===0||p===q.NUMERIC_COMPACTION_MODE_LATCH||u)&&l>0&&(o.append(q.decodeBase900toBase10(d,l)),l=0)}return i}static decodeBase900toBase10(A,i){let o=IA(0);for(let u=0;u<i;u++)o+=q.EXP900[i-u-1]*IA(A[u]);let l=o.toString();if(l.charAt(0)!=="1")throw new L;return l.substring(1)}}q.TEXT_COMPACTION_MODE_LATCH=900,q.BYTE_COMPACTION_MODE_LATCH=901,q.NUMERIC_COMPACTION_MODE_LATCH=902,q.BYTE_COMPACTION_MODE_LATCH_6=924,q.ECI_USER_DEFINED=925,q.ECI_GENERAL_PURPOSE=926,q.ECI_CHARSET=927,q.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,q.MACRO_PDF417_TERMINATOR=922,q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,q.MAX_NUMERIC_CODEWORDS=15,q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,q.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,q.PL=25,q.LL=27,q.AS=27,q.ML=28,q.AL=28,q.PS=29,q.PAL=29,q.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,q.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",q.EXP900=Sg()?HC():[],q.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ge{constructor(){}static decode(A,i,o,l,u,d,p){let m=new xs(A,i,o,l,u),y=null,C=null,N;for(let P=!0;;P=!1){if(i!=null&&(y=Ge.getRowIndicatorColumn(A,m,i,!0,d,p)),l!=null&&(C=Ge.getRowIndicatorColumn(A,m,l,!1,d,p)),N=Ge.merge(y,C),N==null)throw D.getNotFoundInstance();let K=N.getBoundingBox();if(P&&K!=null&&(K.getMinY()<m.getMinY()||K.getMaxY()>m.getMaxY()))m=K;else break}N.setBoundingBox(m);let _=N.getBarcodeColumnCount()+1;N.setDetectionResultColumn(0,y),N.setDetectionResultColumn(_,C);let O=y!=null;for(let P=1;P<=_;P++){let K=O?P:_-P;if(N.getDetectionResultColumn(K)!==void 0)continue;let Y;K===0||K===_?Y=new Cg(m,K===0):Y=new wa(m),N.setDetectionResultColumn(K,Y);let $=-1,de=$;for(let he=m.getMinY();he<=m.getMaxY();he++){if($=Ge.getStartColumn(N,K,he,O),$<0||$>m.getMaxX()){if(de===-1)continue;$=de}let ae=Ge.detectCodeword(A,m.getMinX(),m.getMaxX(),O,$,he,d,p);ae!=null&&(Y.setCodeword(he,ae),de=$,d=Math.min(d,ae.getWidth()),p=Math.max(p,ae.getWidth()))}}return Ge.createDecoderResult(N)}static merge(A,i){if(A==null&&i==null)return null;let o=Ge.getBarcodeMetadata(A,i);if(o==null)return null;let l=xs.merge(Ge.adjustBoundingBox(A),Ge.adjustBoundingBox(i));return new xa(o,l)}static adjustBoundingBox(A){if(A==null)return null;let i=A.getRowHeights();if(i==null)return null;let o=Ge.getMax(i),l=0;for(let p of i)if(l+=o-p,p>0)break;let u=A.getCodewords();for(let p=0;l>0&&u[p]==null;p++)l--;let d=0;for(let p=i.length-1;p>=0&&(d+=o-i[p],!(i[p]>0));p--);for(let p=u.length-1;d>0&&u[p]==null;p--)d--;return A.getBoundingBox().addMissingRows(l,d,A.isLeft())}static getMax(A){let i=-1;for(let o of A)i=Math.max(i,o);return i}static getBarcodeMetadata(A,i){let o;if(A==null||(o=A.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let l;return i==null||(l=i.getBarcodeMetadata())==null?o:o.getColumnCount()!==l.getColumnCount()&&o.getErrorCorrectionLevel()!==l.getErrorCorrectionLevel()&&o.getRowCount()!==l.getRowCount()?null:o}static getRowIndicatorColumn(A,i,o,l,u,d){let p=new Cg(i,l);for(let m=0;m<2;m++){let y=m===0?1:-1,C=Math.trunc(Math.trunc(o.getX()));for(let N=Math.trunc(Math.trunc(o.getY()));N<=i.getMaxY()&&N>=i.getMinY();N+=y){let _=Ge.detectCodeword(A,0,A.getWidth(),l,C,N,u,d);_!=null&&(p.setCodeword(N,_),l?C=_.getStartX():C=_.getEndX())}}return p}static adjustCodewordCount(A,i){let o=i[0][1],l=o.getValue(),u=A.getBarcodeColumnCount()*A.getBarcodeRowCount()-Ge.getNumberOfECCodeWords(A.getBarcodeECLevel());if(l.length===0){if(u<1||u>je.MAX_CODEWORDS_IN_BARCODE)throw D.getNotFoundInstance();o.setValue(u)}else l[0]!==u&&o.setValue(u)}static createDecoderResult(A){let i=Ge.createBarcodeMatrix(A);Ge.adjustCodewordCount(A,i);let o=new Array,l=new Int32Array(A.getBarcodeRowCount()*A.getBarcodeColumnCount()),u=[],d=new Array;for(let m=0;m<A.getBarcodeRowCount();m++)for(let y=0;y<A.getBarcodeColumnCount();y++){let C=i[m][y+1].getValue(),N=m*A.getBarcodeColumnCount()+y;C.length===0?o.push(N):C.length===1?l[N]=C[0]:(d.push(N),u.push(C))}let p=new Array(u.length);for(let m=0;m<p.length;m++)p[m]=u[m];return Ge.createDecoderResultFromAmbiguousValues(A.getBarcodeECLevel(),l,je.toIntArray(o),je.toIntArray(d),p)}static createDecoderResultFromAmbiguousValues(A,i,o,l,u){let d=new Int32Array(l.length),p=100;for(;p-- >0;){for(let m=0;m<d.length;m++)i[l[m]]=u[m][d[m]];try{return Ge.decodeCodewords(i,A,o)}catch(m){if(!(m instanceof E))throw m}if(d.length===0)throw E.getChecksumInstance();for(let m=0;m<d.length;m++)if(d[m]<u[m].length-1){d[m]++;break}else if(d[m]=0,m===d.length-1)throw E.getChecksumInstance()}throw E.getChecksumInstance()}static createBarcodeMatrix(A){let i=Array.from({length:A.getBarcodeRowCount()},()=>new Array(A.getBarcodeColumnCount()+2));for(let l=0;l<i.length;l++)for(let u=0;u<i[l].length;u++)i[l][u]=new ma;let o=0;for(let l of A.getDetectionResultColumns()){if(l!=null){for(let u of l.getCodewords())if(u!=null){let d=u.getRowNumber();if(d>=0){if(d>=i.length)continue;i[d][o].setValue(u.getValue())}}}o++}return i}static isValidBarcodeColumn(A,i){return i>=0&&i<=A.getBarcodeColumnCount()+1}static getStartColumn(A,i,o,l){let u=l?1:-1,d=null;if(Ge.isValidBarcodeColumn(A,i-u)&&(d=A.getDetectionResultColumn(i-u).getCodeword(o)),d!=null)return l?d.getEndX():d.getStartX();if(d=A.getDetectionResultColumn(i).getCodewordNearby(o),d!=null)return l?d.getStartX():d.getEndX();if(Ge.isValidBarcodeColumn(A,i-u)&&(d=A.getDetectionResultColumn(i-u).getCodewordNearby(o)),d!=null)return l?d.getEndX():d.getStartX();let p=0;for(;Ge.isValidBarcodeColumn(A,i-u);){i-=u;for(let m of A.getDetectionResultColumn(i).getCodewords())if(m!=null)return(l?m.getEndX():m.getStartX())+u*p*(m.getEndX()-m.getStartX());p++}return l?A.getBoundingBox().getMinX():A.getBoundingBox().getMaxX()}static detectCodeword(A,i,o,l,u,d,p,m){u=Ge.adjustCodewordStartColumn(A,i,o,l,u,d);let y=Ge.getModuleBitCount(A,i,o,l,u,d);if(y==null)return null;let C,N=ze.sum(y);if(l)C=u+N;else{for(let P=0;P<y.length/2;P++){let K=y[P];y[P]=y[y.length-1-P],y[y.length-1-P]=K}C=u,u=C-N}if(!Ge.checkCodewordSkew(N,p,m))return null;let _=Rr.getDecodedValue(y),O=je.getCodeword(_);return O===-1?null:new Ba(u,C,Ge.getCodewordBucketNumber(_),O)}static getModuleBitCount(A,i,o,l,u,d){let p=u,m=new Int32Array(8),y=0,C=l?1:-1,N=l;for(;(l?p<o:p>=i)&&y<m.length;)A.get(p,d)===N?(m[y]++,p+=C):(y++,N=!N);return y===m.length||p===(l?o:i)&&y===m.length-1?m:null}static getNumberOfECCodeWords(A){return 2<<A}static adjustCodewordStartColumn(A,i,o,l,u,d){let p=u,m=l?-1:1;for(let y=0;y<2;y++){for(;(l?p>=i:p<o)&&l===A.get(p,d);){if(Math.abs(u-p)>Ge.CODEWORD_SKEW_SIZE)return u;p+=m}m=-m,l=!l}return p}static checkCodewordSkew(A,i,o){return i-Ge.CODEWORD_SKEW_SIZE<=A&&A<=o+Ge.CODEWORD_SKEW_SIZE}static decodeCodewords(A,i,o){if(A.length===0)throw L.getFormatInstance();let l=1<<i+1,u=Ge.correctErrors(A,o,l);Ge.verifyCodewordCount(A,l);let d=q.decode(A,""+i);return d.setErrorsCorrected(u),d.setErasures(o.length),d}static correctErrors(A,i,o){if(i!=null&&i.length>o/2+Ge.MAX_ERRORS||o<0||o>Ge.MAX_EC_CODEWORDS)throw E.getChecksumInstance();return Ge.errorCorrection.decode(A,o,i)}static verifyCodewordCount(A,i){if(A.length<4)throw L.getFormatInstance();let o=A[0];if(o>A.length)throw L.getFormatInstance();if(o===0)if(i<A.length)A[0]=A.length-i;else throw L.getFormatInstance()}static getBitCountForCodeword(A){let i=new Int32Array(8),o=0,l=i.length-1;for(;!((A&1)!==o&&(o=A&1,l--,l<0));)i[l]++,A>>=1;return i}static getCodewordBucketNumber(A){return A instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(A):this.getCodewordBucketNumber_number(A)}static getCodewordBucketNumber_number(A){return Ge.getCodewordBucketNumber(Ge.getBitCountForCodeword(A))}static getCodewordBucketNumber_Int32Array(A){return(A[0]-A[2]+A[4]-A[6]+9)%9}static toString(A){let i=new pa;for(let o=0;o<A.length;o++){i.format("Row %2d: ",o);for(let l=0;l<A[o].length;l++){let u=A[o][l];u.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",u.getValue()[0],u.getConfidence(u.getValue()[0]))}i.format("%n")}return i.toString()}}Ge.CODEWORD_SKEW_SIZE=2,Ge.MAX_ERRORS=3,Ge.MAX_EC_CODEWORDS=512,Ge.errorCorrection=new yg;class lr{decode(A,i=null){let o=lr.decode(A,i,!1);if(o==null||o.length===0||o[0]==null)throw D.getNotFoundInstance();return o[0]}decodeMultiple(A,i=null){try{return lr.decode(A,i,!0)}catch(o){throw o instanceof L||o instanceof E?D.getNotFoundInstance():o}}static decode(A,i,o){const l=new Array,u=Ve.detectMultiple(A,i,o);for(const d of u.getPoints()){const p=Ge.decode(u.getBits(),d[4],d[5],d[6],d[7],lr.getMinCodewordWidth(d),lr.getMaxCodewordWidth(d)),m=new ne(p.getText(),p.getRawBytes(),void 0,d,j.PDF_417);m.putMetadata(W.ERROR_CORRECTION_LEVEL,p.getECLevel());const y=p.getOther();y!=null&&m.putMetadata(W.PDF417_EXTRA_METADATA,y),l.push(m)}return l.map(d=>d)}static getMaxWidth(A,i){return A==null||i==null?0:Math.trunc(Math.abs(A.getX()-i.getX()))}static getMinWidth(A,i){return A==null||i==null?U.MAX_VALUE:Math.trunc(Math.abs(A.getX()-i.getX()))}static getMaxCodewordWidth(A){return Math.floor(Math.max(Math.max(lr.getMaxWidth(A[0],A[4]),lr.getMaxWidth(A[6],A[2])*je.MODULES_IN_CODEWORD/je.MODULES_IN_STOP_PATTERN),Math.max(lr.getMaxWidth(A[1],A[5]),lr.getMaxWidth(A[7],A[3])*je.MODULES_IN_CODEWORD/je.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(A){return Math.floor(Math.min(Math.min(lr.getMinWidth(A[0],A[4]),lr.getMinWidth(A[6],A[2])*je.MODULES_IN_CODEWORD/je.MODULES_IN_STOP_PATTERN),Math.min(lr.getMinWidth(A[1],A[5]),lr.getMinWidth(A[7],A[3])*je.MODULES_IN_CODEWORD/je.MODULES_IN_STOP_PATTERN)))}reset(){}}class il extends w{}il.kind="ReaderException";class Ig{constructor(A,i){this.verbose=A===!0,i&&this.setHints(i)}decode(A,i){return i&&this.setHints(i),this.decodeInternal(A)}decodeWithState(A){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(A)}setHints(A){this.hints=A;const i=!n(A)&&A.get(M.TRY_HARDER)===!0,o=n(A)?null:A.get(M.POSSIBLE_FORMATS),l=new Array;if(!n(o)){const u=o.some(d=>d===j.UPC_A||d===j.UPC_E||d===j.EAN_13||d===j.EAN_8||d===j.CODABAR||d===j.CODE_39||d===j.CODE_93||d===j.CODE_128||d===j.ITF||d===j.RSS_14||d===j.RSS_EXPANDED);u&&!i&&l.push(new $s(A,this.verbose)),o.includes(j.QR_CODE)&&l.push(new SA),o.includes(j.DATA_MATRIX)&&l.push(new EA),o.includes(j.AZTEC)&&l.push(new Qr),o.includes(j.PDF_417)&&l.push(new lr),u&&i&&l.push(new $s(A,this.verbose))}l.length===0&&(i||l.push(new $s(A,this.verbose)),l.push(new SA),l.push(new EA),l.push(new Qr),l.push(new lr),i&&l.push(new $s(A,this.verbose))),this.readers=l}reset(){if(this.readers!==null)for(const A of this.readers)A.reset()}decodeInternal(A){if(this.readers===null)throw new il("No readers where selected, nothing can be read.");for(const i of this.readers)try{return i.decode(A,this.hints)}catch(o){if(o instanceof il)continue}throw new D("No MultiFormat Readers were able to detect the code.")}}class PC extends J{constructor(A=null,i=500){const o=new Ig;o.setHints(A),super(o,i)}decodeBitmap(A){return this.reader.decodeWithState(A)}}class KC extends J{constructor(A=500){super(new lr,A)}}class VC extends J{constructor(A=500){super(new SA,A)}}var rd;(function(F){F[F.ERROR_CORRECTION=0]="ERROR_CORRECTION",F[F.CHARACTER_SET=1]="CHARACTER_SET",F[F.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",F[F.MIN_SIZE=3]="MIN_SIZE",F[F.MAX_SIZE=4]="MAX_SIZE",F[F.MARGIN=5]="MARGIN",F[F.PDF417_COMPACT=6]="PDF417_COMPACT",F[F.PDF417_COMPACTION=7]="PDF417_COMPACTION",F[F.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",F[F.AZTEC_LAYERS=9]="AZTEC_LAYERS",F[F.QR_VERSION=10]="QR_VERSION"})(rd||(rd={}));var qt=rd;class nd{constructor(A){this.field=A,this.cachedGenerators=[],this.cachedGenerators.push(new le(A,Int32Array.from([1])))}buildGenerator(A){const i=this.cachedGenerators;if(A>=i.length){let o=i[i.length-1];const l=this.field;for(let u=i.length;u<=A;u++){const d=o.multiply(new le(l,Int32Array.from([1,l.exp(u-1+l.getGeneratorBase())])));i.push(d),o=d}}return i[A]}encode(A,i){if(i===0)throw new x("No error correction bytes");const o=A.length-i;if(o<=0)throw new x("No data bytes provided");const l=this.buildGenerator(i),u=new Int32Array(o);S.arraycopy(A,0,u,0,o);let d=new le(this.field,u);d=d.multiplyByMonomial(i,1);const m=d.divide(l)[1].getCoefficients(),y=i-m.length;for(let C=0;C<y;C++)A[o+C]=0;S.arraycopy(m,0,A,o+y,m.length)}}class Dt{constructor(){}static applyMaskPenaltyRule1(A){return Dt.applyMaskPenaltyRule1Internal(A,!0)+Dt.applyMaskPenaltyRule1Internal(A,!1)}static applyMaskPenaltyRule2(A){let i=0;const o=A.getArray(),l=A.getWidth(),u=A.getHeight();for(let d=0;d<u-1;d++){const p=o[d];for(let m=0;m<l-1;m++){const y=p[m];y===p[m+1]&&y===o[d+1][m]&&y===o[d+1][m+1]&&i++}}return Dt.N2*i}static applyMaskPenaltyRule3(A){let i=0;const o=A.getArray(),l=A.getWidth(),u=A.getHeight();for(let d=0;d<u;d++)for(let p=0;p<l;p++){const m=o[d];p+6<l&&m[p]===1&&m[p+1]===0&&m[p+2]===1&&m[p+3]===1&&m[p+4]===1&&m[p+5]===0&&m[p+6]===1&&(Dt.isWhiteHorizontal(m,p-4,p)||Dt.isWhiteHorizontal(m,p+7,p+11))&&i++,d+6<u&&o[d][p]===1&&o[d+1][p]===0&&o[d+2][p]===1&&o[d+3][p]===1&&o[d+4][p]===1&&o[d+5][p]===0&&o[d+6][p]===1&&(Dt.isWhiteVertical(o,p,d-4,d)||Dt.isWhiteVertical(o,p,d+7,d+11))&&i++}return i*Dt.N3}static isWhiteHorizontal(A,i,o){i=Math.max(i,0),o=Math.min(o,A.length);for(let l=i;l<o;l++)if(A[l]===1)return!1;return!0}static isWhiteVertical(A,i,o,l){o=Math.max(o,0),l=Math.min(l,A.length);for(let u=o;u<l;u++)if(A[u][i]===1)return!1;return!0}static applyMaskPenaltyRule4(A){let i=0;const o=A.getArray(),l=A.getWidth(),u=A.getHeight();for(let m=0;m<u;m++){const y=o[m];for(let C=0;C<l;C++)y[C]===1&&i++}const d=A.getHeight()*A.getWidth();return Math.floor(Math.abs(i*2-d)*10/d)*Dt.N4}static getDataMaskBit(A,i,o){let l,u;switch(A){case 0:l=o+i&1;break;case 1:l=o&1;break;case 2:l=i%3;break;case 3:l=(o+i)%3;break;case 4:l=Math.floor(o/2)+Math.floor(i/3)&1;break;case 5:u=o*i,l=(u&1)+u%3;break;case 6:u=o*i,l=(u&1)+u%3&1;break;case 7:u=o*i,l=u%3+(o+i&1)&1;break;default:throw new x("Invalid mask pattern: "+A)}return l===0}static applyMaskPenaltyRule1Internal(A,i){let o=0;const l=i?A.getHeight():A.getWidth(),u=i?A.getWidth():A.getHeight(),d=A.getArray();for(let p=0;p<l;p++){let m=0,y=-1;for(let C=0;C<u;C++){const N=i?d[p][C]:d[C][p];N===y?m++:(m>=5&&(o+=Dt.N1+(m-5)),m=1,y=N)}m>=5&&(o+=Dt.N1+(m-5))}return o}}Dt.N1=3,Dt.N2=3,Dt.N3=40,Dt.N4=10;class al{constructor(A,i){this.width=A,this.height=i;const o=new Array(i);for(let l=0;l!==i;l++)o[l]=new Uint8Array(A);this.bytes=o}getHeight(){return this.height}getWidth(){return this.width}get(A,i){return this.bytes[i][A]}getArray(){return this.bytes}setNumber(A,i,o){this.bytes[i][A]=o}setBoolean(A,i,o){this.bytes[i][A]=o?1:0}clear(A){for(const i of this.bytes)I.fill(i,A)}equals(A){if(!(A instanceof al))return!1;const i=A;if(this.width!==i.width||this.height!==i.height)return!1;for(let o=0,l=this.height;o<l;++o){const u=this.bytes[o],d=i.bytes[o];for(let p=0,m=this.width;p<m;++p)if(u[p]!==d[p])return!1}return!0}toString(){const A=new me;for(let i=0,o=this.height;i<o;++i){const l=this.bytes[i];for(let u=0,d=this.width;u<d;++u)switch(l[u]){case 0:A.append(" 0");break;case 1:A.append(" 1");break;default:A.append("  ");break}A.append(`
`)}return A.toString()}}class Bs{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const A=new me;return A.append(`<<
`),A.append(" mode: "),A.append(this.mode?this.mode.toString():"null"),A.append(`
 ecLevel: `),A.append(this.ecLevel?this.ecLevel.toString():"null"),A.append(`
 version: `),A.append(this.version?this.version.toString():"null"),A.append(`
 maskPattern: `),A.append(this.maskPattern.toString()),this.matrix?(A.append(`
 matrix:
`),A.append(this.matrix.toString())):A.append(`
 matrix: null
`),A.append(`>>
`),A.toString()}setMode(A){this.mode=A}setECLevel(A){this.ecLevel=A}setVersion(A){this.version=A}setMaskPattern(A){this.maskPattern=A}setMatrix(A){this.matrix=A}static isValidMaskPattern(A){return A>=0&&A<Bs.NUM_MASK_PATTERNS}}Bs.NUM_MASK_PATTERNS=8;class dt extends w{}dt.kind="WriterException";class Oe{constructor(){}static clearMatrix(A){A.clear(255)}static buildMatrix(A,i,o,l,u){Oe.clearMatrix(u),Oe.embedBasicPatterns(o,u),Oe.embedTypeInfo(i,l,u),Oe.maybeEmbedVersionInfo(o,u),Oe.embedDataBits(A,l,u)}static embedBasicPatterns(A,i){Oe.embedPositionDetectionPatternsAndSeparators(i),Oe.embedDarkDotAtLeftBottomCorner(i),Oe.maybeEmbedPositionAdjustmentPatterns(A,i),Oe.embedTimingPatterns(i)}static embedTypeInfo(A,i,o){const l=new k;Oe.makeTypeInfoBits(A,i,l);for(let u=0,d=l.getSize();u<d;++u){const p=l.get(l.getSize()-1-u),m=Oe.TYPE_INFO_COORDINATES[u],y=m[0],C=m[1];if(o.setBoolean(y,C,p),u<8){const N=o.getWidth()-u-1;o.setBoolean(N,8,p)}else{const _=o.getHeight()-7+(u-8);o.setBoolean(8,_,p)}}}static maybeEmbedVersionInfo(A,i){if(A.getVersionNumber()<7)return;const o=new k;Oe.makeVersionInfoBits(A,o);let l=6*3-1;for(let u=0;u<6;++u)for(let d=0;d<3;++d){const p=o.get(l);l--,i.setBoolean(u,i.getHeight()-11+d,p),i.setBoolean(i.getHeight()-11+d,u,p)}}static embedDataBits(A,i,o){let l=0,u=-1,d=o.getWidth()-1,p=o.getHeight()-1;for(;d>0;){for(d===6&&(d-=1);p>=0&&p<o.getHeight();){for(let m=0;m<2;++m){const y=d-m;if(!Oe.isEmpty(o.get(y,p)))continue;let C;l<A.getSize()?(C=A.get(l),++l):C=!1,i!==255&&Dt.getDataMaskBit(i,y,p)&&(C=!C),o.setBoolean(y,p,C)}p+=u}u=-u,p+=u,d-=2}if(l!==A.getSize())throw new dt("Not all bits consumed: "+l+"/"+A.getSize())}static findMSBSet(A){return 32-U.numberOfLeadingZeros(A)}static calculateBCHCode(A,i){if(i===0)throw new x("0 polynomial");const o=Oe.findMSBSet(i);for(A<<=o-1;Oe.findMSBSet(A)>=o;)A^=i<<Oe.findMSBSet(A)-o;return A}static makeTypeInfoBits(A,i,o){if(!Bs.isValidMaskPattern(i))throw new dt("Invalid mask pattern");const l=A.getBits()<<3|i;o.appendBits(l,5);const u=Oe.calculateBCHCode(l,Oe.TYPE_INFO_POLY);o.appendBits(u,10);const d=new k;if(d.appendBits(Oe.TYPE_INFO_MASK_PATTERN,15),o.xor(d),o.getSize()!==15)throw new dt("should not happen but we got: "+o.getSize())}static makeVersionInfoBits(A,i){i.appendBits(A.getVersionNumber(),6);const o=Oe.calculateBCHCode(A.getVersionNumber(),Oe.VERSION_INFO_POLY);if(i.appendBits(o,12),i.getSize()!==18)throw new dt("should not happen but we got: "+i.getSize())}static isEmpty(A){return A===255}static embedTimingPatterns(A){for(let i=8;i<A.getWidth()-8;++i){const o=(i+1)%2;Oe.isEmpty(A.get(i,6))&&A.setNumber(i,6,o),Oe.isEmpty(A.get(6,i))&&A.setNumber(6,i,o)}}static embedDarkDotAtLeftBottomCorner(A){if(A.get(8,A.getHeight()-8)===0)throw new dt;A.setNumber(8,A.getHeight()-8,1)}static embedHorizontalSeparationPattern(A,i,o){for(let l=0;l<8;++l){if(!Oe.isEmpty(o.get(A+l,i)))throw new dt;o.setNumber(A+l,i,0)}}static embedVerticalSeparationPattern(A,i,o){for(let l=0;l<7;++l){if(!Oe.isEmpty(o.get(A,i+l)))throw new dt;o.setNumber(A,i+l,0)}}static embedPositionAdjustmentPattern(A,i,o){for(let l=0;l<5;++l){const u=Oe.POSITION_ADJUSTMENT_PATTERN[l];for(let d=0;d<5;++d)o.setNumber(A+d,i+l,u[d])}}static embedPositionDetectionPattern(A,i,o){for(let l=0;l<7;++l){const u=Oe.POSITION_DETECTION_PATTERN[l];for(let d=0;d<7;++d)o.setNumber(A+d,i+l,u[d])}}static embedPositionDetectionPatternsAndSeparators(A){const i=Oe.POSITION_DETECTION_PATTERN[0].length;Oe.embedPositionDetectionPattern(0,0,A),Oe.embedPositionDetectionPattern(A.getWidth()-i,0,A),Oe.embedPositionDetectionPattern(0,A.getWidth()-i,A);const o=8;Oe.embedHorizontalSeparationPattern(0,o-1,A),Oe.embedHorizontalSeparationPattern(A.getWidth()-o,o-1,A),Oe.embedHorizontalSeparationPattern(0,A.getWidth()-o,A);const l=7;Oe.embedVerticalSeparationPattern(l,0,A),Oe.embedVerticalSeparationPattern(A.getHeight()-l-1,0,A),Oe.embedVerticalSeparationPattern(l,A.getHeight()-l,A)}static maybeEmbedPositionAdjustmentPatterns(A,i){if(A.getVersionNumber()<2)return;const o=A.getVersionNumber()-1,l=Oe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[o];for(let u=0,d=l.length;u!==d;u++){const p=l[u];if(p>=0)for(let m=0;m!==d;m++){const y=l[m];y>=0&&Oe.isEmpty(i.get(y,p))&&Oe.embedPositionAdjustmentPattern(y-2,p-2,i)}}}}Oe.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Oe.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Oe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Oe.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Oe.VERSION_INFO_POLY=7973,Oe.TYPE_INFO_POLY=1335,Oe.TYPE_INFO_MASK_PATTERN=21522;class GC{constructor(A,i){this.dataBytes=A,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Bt{constructor(){}static calculateMaskPenalty(A){return Dt.applyMaskPenaltyRule1(A)+Dt.applyMaskPenaltyRule2(A)+Dt.applyMaskPenaltyRule3(A)+Dt.applyMaskPenaltyRule4(A)}static encode(A,i,o=null){let l=Bt.DEFAULT_BYTE_MODE_ENCODING;const u=o!==null&&o.get(qt.CHARACTER_SET)!==void 0;u&&(l=o.get(qt.CHARACTER_SET).toString());const d=this.chooseMode(A,l),p=new k;if(d===Qe.BYTE&&(u||Bt.DEFAULT_BYTE_MODE_ENCODING!==l)){const he=G.getCharacterSetECIByName(l);he!==void 0&&this.appendECI(he,p)}this.appendModeInfo(d,p);const m=new k;this.appendBytes(A,d,m,l);let y;if(o!==null&&o.get(qt.QR_VERSION)!==void 0){const he=Number.parseInt(o.get(qt.QR_VERSION).toString(),10);y=_e.getVersionForNumber(he);const ae=this.calculateBitsNeeded(d,p,m,y);if(!this.willFit(ae,y,i))throw new dt("Data too big for requested version")}else y=this.recommendVersion(i,d,p,m);const C=new k;C.appendBitArray(p);const N=d===Qe.BYTE?m.getSizeInBytes():A.length;this.appendLengthInfo(N,y,d,C),C.appendBitArray(m);const _=y.getECBlocksForLevel(i),O=y.getTotalCodewords()-_.getTotalECCodewords();this.terminateBits(O,C);const P=this.interleaveWithECBytes(C,y.getTotalCodewords(),O,_.getNumBlocks()),K=new Bs;K.setECLevel(i),K.setMode(d),K.setVersion(y);const Y=y.getDimensionForVersion(),$=new al(Y,Y),de=this.chooseMaskPattern(P,i,y,$);return K.setMaskPattern(de),Oe.buildMatrix(P,i,y,de,$),K.setMatrix($),K}static recommendVersion(A,i,o,l){const u=this.calculateBitsNeeded(i,o,l,_e.getVersionForNumber(1)),d=this.chooseVersion(u,A),p=this.calculateBitsNeeded(i,o,l,d);return this.chooseVersion(p,A)}static calculateBitsNeeded(A,i,o,l){return i.getSize()+A.getCharacterCountBits(l)+o.getSize()}static getAlphanumericCode(A){return A<Bt.ALPHANUMERIC_TABLE.length?Bt.ALPHANUMERIC_TABLE[A]:-1}static chooseMode(A,i=null){if(G.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(A))return Qe.KANJI;let o=!1,l=!1;for(let u=0,d=A.length;u<d;++u){const p=A.charAt(u);if(Bt.isDigit(p))o=!0;else if(this.getAlphanumericCode(p.charCodeAt(0))!==-1)l=!0;else return Qe.BYTE}return l?Qe.ALPHANUMERIC:o?Qe.NUMERIC:Qe.BYTE}static isOnlyDoubleByteKanji(A){let i;try{i=Ne.encode(A,G.SJIS)}catch{return!1}const o=i.length;if(o%2!==0)return!1;for(let l=0;l<o;l+=2){const u=i[l]&255;if((u<129||u>159)&&(u<224||u>235))return!1}return!0}static chooseMaskPattern(A,i,o,l){let u=Number.MAX_SAFE_INTEGER,d=-1;for(let p=0;p<Bs.NUM_MASK_PATTERNS;p++){Oe.buildMatrix(A,i,o,p,l);let m=this.calculateMaskPenalty(l);m<u&&(u=m,d=p)}return d}static chooseVersion(A,i){for(let o=1;o<=40;o++){const l=_e.getVersionForNumber(o);if(Bt.willFit(A,l,i))return l}throw new dt("Data too big")}static willFit(A,i,o){const l=i.getTotalCodewords(),d=i.getECBlocksForLevel(o).getTotalECCodewords(),p=l-d,m=(A+7)/8;return p>=m}static terminateBits(A,i){const o=A*8;if(i.getSize()>o)throw new dt("data bits cannot fit in the QR Code"+i.getSize()+" > "+o);for(let d=0;d<4&&i.getSize()<o;++d)i.appendBit(!1);const l=i.getSize()&7;if(l>0)for(let d=l;d<8;d++)i.appendBit(!1);const u=A-i.getSizeInBytes();for(let d=0;d<u;++d)i.appendBits(d&1?17:236,8);if(i.getSize()!==o)throw new dt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(A,i,o,l,u,d){if(l>=o)throw new dt("Block ID too large");const p=A%o,m=o-p,y=Math.floor(A/o),C=y+1,N=Math.floor(i/o),_=N+1,O=y-N,P=C-_;if(O!==P)throw new dt("EC bytes mismatch");if(o!==m+p)throw new dt("RS blocks mismatch");if(A!==(N+O)*m+(_+P)*p)throw new dt("Total bytes mismatch");l<m?(u[0]=N,d[0]=O):(u[0]=_,d[0]=P)}static interleaveWithECBytes(A,i,o,l){if(A.getSizeInBytes()!==o)throw new dt("Number of bits and data bytes does not match");let u=0,d=0,p=0;const m=new Array;for(let C=0;C<l;++C){const N=new Int32Array(1),_=new Int32Array(1);Bt.getNumDataBytesAndNumECBytesForBlockID(i,o,l,C,N,_);const O=N[0],P=new Uint8Array(O);A.toBytes(8*u,P,0,O);const K=Bt.generateECBytes(P,_[0]);m.push(new GC(P,K)),d=Math.max(d,O),p=Math.max(p,K.length),u+=N[0]}if(o!==u)throw new dt("Data bytes does not match offset");const y=new k;for(let C=0;C<d;++C)for(const N of m){const _=N.getDataBytes();C<_.length&&y.appendBits(_[C],8)}for(let C=0;C<p;++C)for(const N of m){const _=N.getErrorCorrectionBytes();C<_.length&&y.appendBits(_[C],8)}if(i!==y.getSizeInBytes())throw new dt("Interleaving error: "+i+" and "+y.getSizeInBytes()+" differ.");return y}static generateECBytes(A,i){const o=A.length,l=new Int32Array(o+i);for(let d=0;d<o;d++)l[d]=A[d]&255;new nd(we.QR_CODE_FIELD_256).encode(l,i);const u=new Uint8Array(i);for(let d=0;d<i;d++)u[d]=l[o+d];return u}static appendModeInfo(A,i){i.appendBits(A.getBits(),4)}static appendLengthInfo(A,i,o,l){const u=o.getCharacterCountBits(i);if(A>=1<<u)throw new dt(A+" is bigger than "+((1<<u)-1));l.appendBits(A,u)}static appendBytes(A,i,o,l){switch(i){case Qe.NUMERIC:Bt.appendNumericBytes(A,o);break;case Qe.ALPHANUMERIC:Bt.appendAlphanumericBytes(A,o);break;case Qe.BYTE:Bt.append8BitBytes(A,o,l);break;case Qe.KANJI:Bt.appendKanjiBytes(A,o);break;default:throw new dt("Invalid mode: "+i)}}static getDigit(A){return A.charCodeAt(0)-48}static isDigit(A){const i=Bt.getDigit(A);return i>=0&&i<=9}static appendNumericBytes(A,i){const o=A.length;let l=0;for(;l<o;){const u=Bt.getDigit(A.charAt(l));if(l+2<o){const d=Bt.getDigit(A.charAt(l+1)),p=Bt.getDigit(A.charAt(l+2));i.appendBits(u*100+d*10+p,10),l+=3}else if(l+1<o){const d=Bt.getDigit(A.charAt(l+1));i.appendBits(u*10+d,7),l+=2}else i.appendBits(u,4),l++}}static appendAlphanumericBytes(A,i){const o=A.length;let l=0;for(;l<o;){const u=Bt.getAlphanumericCode(A.charCodeAt(l));if(u===-1)throw new dt;if(l+1<o){const d=Bt.getAlphanumericCode(A.charCodeAt(l+1));if(d===-1)throw new dt;i.appendBits(u*45+d,11),l+=2}else i.appendBits(u,6),l++}}static append8BitBytes(A,i,o){let l;try{l=Ne.encode(A,o)}catch(u){throw new dt(u)}for(let u=0,d=l.length;u!==d;u++){const p=l[u];i.appendBits(p,8)}}static appendKanjiBytes(A,i){let o;try{o=Ne.encode(A,G.SJIS)}catch(u){throw new dt(u)}const l=o.length;for(let u=0;u<l;u+=2){const d=o[u]&255,p=o[u+1]&255,m=d<<8&4294967295|p;let y=-1;if(m>=33088&&m<=40956?y=m-33088:m>=57408&&m<=60351&&(y=m-49472),y===-1)throw new dt("Invalid byte sequence");const C=(y>>8)*192+(y&255);i.appendBits(C,13)}}static appendECI(A,i){i.appendBits(Qe.ECI.getBits(),4),i.appendBits(A.getValue(),8)}}Bt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Bt.DEFAULT_BYTE_MODE_ENCODING=G.UTF8.getName();class ys{write(A,i,o,l=null){if(A.length===0)throw new x("Found empty contents");if(i<0||o<0)throw new x("Requested dimensions are too small: "+i+"x"+o);let u=ft.L,d=ys.QUIET_ZONE_SIZE;l!==null&&(l.get(qt.ERROR_CORRECTION)!==void 0&&(u=ft.fromString(l.get(qt.ERROR_CORRECTION).toString())),l.get(qt.MARGIN)!==void 0&&(d=Number.parseInt(l.get(qt.MARGIN).toString(),10)));const p=Bt.encode(A,u,l);return this.renderResult(p,i,o,d)}writeToDom(A,i,o,l,u=null){typeof A=="string"&&(A=document.querySelector(A));const d=this.write(i,o,l,u);A&&A.appendChild(d)}renderResult(A,i,o,l){const u=A.getMatrix();if(u===null)throw new et;const d=u.getWidth(),p=u.getHeight(),m=d+l*2,y=p+l*2,C=Math.max(i,m),N=Math.max(o,y),_=Math.min(Math.floor(C/m),Math.floor(N/y)),O=Math.floor((C-d*_)/2),P=Math.floor((N-p*_)/2),K=this.createSVGElement(C,N);for(let Y=0,$=P;Y<p;Y++,$+=_)for(let de=0,he=O;de<d;de++,he+=_)if(u.get(de,Y)===1){const ae=this.createSvgRectElement(he,$,_,_);K.appendChild(ae)}return K}createSVGElement(A,i){const o=document.createElementNS(ys.SVG_NS,"svg");return o.setAttributeNS(null,"height",A.toString()),o.setAttributeNS(null,"width",i.toString()),o}createSvgRectElement(A,i,o,l){const u=document.createElementNS(ys.SVG_NS,"rect");return u.setAttributeNS(null,"x",A.toString()),u.setAttributeNS(null,"y",i.toString()),u.setAttributeNS(null,"height",o.toString()),u.setAttributeNS(null,"width",l.toString()),u.setAttributeNS(null,"fill","#000000"),u}}ys.QUIET_ZONE_SIZE=4,ys.SVG_NS="http://www.w3.org/2000/svg";class ti{encode(A,i,o,l,u){if(A.length===0)throw new x("Found empty contents");if(i!==j.QR_CODE)throw new x("Can only encode QR_CODE, but got "+i);if(o<0||l<0)throw new x(`Requested dimensions are too small: ${o}x${l}`);let d=ft.L,p=ti.QUIET_ZONE_SIZE;u!==null&&(u.get(qt.ERROR_CORRECTION)!==void 0&&(d=ft.fromString(u.get(qt.ERROR_CORRECTION).toString())),u.get(qt.MARGIN)!==void 0&&(p=Number.parseInt(u.get(qt.MARGIN).toString(),10)));const m=Bt.encode(A,d,u);return ti.renderResult(m,o,l,p)}static renderResult(A,i,o,l){const u=A.getMatrix();if(u===null)throw new et;const d=u.getWidth(),p=u.getHeight(),m=d+l*2,y=p+l*2,C=Math.max(i,m),N=Math.max(o,y),_=Math.min(Math.floor(C/m),Math.floor(N/y)),O=Math.floor((C-d*_)/2),P=Math.floor((N-p*_)/2),K=new Te(C,N);for(let Y=0,$=P;Y<p;Y++,$+=_)for(let de=0,he=O;de<d;de++,he+=_)u.get(de,Y)===1&&K.setRegion(he,$,_,_);return K}}ti.QUIET_ZONE_SIZE=4;class zC{encode(A,i,o,l,u){let d;switch(i){case j.QR_CODE:d=new ti;break;default:throw new x("No encoder available for format "+i)}return d.encode(A,i,o,l,u)}}class Vn extends Ae{constructor(A,i,o,l,u,d,p,m){if(super(d,p),this.yuvData=A,this.dataWidth=i,this.dataHeight=o,this.left=l,this.top=u,l+d>i||u+p>o)throw new x("Crop rectangle does not fit within image data.");m&&this.reverseHorizontal(d,p)}getRow(A,i){if(A<0||A>=this.getHeight())throw new x("Requested row is outside the image: "+A);const o=this.getWidth();(i==null||i.length<o)&&(i=new Uint8ClampedArray(o));const l=(A+this.top)*this.dataWidth+this.left;return S.arraycopy(this.yuvData,l,i,0,o),i}getMatrix(){const A=this.getWidth(),i=this.getHeight();if(A===this.dataWidth&&i===this.dataHeight)return this.yuvData;const o=A*i,l=new Uint8ClampedArray(o);let u=this.top*this.dataWidth+this.left;if(A===this.dataWidth)return S.arraycopy(this.yuvData,u,l,0,o),l;for(let d=0;d<i;d++){const p=d*A;S.arraycopy(this.yuvData,u,l,p,A),u+=this.dataWidth}return l}isCropSupported(){return!0}crop(A,i,o,l){return new Vn(this.yuvData,this.dataWidth,this.dataHeight,this.left+A,this.top+i,o,l,!1)}renderThumbnail(){const A=this.getWidth()/Vn.THUMBNAIL_SCALE_FACTOR,i=this.getHeight()/Vn.THUMBNAIL_SCALE_FACTOR,o=new Int32Array(A*i),l=this.yuvData;let u=this.top*this.dataWidth+this.left;for(let d=0;d<i;d++){const p=d*A;for(let m=0;m<A;m++){const y=l[u+m*Vn.THUMBNAIL_SCALE_FACTOR]&255;o[p+m]=4278190080|y*65793}u+=this.dataWidth*Vn.THUMBNAIL_SCALE_FACTOR}return o}getThumbnailWidth(){return this.getWidth()/Vn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Vn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(A,i){const o=this.yuvData;for(let l=0,u=this.top*this.dataWidth+this.left;l<i;l++,u+=this.dataWidth){const d=u+A/2;for(let p=u,m=u+A-1;p<d;p++,m--){const y=o[p];o[p]=o[m],o[m]=y}}}invert(){return new xe(this)}}Vn.THUMBNAIL_SCALE_FACTOR=2;class Ad extends Ae{constructor(A,i,o,l,u,d,p){if(super(i,o),this.dataWidth=l,this.dataHeight=u,this.left=d,this.top=p,A.BYTES_PER_ELEMENT===4){const m=i*o,y=new Uint8ClampedArray(m);for(let C=0;C<m;C++){const N=A[C],_=N>>16&255,O=N>>7&510,P=N&255;y[C]=(_+O+P)/4&255}this.luminances=y}else this.luminances=A;if(l===void 0&&(this.dataWidth=i),u===void 0&&(this.dataHeight=o),d===void 0&&(this.left=0),p===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+o>this.dataHeight)throw new x("Crop rectangle does not fit within image data.")}getRow(A,i){if(A<0||A>=this.getHeight())throw new x("Requested row is outside the image: "+A);const o=this.getWidth();(i==null||i.length<o)&&(i=new Uint8ClampedArray(o));const l=(A+this.top)*this.dataWidth+this.left;return S.arraycopy(this.luminances,l,i,0,o),i}getMatrix(){const A=this.getWidth(),i=this.getHeight();if(A===this.dataWidth&&i===this.dataHeight)return this.luminances;const o=A*i,l=new Uint8ClampedArray(o);let u=this.top*this.dataWidth+this.left;if(A===this.dataWidth)return S.arraycopy(this.luminances,u,l,0,o),l;for(let d=0;d<i;d++){const p=d*A;S.arraycopy(this.luminances,u,l,p,A),u+=this.dataWidth}return l}isCropSupported(){return!0}crop(A,i,o,l){return new Ad(this.luminances,o,l,this.dataWidth,this.dataHeight,this.left+A,this.top+i)}invert(){return new xe(this)}}class Fg extends G{static forName(A){return this.getCharacterSetECIByName(A)}}class sd{}sd.ISO_8859_1=G.ISO8859_1;class Ng{isCompact(){return this.compact}setCompact(A){this.compact=A}getSize(){return this.size}setSize(A){this.size=A}getLayers(){return this.layers}setLayers(A){this.layers=A}getCodeWords(){return this.codeWords}setCodeWords(A){this.codeWords=A}getMatrix(){return this.matrix}setMatrix(A){this.matrix=A}}class Tg{static singletonList(A){return[A]}static min(A,i){return A.sort(i)[0]}}class WC{constructor(A){this.previous=A}getPrevious(){return this.previous}}class ri extends WC{constructor(A,i,o){super(A),this.value=i,this.bitCount=o}appendTo(A,i){A.appendBits(this.value,this.bitCount)}add(A,i){return new ri(this,A,i)}addBinaryShift(A,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new ri(this,A,i)}toString(){let A=this.value&(1<<this.bitCount)-1;return A|=1<<this.bitCount,"<"+U.toBinaryString(A|1<<this.bitCount).substring(1)+">"}}class id extends ri{constructor(A,i,o){super(A,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=o}appendTo(A,i){for(let o=0;o<this.binaryShiftByteCount;o++)(o===0||o===31&&this.binaryShiftByteCount<=62)&&(A.appendBits(31,5),this.binaryShiftByteCount>62?A.appendBits(this.binaryShiftByteCount-31,16):o===0?A.appendBits(Math.min(this.binaryShiftByteCount,31),5):A.appendBits(this.binaryShiftByteCount-31,5)),A.appendBits(i[this.binaryShiftStart+o],8)}addBinaryShift(A,i){return new id(this,A,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function YC(F,A,i){return new id(F,A,i)}function ya(F,A,i){return new ri(F,A,i)}const XC=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],FA=0,ol=1,fn=2,Ug=3,Gn=4,JC=new ri(null,0,0),ad=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function ZC(F){for(let A of F)I.fill(A,-1);return F[FA][Gn]=0,F[ol][Gn]=0,F[ol][FA]=28,F[Ug][Gn]=0,F[fn][Gn]=0,F[fn][FA]=15,F}const _g=ZC(I.createInt32Array(6,6));class zn{constructor(A,i,o,l){this.token=A,this.mode=i,this.binaryShiftByteCount=o,this.bitCount=l}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(A,i){let o=this.bitCount,l=this.token;if(A!==this.mode){let d=ad[this.mode][A];l=ya(l,d&65535,d>>16),o+=d>>16}let u=A===fn?4:5;return l=ya(l,i,u),new zn(l,A,0,o+u)}shiftAndAppend(A,i){let o=this.token,l=this.mode===fn?4:5;return o=ya(o,_g[this.mode][A],l),o=ya(o,i,5),new zn(o,this.mode,0,this.bitCount+l+5)}addBinaryShiftChar(A){let i=this.token,o=this.mode,l=this.bitCount;if(this.mode===Gn||this.mode===fn){let p=ad[o][FA];i=ya(i,p&65535,p>>16),l+=p>>16,o=FA}let u=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,d=new zn(i,o,this.binaryShiftByteCount+1,l+u);return d.binaryShiftByteCount===2078&&(d=d.endBinaryShift(A+1)),d}endBinaryShift(A){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=YC(i,A-this.binaryShiftByteCount,this.binaryShiftByteCount),new zn(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(A){let i=this.bitCount+(ad[this.mode][A.mode]>>16);return this.binaryShiftByteCount<A.binaryShiftByteCount?i+=zn.calculateBinaryShiftCost(A)-zn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>A.binaryShiftByteCount&&A.binaryShiftByteCount>0&&(i+=10),i<=A.bitCount}toBitArray(A){let i=[];for(let l=this.endBinaryShift(A.length).token;l!==null;l=l.getPrevious())i.unshift(l);let o=new k;for(const l of i)l.appendTo(o,A);return o}toString(){return fe.format("%s bits=%d bytes=%d",XC[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(A){return A.binaryShiftByteCount>62?21:A.binaryShiftByteCount>31?20:A.binaryShiftByteCount>0?10:0}}zn.INITIAL_STATE=new zn(JC,FA,0,0);function qC(F){const A=fe.getCharCode(" "),i=fe.getCharCode("."),o=fe.getCharCode(",");F[FA][A]=1;const l=fe.getCharCode("Z"),u=fe.getCharCode("A");for(let _=u;_<=l;_++)F[FA][_]=_-u+2;F[ol][A]=1;const d=fe.getCharCode("z"),p=fe.getCharCode("a");for(let _=p;_<=d;_++)F[ol][_]=_-p+2;F[fn][A]=1;const m=fe.getCharCode("9"),y=fe.getCharCode("0");for(let _=y;_<=m;_++)F[fn][_]=_-y+2;F[fn][o]=12,F[fn][i]=13;const C=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let _=0;_<C.length;_++)F[Ug][fe.getCharCode(C[_])]=_;const N=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let _=0;_<N.length;_++)fe.getCharCode(N[_])>0&&(F[Gn][fe.getCharCode(N[_])]=_);return F}const od=qC(I.createInt32Array(5,256));class Ca{constructor(A){this.text=A}encode(){const A=fe.getCharCode(" "),i=fe.getCharCode(`
`);let o=Tg.singletonList(zn.INITIAL_STATE);for(let u=0;u<this.text.length;u++){let d,p=u+1<this.text.length?this.text[u+1]:0;switch(this.text[u]){case fe.getCharCode("\r"):d=p===i?2:0;break;case fe.getCharCode("."):d=p===A?3:0;break;case fe.getCharCode(","):d=p===A?4:0;break;case fe.getCharCode(":"):d=p===A?5:0;break;default:d=0}d>0?(o=Ca.updateStateListForPair(o,u,d),u++):o=this.updateStateListForChar(o,u)}return Tg.min(o,(u,d)=>u.getBitCount()-d.getBitCount()).toBitArray(this.text)}updateStateListForChar(A,i){const o=[];for(let l of A)this.updateStateForChar(l,i,o);return Ca.simplifyStates(o)}updateStateForChar(A,i,o){let l=this.text[i]&255,u=od[A.getMode()][l]>0,d=null;for(let p=0;p<=Gn;p++){let m=od[p][l];if(m>0){if(d==null&&(d=A.endBinaryShift(i)),!u||p===A.getMode()||p===fn){const y=d.latchAndAppend(p,m);o.push(y)}if(!u&&_g[A.getMode()][p]>=0){const y=d.shiftAndAppend(p,m);o.push(y)}}}if(A.getBinaryShiftByteCount()>0||od[A.getMode()][l]===0){let p=A.addBinaryShiftChar(i);o.push(p)}}static updateStateListForPair(A,i,o){const l=[];for(let u of A)this.updateStateForPair(u,i,o,l);return this.simplifyStates(l)}static updateStateForPair(A,i,o,l){let u=A.endBinaryShift(i);if(l.push(u.latchAndAppend(Gn,o)),A.getMode()!==Gn&&l.push(u.shiftAndAppend(Gn,o)),o===3||o===4){let d=u.latchAndAppend(fn,16-o).latchAndAppend(fn,1);l.push(d)}if(A.getBinaryShiftByteCount()>0){let d=A.addBinaryShiftChar(i).addBinaryShiftChar(i+1);l.push(d)}}static simplifyStates(A){let i=[];for(const o of A){let l=!0;for(const u of i){if(u.isBetterThanOrEqualTo(o)){l=!1;break}o.isBetterThanOrEqualTo(u)&&(i=i.filter(d=>d!==u))}l&&i.push(o)}return i}}class qe{constructor(){}static encodeBytes(A){return qe.encode(A,qe.DEFAULT_EC_PERCENT,qe.DEFAULT_AZTEC_LAYERS)}static encode(A,i,o){let l=new Ca(A).encode(),u=U.truncDivision(l.getSize()*i,100)+11,d=l.getSize()+u,p,m,y,C,N;if(o!==qe.DEFAULT_AZTEC_LAYERS){if(p=o<0,m=Math.abs(o),m>(p?qe.MAX_NB_BITS_COMPACT:qe.MAX_NB_BITS))throw new x(fe.format("Illegal value %s for layers",o));y=qe.totalBitsInLayer(m,p),C=qe.WORD_SIZE[m];let ae=y-y%C;if(N=qe.stuffBits(l,C),N.getSize()+u>ae)throw new x("Data to large for user specified layer");if(p&&N.getSize()>C*64)throw new x("Data to large for user specified layer")}else{C=0,N=null;for(let ae=0;;ae++){if(ae>qe.MAX_NB_BITS)throw new x("Data too large for an Aztec code");if(p=ae<=3,m=p?ae+1:ae,y=qe.totalBitsInLayer(m,p),d>y)continue;(N==null||C!==qe.WORD_SIZE[m])&&(C=qe.WORD_SIZE[m],N=qe.stuffBits(l,C));let Ye=y-y%C;if(!(p&&N.getSize()>C*64)&&N.getSize()+u<=Ye)break}}let _=qe.generateCheckWords(N,y,C),O=N.getSize()/C,P=qe.generateModeMessage(p,m,O),K=(p?11:14)+m*4,Y=new Int32Array(K),$;if(p){$=K;for(let ae=0;ae<Y.length;ae++)Y[ae]=ae}else{$=K+1+2*U.truncDivision(U.truncDivision(K,2)-1,15);let ae=U.truncDivision(K,2),Ye=U.truncDivision($,2);for(let Ke=0;Ke<ae;Ke++){let Mr=Ke+U.truncDivision(Ke,15);Y[ae-Ke-1]=Ye-Mr-1,Y[ae+Ke]=Ye+Mr+1}}let de=new Te($);for(let ae=0,Ye=0;ae<m;ae++){let Ke=(m-ae)*4+(p?9:12);for(let Mr=0;Mr<Ke;Mr++){let Sn=Mr*2;for(let Lr=0;Lr<2;Lr++)_.get(Ye+Sn+Lr)&&de.set(Y[ae*2+Lr],Y[ae*2+Mr]),_.get(Ye+Ke*2+Sn+Lr)&&de.set(Y[ae*2+Mr],Y[K-1-ae*2-Lr]),_.get(Ye+Ke*4+Sn+Lr)&&de.set(Y[K-1-ae*2-Lr],Y[K-1-ae*2-Mr]),_.get(Ye+Ke*6+Sn+Lr)&&de.set(Y[K-1-ae*2-Mr],Y[ae*2+Lr])}Ye+=Ke*8}if(qe.drawModeMessage(de,p,$,P),p)qe.drawBullsEye(de,U.truncDivision($,2),5);else{qe.drawBullsEye(de,U.truncDivision($,2),7);for(let ae=0,Ye=0;ae<U.truncDivision(K,2)-1;ae+=15,Ye+=16)for(let Ke=U.truncDivision($,2)&1;Ke<$;Ke+=2)de.set(U.truncDivision($,2)-Ye,Ke),de.set(U.truncDivision($,2)+Ye,Ke),de.set(Ke,U.truncDivision($,2)-Ye),de.set(Ke,U.truncDivision($,2)+Ye)}let he=new Ng;return he.setCompact(p),he.setSize($),he.setLayers(m),he.setCodeWords(O),he.setMatrix(de),he}static drawBullsEye(A,i,o){for(let l=0;l<o;l+=2)for(let u=i-l;u<=i+l;u++)A.set(u,i-l),A.set(u,i+l),A.set(i-l,u),A.set(i+l,u);A.set(i-o,i-o),A.set(i-o+1,i-o),A.set(i-o,i-o+1),A.set(i+o,i-o),A.set(i+o,i-o+1),A.set(i+o,i+o-1)}static generateModeMessage(A,i,o){let l=new k;return A?(l.appendBits(i-1,2),l.appendBits(o-1,6),l=qe.generateCheckWords(l,28,4)):(l.appendBits(i-1,5),l.appendBits(o-1,11),l=qe.generateCheckWords(l,40,4)),l}static drawModeMessage(A,i,o,l){let u=U.truncDivision(o,2);if(i)for(let d=0;d<7;d++){let p=u-3+d;l.get(d)&&A.set(p,u-5),l.get(d+7)&&A.set(u+5,p),l.get(20-d)&&A.set(p,u+5),l.get(27-d)&&A.set(u-5,p)}else for(let d=0;d<10;d++){let p=u-5+d+U.truncDivision(d,5);l.get(d)&&A.set(p,u-7),l.get(d+10)&&A.set(u+7,p),l.get(29-d)&&A.set(p,u+7),l.get(39-d)&&A.set(u-7,p)}}static generateCheckWords(A,i,o){let l=A.getSize()/o,u=new nd(qe.getGF(o)),d=U.truncDivision(i,o),p=qe.bitsToWords(A,o,d);u.encode(p,d-l);let m=i%o,y=new k;y.appendBits(0,m);for(const C of Array.from(p))y.appendBits(C,o);return y}static bitsToWords(A,i,o){let l=new Int32Array(o),u,d;for(u=0,d=A.getSize()/i;u<d;u++){let p=0;for(let m=0;m<i;m++)p|=A.get(u*i+m)?1<<i-m-1:0;l[u]=p}return l}static getGF(A){switch(A){case 4:return we.AZTEC_PARAM;case 6:return we.AZTEC_DATA_6;case 8:return we.AZTEC_DATA_8;case 10:return we.AZTEC_DATA_10;case 12:return we.AZTEC_DATA_12;default:throw new x("Unsupported word size "+A)}}static stuffBits(A,i){let o=new k,l=A.getSize(),u=(1<<i)-2;for(let d=0;d<l;d+=i){let p=0;for(let m=0;m<i;m++)(d+m>=l||A.get(d+m))&&(p|=1<<i-1-m);(p&u)===u?(o.appendBits(p&u,i),d--):p&u?o.appendBits(p,i):(o.appendBits(p|1,i),d--)}return o}static totalBitsInLayer(A,i){return((i?88:112)+16*A)*A}}qe.DEFAULT_EC_PERCENT=33,qe.DEFAULT_AZTEC_LAYERS=0,qe.MAX_NB_BITS=32,qe.MAX_NB_BITS_COMPACT=4,qe.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class ll{encode(A,i,o,l){return this.encodeWithHints(A,i,o,l,null)}encodeWithHints(A,i,o,l,u){let d=sd.ISO_8859_1,p=qe.DEFAULT_EC_PERCENT,m=qe.DEFAULT_AZTEC_LAYERS;return u!=null&&(u.has(qt.CHARACTER_SET)&&(d=Fg.forName(u.get(qt.CHARACTER_SET).toString())),u.has(qt.ERROR_CORRECTION)&&(p=U.parseInt(u.get(qt.ERROR_CORRECTION).toString())),u.has(qt.AZTEC_LAYERS)&&(m=U.parseInt(u.get(qt.AZTEC_LAYERS).toString()))),ll.encodeLayers(A,i,o,l,d,p,m)}static encodeLayers(A,i,o,l,u,d,p){if(i!==j.AZTEC)throw new x("Can only encode AZTEC, but got "+i);let m=qe.encode(fe.getBytes(A,u),d,p);return ll.renderResult(m,o,l)}static renderResult(A,i,o){let l=A.getMatrix();if(l==null)throw new et;let u=l.getWidth(),d=l.getHeight(),p=Math.max(i,u),m=Math.max(o,d),y=Math.min(p/u,m/d),C=(p-u*y)/2,N=(m-d*y)/2,_=new Te(p,m);for(let O=0,P=N;O<d;O++,P+=y)for(let K=0,Y=C;K<u;K++,Y+=y)l.get(K,O)&&_.setRegion(Y,P,y,y);return _}}r.AbstractExpandedDecoder=Wu,r.ArgumentException=B,r.ArithmeticException=Le,r.AztecCode=Ng,r.AztecCodeReader=Qr,r.AztecCodeWriter=ll,r.AztecDecoder=ve,r.AztecDetector=Ys,r.AztecDetectorResult=ha,r.AztecEncoder=qe,r.AztecHighLevelEncoder=Ca,r.AztecPoint=kt,r.BarcodeFormat=j,r.Binarizer=b,r.BinaryBitmap=v,r.BitArray=k,r.BitMatrix=Te,r.BitSource=Zu,r.BrowserAztecCodeReader=Xs,r.BrowserBarcodeReader=NC,r.BrowserCodeReader=J,r.BrowserDatamatrixCodeReader=UC,r.BrowserMultiFormatReader=PC,r.BrowserPDF417Reader=KC,r.BrowserQRCodeReader=VC,r.BrowserQRCodeSvgWriter=ys,r.CharacterSetECI=G,r.ChecksumException=E,r.Code128Reader=ye,r.Code39Reader=Jt,r.DataMatrixDecodedBitStreamParser=bA,r.DataMatrixReader=EA,r.DecodeHintType=M,r.DecoderResult=te,r.DefaultGridSampler=Ht,r.DetectorResult=gs,r.EAN13Reader=ps,r.EncodeHintType=qt,r.Exception=w,r.FormatException=L,r.GenericGF=we,r.GenericGFPoly=le,r.GlobalHistogramBinarizer=oe,r.GridSampler=re,r.GridSamplerInstance=xt,r.HTMLCanvasElementLuminanceSource=pe,r.HybridBinarizer=ge,r.ITFReader=ut,r.IllegalArgumentException=x,r.IllegalStateException=et,r.InvertedLuminanceSource=xe,r.LuminanceSource=Ae,r.MathUtils=ze,r.MultiFormatOneDReader=$s,r.MultiFormatReader=Ig,r.MultiFormatWriter=zC,r.NotFoundException=D,r.OneDReader=It,r.PDF417DecodedBitStreamParser=q,r.PDF417DecoderErrorCorrection=yg,r.PDF417Reader=lr,r.PDF417ResultMetadata=vg,r.PerspectiveTransform=Pe,r.PlanarYUVLuminanceSource=Vn,r.QRCodeByteMatrix=al,r.QRCodeDataMask=dn,r.QRCodeDecodedBitStreamParser=Ft,r.QRCodeDecoderErrorCorrectionLevel=ft,r.QRCodeDecoderFormatInformation=Br,r.QRCodeEncoder=Bt,r.QRCodeEncoderQRCode=Bs,r.QRCodeMaskUtil=Dt,r.QRCodeMatrixUtil=Oe,r.QRCodeMode=Qe,r.QRCodeReader=SA,r.QRCodeVersion=_e,r.QRCodeWriter=ti,r.RGBLuminanceSource=Ad,r.RSS14Reader=Ot,r.RSSExpandedReader=se,r.ReaderException=il,r.ReedSolomonDecoder=Xt,r.ReedSolomonEncoder=nd,r.ReedSolomonException=Ze,r.Result=ne,r.ResultMetadataType=W,r.ResultPoint=Be,r.StringUtils=fe,r.UnsupportedOperationException=ce,r.VideoInputDevice=Me,r.WhiteRectangleDetector=cn,r.WriterException=dt,r.ZXingArrays=I,r.ZXingCharset=Fg,r.ZXingInteger=U,r.ZXingStandardCharsets=sd,r.ZXingStringBuilder=me,r.ZXingStringEncoding=Ne,r.ZXingSystem=S,r.createAbstractExpandedDecoder=xg,Object.defineProperty(r,"__esModule",{value:!0})})})($f,$f.exports);var Ct=$f.exports;const $k=Vw(Ct),eQ=Kw({__proto__:null,default:$k},[Ct]);var Uw=function(){function e(t,r,n){if(this.formatMap=new Map([[Se.QR_CODE,Ct.BarcodeFormat.QR_CODE],[Se.AZTEC,Ct.BarcodeFormat.AZTEC],[Se.CODABAR,Ct.BarcodeFormat.CODABAR],[Se.CODE_39,Ct.BarcodeFormat.CODE_39],[Se.CODE_93,Ct.BarcodeFormat.CODE_93],[Se.CODE_128,Ct.BarcodeFormat.CODE_128],[Se.DATA_MATRIX,Ct.BarcodeFormat.DATA_MATRIX],[Se.MAXICODE,Ct.BarcodeFormat.MAXICODE],[Se.ITF,Ct.BarcodeFormat.ITF],[Se.EAN_13,Ct.BarcodeFormat.EAN_13],[Se.EAN_8,Ct.BarcodeFormat.EAN_8],[Se.PDF_417,Ct.BarcodeFormat.PDF_417],[Se.RSS_14,Ct.BarcodeFormat.RSS_14],[Se.RSS_EXPANDED,Ct.BarcodeFormat.RSS_EXPANDED],[Se.UPC_A,Ct.BarcodeFormat.UPC_A],[Se.UPC_E,Ct.BarcodeFormat.UPC_E],[Se.UPC_EAN_EXTENSION,Ct.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!eQ)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var s=this.createZXingFormats(t),a=new Map;a.set(Ct.DecodeHintType.POSSIBLE_FORMATS,s),a.set(Ct.DecodeHintType.TRY_HARDER,!1),this.hints=a}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(n,s){try{n(r.decode(t))}catch(a){s(a)}})},e.prototype.decode=function(t){var r=new Ct.MultiFormatReader(this.verbose,this.hints),n=new Ct.HTMLCanvasElementLuminanceSource(t),s=new Ct.BinaryBitmap(new Ct.HybridBinarizer(n)),a=r.decode(s);return{text:a.text,format:wC.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,s){t.set(r,n)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],n=0,s=t;n<s.length;n++){var a=s[n];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.logError("".concat(a," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),tQ=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function f(B){try{w(n.next(B))}catch(x){c(x)}}function g(B){try{w(n.throw(B))}catch(x){c(x)}}function w(B){B.done?a(B.value):s(B.value).then(f,g)}w((n=n.apply(e,t||[])).next())})},rQ=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,s,a,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(w){return function(B){return g([w,B])}}function g(w){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,w[0]&&(r=0)),r;)try{if(n=1,s&&(a=w[0]&2?s.return:w[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,w[1])).done)return a;switch(s=0,a&&(w=[w[0]&2,a.value]),w[0]){case 0:case 1:a=w;break;case 4:return r.label++,{value:w[1],done:!1};case 5:r.label++,s=w[1],w=[0];continue;case 7:w=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(w[0]===6||w[0]===2)){r=0;continue}if(w[0]===3&&(!a||w[1]>a[0]&&w[1]<a[3])){r.label=w[1];break}if(w[0]===6&&r.label<a[1]){r.label=a[1],a=w;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(w);break}a[2]&&r.ops.pop(),r.trys.pop();continue}w=t.call(e,r)}catch(B){w=[6,B],s=0}finally{n=a=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},_w=function(){function e(t,r,n){if(this.formatMap=new Map([[Se.QR_CODE,"qr_code"],[Se.AZTEC,"aztec"],[Se.CODABAR,"codabar"],[Se.CODE_39,"code_39"],[Se.CODE_93,"code_93"],[Se.CODE_128,"code_128"],[Se.DATA_MATRIX,"data_matrix"],[Se.ITF,"itf"],[Se.EAN_13,"ean_13"],[Se.EAN_8,"ean_8"],[Se.PDF_417,"pdf417"],[Se.UPC_A,"upc_a"],[Se.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var s=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(s),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return tQ(this,void 0,void 0,function(){var r,n;return rQ(this,function(s){switch(s.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=s.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:wC.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,n=0,s=0,a=t;s<a.length;s++){var c=a[s],f=c.boundingBox.width*c.boundingBox.height;f>n&&(n=f,r=c)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],n=0,s=t;n<s.length;n++){var a=s[n];this.formatMap.has(a)?r.push(this.formatMap.get(a)):this.logger.warn("".concat(a," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,s){t.set(r,n)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),kw=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function f(B){try{w(n.next(B))}catch(x){c(x)}}function g(B){try{w(n.throw(B))}catch(x){c(x)}}function w(B){B.done?a(B.value):s(B.value).then(f,g)}w((n=n.apply(e,t||[])).next())})},Qw=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,s,a,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(w){return function(B){return g([w,B])}}function g(w){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,w[0]&&(r=0)),r;)try{if(n=1,s&&(a=w[0]&2?s.return:w[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,w[1])).done)return a;switch(s=0,a&&(w=[w[0]&2,a.value]),w[0]){case 0:case 1:a=w;break;case 4:return r.label++,{value:w[1],done:!1};case 5:r.label++,s=w[1],w=[0];continue;case 7:w=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(w[0]===6||w[0]===2)){r=0;continue}if(w[0]===3&&(!a||w[1]>a[0]&&w[1]<a[3])){r.label=w[1];break}if(w[0]===6&&r.label<a[1]){r.label=a[1],a=w;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(w);break}a[2]&&r.ops.pop(),r.trys.pop();continue}w=t.call(e,r)}catch(B){w=[6,B],s=0}finally{n=a=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},nQ=function(){function e(t,r,n,s){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&_w.isSupported()?(this.primaryDecoder=new _w(t,n,s),this.secondaryDecoder=new Uw(t,n,s)):this.primaryDecoder=new Uw(t,n,s)}return e.prototype.decodeAsync=function(t){return kw(this,void 0,void 0,function(){var r;return Qw(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return kw(this,void 0,void 0,function(){var r,n;return Qw(this,function(s){switch(s.label){case 0:r=performance.now(),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,s.sent()];case 3:if(n=s.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,n=this.executionResults;r<n.length;r++){var s=n[r];t+=s}var a=t/this.executionResults.length;console.log("".concat(a," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),fg=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(n[a]=s[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),iu=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function f(B){try{w(n.next(B))}catch(x){c(x)}}function g(B){try{w(n.throw(B))}catch(x){c(x)}}function w(B){B.done?a(B.value):s(B.value).then(f,g)}w((n=n.apply(e,t||[])).next())})},au=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,s,a,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(w){return function(B){return g([w,B])}}function g(w){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,w[0]&&(r=0)),r;)try{if(n=1,s&&(a=w[0]&2?s.return:w[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,w[1])).done)return a;switch(s=0,a&&(w=[w[0]&2,a.value]),w[0]){case 0:case 1:a=w;break;case 4:return r.label++,{value:w[1],done:!1};case 5:r.label++,s=w[1],w=[0];continue;case 7:w=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(w[0]===6||w[0]===2)){r=0;continue}if(w[0]===3&&(!a||w[1]>a[0]&&w[1]<a[3])){r.label=w[1];break}if(w[0]===6&&r.label<a[1]){r.label=a[1],a=w;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(w);break}a[2]&&r.ops.pop(),r.trys.pop();continue}w=t.call(e,r)}catch(B){w=[6,B],s=0}finally{n=a=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},yC=function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var n={advanced:[r]};return this.track.applyConstraints(n)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e}(),AQ=function(e){fg(t,e);function t(r,n){return e.call(this,r,n)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var n={};n[this.name]=r;var s={advanced:[n]};return this.track.applyConstraints(s)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(yC),sQ=function(e){fg(t,e);function t(r){return e.call(this,"zoom",r)||this}return t}(AQ),iQ=function(e){fg(t,e);function t(r){return e.call(this,"torch",r)||this}return t}(yC),aQ=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new sQ(this.track)},e.prototype.torchFeature=function(){return new iQ(this.track)},e}(),oQ=function(){function e(t,r,n){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=t.surface.clientWidth,s=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(n,s),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,n,s){return iu(this,void 0,void 0,function(){var a,c;return au(this,function(f){switch(f.label){case 0:return a=new e(t,r,s),n.aspectRatio?(c={aspectRatio:n.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(c)]):[3,2];case 1:f.sent(),f.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,n=function(){setTimeout(t,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return iu(this,void 0,void 0,function(){return au(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,n){var s=t.mediaStream.getVideoTracks(),a=s.length,c=0;t.mediaStream.getVideoTracks().forEach(function(f){t.mediaStream.removeTrack(f),f.stop(),++c,c>=a&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new aQ(this.getFirstTrackOrFail())},e}(),lQ=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,n){return iu(this,void 0,void 0,function(){return au(this,function(s){return[2,oQ.create(t,this.mediaStream,r,n)]})})},e.create=function(t){return iu(this,void 0,void 0,function(){var r,n;return au(this,function(s){switch(s.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=s.sent(),[2,new e(n)]}})})},e}(),Ow=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function f(B){try{w(n.next(B))}catch(x){c(x)}}function g(B){try{w(n.throw(B))}catch(x){c(x)}}function w(B){B.done?a(B.value):s(B.value).then(f,g)}w((n=n.apply(e,t||[])).next())})},Dw=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,s,a,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(w){return function(B){return g([w,B])}}function g(w){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,w[0]&&(r=0)),r;)try{if(n=1,s&&(a=w[0]&2?s.return:w[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,w[1])).done)return a;switch(s=0,a&&(w=[w[0]&2,a.value]),w[0]){case 0:case 1:a=w;break;case 4:return r.label++,{value:w[1],done:!1};case 5:r.label++,s=w[1],w=[0];continue;case 7:w=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(w[0]===6||w[0]===2)){r=0;continue}if(w[0]===3&&(!a||w[1]>a[0]&&w[1]<a[3])){r.label=w[1];break}if(w[0]===6&&r.label<a[1]){r.label=a[1],a=w;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(w);break}a[2]&&r.ops.pop(),r.trys.pop();continue}w=t.call(e,r)}catch(B){w=[6,B],s=0}finally{n=a=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},cQ=function(){function e(){}return e.failIfNotSupported=function(){return Ow(this,void 0,void 0,function(){return Dw(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return Ow(this,void 0,void 0,function(){return Dw(this,function(r){return[2,lQ.create(t)]})})},e}(),uQ=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function f(B){try{w(n.next(B))}catch(x){c(x)}}function g(B){try{w(n.throw(B))}catch(x){c(x)}}function w(B){B.done?a(B.value):s(B.value).then(f,g)}w((n=n.apply(e,t||[])).next())})},dQ=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,s,a,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(w){return function(B){return g([w,B])}}function g(w){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,w[0]&&(r=0)),r;)try{if(n=1,s&&(a=w[0]&2?s.return:w[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,w[1])).done)return a;switch(s=0,a&&(w=[w[0]&2,a.value]),w[0]){case 0:case 1:a=w;break;case 4:return r.label++,{value:w[1],done:!1};case 5:r.label++,s=w[1],w=[0];continue;case 7:w=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(w[0]===6||w[0]===2)){r=0;continue}if(w[0]===3&&(!a||w[1]>a[0]&&w[1]<a[3])){r.label=w[1];break}if(w[0]===6&&r.label<a[1]){r.label=a[1],a=w;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(w);break}a[2]&&r.ops.pop(),r.trys.pop();continue}w=t.call(e,r)}catch(B){w=[6,B],s=0}finally{n=a=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},hQ=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Mi.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Mi.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return uQ(this,void 0,void 0,function(){var t,r,n,s,a,c,f;return dQ(this,function(g){switch(g.label){case 0:return t=function(w){for(var B=w.getVideoTracks(),x=0,v=B;x<v.length;x++){var E=v[x];E.enabled=!1,E.stop(),w.removeTrack(E)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=g.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=g.sent(),s=[],a=0,c=n;a<c.length;a++)f=c[a],f.kind==="videoinput"&&s.push({id:f.deviceId,label:f.label});return t(r),[2,s]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var n=function(a){for(var c=[],f=0,g=a;f<g.length;f++){var w=g[f];w.kind==="video"&&c.push({id:w.id,label:w.label})}t(c)},s=MediaStreamTrack;s.getSources(n)})},e}(),Rt;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Rt||(Rt={}));var fQ=function(){function e(){this.state=Rt.NOT_STARTED,this.onGoingTransactionNewState=Rt.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Rt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Rt.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Rt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Rt.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Rt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Rt.UNKNOWN:throw"Transition from unknown is not allowed";case Rt.NOT_STARTED:this.failIfNewStateIs(t,[Rt.PAUSED]);break;case Rt.SCANNING:break;case Rt.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var n=0,s=r;n<s.length;n++){var a=s[n];if(t===a)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),gQ=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Rt.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Rt.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Rt.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Rt.PAUSED},e}(),pQ=function(){function e(){}return e.create=function(){return new gQ(new fQ)},e}(),wQ=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(n[a]=s[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Zr=function(e){wQ(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(Qn),mQ=function(){function e(t,r){this.logger=r,this.fps=Zr.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Zr.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?BC.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Jn(this.qrbox)},e.create=function(t,r){return new e(t,r)},e}(),Rw=function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new xC(this.verbose),this.qrcode=new nQ(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=pQ.create()}return e.prototype.start=function(t,r,n,s){var a=this;if(!t)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var c;s?c=s:c=this.verbose?this.logger.log:function(){};var f=mQ.create(r,this.logger);this.clearElement();var g=!1;f.videoConstraints&&(f.isMediaStreamConstraintsValid()?g=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var w=g,B=document.getElementById(this.elementId);B.clientWidth?B.clientWidth:Zr.DEFAULT_WIDTH,B.style.position="relative",this.shouldScan=!0,this.element=B;var x=this,v=this.stateManagerProxy.startTransition(Rt.SCANNING);return new Promise(function(E,b){var S=w?f.videoConstraints:x.createVideoConstraints(t);if(!S){v.cancel(),b("videoConstraints should be defined");return}var R={};(!w||f.aspectRatio)&&(R.aspectRatio=f.aspectRatio);var T={onRenderSurfaceReady:function(I,U){x.setupUi(I,U,f),x.isScanning=!0,x.foreverScan(f,n,c)}};cQ.failIfNotSupported().then(function(I){I.create(S).then(function(U){return U.render(a.element,R,T).then(function(k){x.renderedCamera=k,v.execute(),E(null)}).catch(function(k){v.cancel(),b(k)})}).catch(function(U){v.cancel(),b(Mi.errorGettingUserMedia(U))})}).catch(function(I){v.cancel(),b(Mi.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Rt.PAUSED),this.showPausedState(),(Jn(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(Rt.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(Rt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(t.element){var a=document.getElementById(Zr.SHADED_REGION_ELEMENT_ID);a&&t.element.removeChild(a)}},s=this;return this.renderedCamera.close().then(function(){return s.renderedCamera=null,s.element&&(s.element.removeChild(s.canvasElement),s.canvasElement=null),n(),s.qrRegion&&(s.qrRegion=null),s.context&&(s.context=null),r.execute(),s.hidePausedState(),s.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(n){return n.decodedText})},e.prototype.scanFileV2=function(t,r){var n=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Jn(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(s,a){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(t);var c=new Image;c.onload=function(){var f=c.width,g=c.height,w=document.getElementById(n.elementId),B=w.clientWidth?w.clientWidth:Zr.DEFAULT_WIDTH,x=Math.max(w.clientHeight?w.clientHeight:g,Zr.FILE_SCAN_MIN_HEIGHT),v=n.computeCanvasDrawConfig(f,g,B,x);if(r){var E=n.createCanvasElement(B,x,"qr-canvas-visible");E.style.display="inline-block",w.appendChild(E);var b=E.getContext("2d");if(!b)throw"Unable to get 2d context from canvas";b.canvas.width=B,b.canvas.height=x,b.drawImage(c,0,0,f,g,v.x,v.y,v.width,v.height)}var S=Zr.FILE_SCAN_HIDDEN_CANVAS_PADDING,R=Math.max(c.width,v.width),T=Math.max(c.height,v.height),I=R+2*S,U=T+2*S,k=n.createCanvasElement(I,U);w.appendChild(k);var H=k.getContext("2d");if(!H)throw"Unable to get 2d context from canvas";H.canvas.width=I,H.canvas.height=U,H.drawImage(c,0,0,f,g,S,S,R,T);try{n.qrcode.decodeRobustlyAsync(k).then(function(M){s(Nw.createFromQrcodeResult(M))}).catch(a)}catch(M){a("QR code parse error, error = ".concat(M))}},c.onerror=a,c.onabort=a,c.onstalled=a,c.onsuspend=a,c.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return hQ.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!BC.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[Se.QR_CODE,Se.AZTEC,Se.CODABAR,Se.CODE_39,Se.CODE_93,Se.CODE_128,Se.DATA_MATRIX,Se.MAXICODE,Se.ITF,Se.EAN_13,Se.EAN_8,Se.PDF_417,Se.RSS_14,Se.RSS_EXPANDED,Se.UPC_A,Se.UPC_E,Se.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],s=0,a=t.formatsToSupport;s<a.length;s++){var c=a[s];Zk(c)?n.push(c):this.logger.warn("Invalid format: ".concat(c," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(Jn(t))return!0;if(!Jn(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(Jn(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return Jn(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,n){var s=this,a=n.qrbox;this.validateQrboxConfig(a);var c=this.toQrdimensions(t,r,a),f=function(w){if(w<Zr.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Zr.MIN_QR_BOX_SIZE,"px.")},g=function(w){return w>t&&(s.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),w=t),w};f(c.width),f(c.height),c.width=g(c.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(t,r)}catch(s){throw new Error("qrbox config was passed as a function but it failed with unknown error"+s)}return n},e.prototype.setupUi=function(t,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,n);var s=Jn(n.qrbox)?{width:t,height:r}:n.qrbox;this.validateQrboxConfig(s);var a=this.toQrdimensions(t,r,s);a.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var c=n.isShadedBoxEnabled()&&a.height<=r,f={x:0,y:0,width:t,height:r},g=c?this.getShadedRegionBounds(t,r,a):f,w=this.createCanvasElement(g.width,g.height),B={willReadFrequently:!0},x=w.getContext("2d",B);x.canvas.width=g.width,x.canvas.height=g.height,this.element.append(w),c&&this.possiblyInsertShadingElement(this.element,t,r,a),this.createScannerPausedUiElement(this.element),this.qrRegion=g,this.context=x,this.canvasElement=w},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=Mi.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(s){return t(s.text,Nw.createFromQrcodeResult(s)),n.possiblyUpdateShaders(!0),!0}).catch(function(s){n.possiblyUpdateShaders(!1);var a=Mi.codeParseError(s);return r(a,mC.createFrom(a)),!1})},e.prototype.foreverScan=function(t,r,n){var s=this;if(this.shouldScan&&this.renderedCamera){var a=this.renderedCamera.getSurface(),c=a.videoWidth/a.clientWidth,f=a.videoHeight/a.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var g=this.qrRegion.width*c,w=this.qrRegion.height*f,B=this.qrRegion.x*c,x=this.qrRegion.y*f;this.context.drawImage(a,B,x,g,w,0,0,this.qrRegion.width,this.qrRegion.height);var v=function(){s.foreverScanTimeout=setTimeout(function(){s.foreverScan(t,r,n)},s.getTimeoutFps(t.fps))};this.scanContext(r,n).then(function(E){!E&&t.disableFlip!==!0?(s.context.translate(s.context.canvas.width,0),s.context.scale(-1,1),s.scanContext(r,n).finally(function(){v()})):v()}).catch(function(E){s.logger.logError("Error happend while scanning context",E),v()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",n="deviceId",s={user:!0,environment:!0},a="exact",c=function(b){if(b in s)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(b,"'")},f=Object.keys(t);if(f.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(f.length," keys");var g=Object.keys(t)[0];if(g!==r&&g!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(g===r){var w=t.facingMode;if(typeof w=="string"){if(c(w))return{facingMode:w}}else if(typeof w=="object")if(a in w){if(c(w["".concat(a)]))return{facingMode:{exact:w["".concat(a)]}}}else throw"'facingMode' should be string or object with"+" ".concat(a," as key.");else{var B=typeof w;throw"Invalid type of 'facingMode' = ".concat(B)}}else{var x=t.deviceId;if(typeof x=="string")return{deviceId:x};if(typeof x=="object"){if(a in x)return{deviceId:{exact:x["".concat(a)]}};throw"'deviceId' should be string or object with"+" ".concat(a," as key.")}else{var v=typeof x;throw"Invalid type of 'deviceId' = ".concat(v)}}}var E=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(E)},e.prototype.computeCanvasDrawConfig=function(t,r,n,s){if(t<=n&&r<=s){var a=(n-t)/2,c=(s-r)/2;return{x:a,y:c,width:t,height:r}}else{var f=t,g=r;return t>n&&(r=n/t*r,t=n),r>s&&(t=s/r*t,r=s),this.logger.log("Image downsampled from "+"".concat(f,"X").concat(g)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,n,s)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?Zr.BORDER_SHADER_MATCH_COLOR:Zr.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,n){var s=t,a=r,c=document.createElement("canvas");return c.style.width="".concat(s,"px"),c.style.height="".concat(a,"px"),c.style.display="none",c.id=Jn(n)?"qr-canvas":n,c},e.prototype.getShadedRegionBounds=function(t,r,n){if(n.width>t||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},e.prototype.possiblyInsertShadingElement=function(t,r,n,s){if(!(r-s.width<1||n-s.height<1)){var a=document.createElement("div");a.style.position="absolute";var c=(r-s.width)/2,f=(n-s.height)/2;if(a.style.borderLeft="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderRight="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderTop="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),a.style.borderBottom="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),a.style.boxSizing="border-box",a.style.top="0px",a.style.bottom="0px",a.style.left="0px",a.style.right="0px",a.id="".concat(Zr.SHADED_REGION_ELEMENT_ID),r-s.width<11||n-s.height<11)this.hasBorderShaders=!1;else{var g=5,w=40;this.insertShaderBorders(a,w,g,-g,null,0,!0),this.insertShaderBorders(a,w,g,-g,null,0,!1),this.insertShaderBorders(a,w,g,null,-g,0,!0),this.insertShaderBorders(a,w,g,null,-g,0,!1),this.insertShaderBorders(a,g,w+g,-g,null,-g,!0),this.insertShaderBorders(a,g,w+g,null,-g,-g,!0),this.insertShaderBorders(a,g,w+g,-g,null,-g,!1),this.insertShaderBorders(a,g,w+g,null,-g,-g,!1),this.hasBorderShaders=!0}t.append(a)}},e.prototype.insertShaderBorders=function(t,r,n,s,a,c,f){var g=document.createElement("div");g.style.position="absolute",g.style.backgroundColor=Zr.BORDER_SHADER_DEFAULT_COLOR,g.style.width="".concat(r,"px"),g.style.height="".concat(n,"px"),s!==null&&(g.style.top="".concat(s,"px")),a!==null&&(g.style.bottom="".concat(a,"px")),f?g.style.left="".concat(c,"px"):g.style.right="".concat(c,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(g),t.appendChild(g)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),gg="data:image/svg+xml;base64,",xQ=gg+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",BQ=gg+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",Mw=gg+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",yQ="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Lw=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),CQ=function(){function e(){this.data=Lw.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=Lw.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),vQ=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Tw.poweredBy();var r=document.createElement("a");r.innerText="ScanApp",r.href="https://scanapp.org",r.target="new",r.style.color="white",this.infoDiv.appendChild(r);var n=document.createElement("br"),s=document.createElement("br");this.infoDiv.appendChild(n),this.infoDiv.appendChild(s);var a=document.createElement("a");a.innerText=Tw.reportIssues(),a.href="https://github.com/mebjas/html5-qrcode/issues",a.target="new",a.style.color="white",this.infoDiv.appendChild(a),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),bQ=function(){function e(t,r){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=r,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var r=this;this.infoIcon.alt="Info icon",this.infoIcon.src=Mw,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(n){return r.onHoverIn()},this.infoIcon.onmouseout=function(n){return r.onHoverOut()},this.infoIcon.onclick=function(n){return r.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=yQ,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=Mw,this.infoIcon.style.opacity="0.6")},e}(),EQ=function(){function e(){var t=this;this.infoDiv=new vQ,this.infoIcon=new bQ(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),SQ=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function f(B){try{w(n.next(B))}catch(x){c(x)}}function g(B){try{w(n.throw(B))}catch(x){c(x)}}function w(B){B.done?a(B.value):s(B.value).then(f,g)}w((n=n.apply(e,t||[])).next())})},IQ=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,s,a,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(w){return function(B){return g([w,B])}}function g(w){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,w[0]&&(r=0)),r;)try{if(n=1,s&&(a=w[0]&2?s.return:w[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,w[1])).done)return a;switch(s=0,a&&(w=[w[0]&2,a.value]),w[0]){case 0:case 1:a=w;break;case 4:return r.label++,{value:w[1],done:!1};case 5:r.label++,s=w[1],w=[0];continue;case 7:w=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(w[0]===6||w[0]===2)){r=0;continue}if(w[0]===3&&(!a||w[1]>a[0]&&w[1]<a[3])){r.label=w[1];break}if(w[0]===6&&r.label<a[1]){r.label=a[1],a=w;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(w);break}a[2]&&r.ops.pop(),r.trys.pop();continue}w=t.call(e,r)}catch(B){w=[6,B],s=0}finally{n=a=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},jw=function(){function e(){}return e.hasPermissions=function(){return SQ(this,void 0,void 0,function(){var t,r,n,s;return IQ(this,function(a){switch(a.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=a.sent(),r=0,n=t;r<n.length;r++)if(s=n[r],s.kind==="videoinput"&&s.label)return[2,!0];return[2,!1]}})})},e}(),UA=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,r=this.supportedScanTypes;t<r.length;t++){var n=r[t];if(e.isCameraScanType(n))return!0}return!1},e.isCameraScanType=function(t){return t===cs.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===cs.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return Qn.DEFAULT_SUPPORTED_SCAN_TYPE;var r=Qn.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>r)throw"Max ".concat(r," values expected for ")+"supportedScanTypes";for(var n=0,s=t;n<s.length;n++){var a=s[n];if(!Qn.DEFAULT_SUPPORTED_SCAN_TYPE.includes(a))throw"Unsupported scan type ".concat(a)}return t},e}(),rn=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),uA=function(){function e(){}return e.createElement=function(t,r){var n=document.createElement(t);return n.id=r,n.classList.add(rn.ALL_ELEMENT_CLASS),t==="button"&&n.setAttribute("type","button"),n},e}(),CC=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(c){c(a)})}return new(r||(r=Promise))(function(a,c){function f(B){try{w(n.next(B))}catch(x){c(x)}}function g(B){try{w(n.throw(B))}catch(x){c(x)}}function w(B){B.done?a(B.value):s(B.value).then(f,g)}w((n=n.apply(e,t||[])).next())})},vC=function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,s,a,c;return c={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function f(w){return function(B){return g([w,B])}}function g(w){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,w[0]&&(r=0)),r;)try{if(n=1,s&&(a=w[0]&2?s.return:w[0]?s.throw||((a=s.return)&&a.call(s),0):s.next)&&!(a=a.call(s,w[1])).done)return a;switch(s=0,a&&(w=[w[0]&2,a.value]),w[0]){case 0:case 1:a=w;break;case 4:return r.label++,{value:w[1],done:!1};case 5:r.label++,s=w[1],w=[0];continue;case 7:w=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(w[0]===6||w[0]===2)){r=0;continue}if(w[0]===3&&(!a||w[1]>a[0]&&w[1]<a[3])){r.label=w[1];break}if(w[0]===6&&r.label<a[1]){r.label=a[1],a=w;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(w);break}a[2]&&r.ops.pop(),r.trys.pop();continue}w=t.call(e,r)}catch(B){w=[6,B],s=0}finally{n=a=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},Hw=function(){function e(t,r,n){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=r,this.onTorchActionFailureCallback=n}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return CC(this,void 0,void 0,function(){var t,r;return vC(this,function(n){switch(n.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return n.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return r=n.sent(),this.propagateFailure(t,r),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,r){t===r?(this.buttonController.setText(r?at.torchOffButton():at.torchOnButton()),this.isTorchOn=r):this.propagateFailure(r),this.buttonController.enable()},e.prototype.propagateFailure=function(t,r){var n=t?at.torchOnFailedMessage():at.torchOffFailedMessage();r&&(n+="; Error = "+r),this.onTorchActionFailureCallback(n)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),FQ=function(){function e(t,r){this.onTorchActionFailureCallback=r,this.torchButton=uA.createElement("button",rn.TORCH_BUTTON_ID),this.torchController=new Hw(t,this,r)}return e.prototype.render=function(t,r){var n=this;this.torchButton.innerText=at.torchOnButton(),this.torchButton.style.display=r.display,this.torchButton.style.marginLeft=r.marginLeft;var s=this;this.torchButton.addEventListener("click",function(a){return CC(n,void 0,void 0,function(){return vC(this,function(c){switch(c.label){case 0:return[4,s.torchController.flipState()];case 1:return c.sent(),s.torchController.isTorchEnabled()?(s.torchButton.classList.remove(rn.TORCH_BUTTON_CLASS_TORCH_OFF),s.torchButton.classList.add(rn.TORCH_BUTTON_CLASS_TORCH_ON)):(s.torchButton.classList.remove(rn.TORCH_BUTTON_CLASS_TORCH_ON),s.torchButton.classList.add(rn.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new Hw(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=at.torchOnButton(),this.torchController.reset()},e.create=function(t,r,n,s){var a=new e(r,s);return a.render(t,n),a},e}(),NQ=function(){function e(t,r,n){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=r?"block":"none",t.appendChild(this.fileBasedScanRegion);var s=document.createElement("label");s.setAttribute("for",this.getFileScanInputId()),s.style.display="inline-block",this.fileBasedScanRegion.appendChild(s),this.fileSelectionButton=uA.createElement("button",rn.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(f){s.click()}),s.append(this.fileSelectionButton),this.fileScanInput=uA.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",s.appendChild(this.fileScanInput);var a=this;this.fileScanInput.addEventListener("change",function(f){if(!(f==null||f.target==null)){var g=f.target;if(!(g.files&&g.files.length===0)){var w=g.files,B=w[0],x=B.name;a.setImageNameToButton(x),n(B)}}});var c=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(c),this.fileBasedScanRegion.addEventListener("dragenter",function(f){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),f.stopPropagation(),f.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(f){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder(),f.stopPropagation(),f.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(f){a.fileBasedScanRegion.style.border=a.fileBasedScanRegionActiveBorder(),f.stopPropagation(),f.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(f){f.stopPropagation(),f.preventDefault(),a.fileBasedScanRegion.style.border=a.fileBasedScanRegionDefaultBorder();var g=f.dataTransfer;if(g){var w=g.files;if(!w||w.length===0)return;for(var B=!1,x=0;x<w.length;++x){var v=w.item(x);if(v){var E=/image.*/;if(v.type.match(E)){B=!0;var b=v.name;a.setImageNameToButton(b),n(v),c.innerText=at.dragAndDropMessage();break}}}B||(c.innerText=at.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=at.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var r=20;if(t.length>r){var n=t.substring(0,8),s=t.length,a=t.substring(s-8,s);t="".concat(n,"....").concat(a)}var c=at.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=c},e.prototype.setInitialValueToButton=function(){var t=at.fileSelectionChooseImage()+" - "+at.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,r,n){var s=new e(t,r,n);return s},e}(),TQ=function(){function e(t){this.selectElement=uA.createElement("select",rn.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var r=document.createElement("span");r.style.marginRight="10px";var n=this.cameras.length;if(n===0)throw new Error("No cameras found");if(n===1)r.style.display="none";else{var s=at.selectCamera();r.innerText="".concat(s," (").concat(this.cameras.length,")  ")}for(var a=1,c=0,f=this.cameras;c<f.length;c++){var g=f[c],w=g.id,B=g.label==null?w:g.label;(!B||B==="")&&(B=[at.anonymousCameraPrefix(),a++].join(" "));var x=document.createElement("option");x.value=w,x.innerText=B,this.options.push(x),this.selectElement.appendChild(x)}r.appendChild(this.selectElement),t.appendChild(r)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var r=0,n=this.options;r<n.length;r++){var s=n[r];if(s.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,r){var n=new e(r);return n.render(t),n},e}(),UQ=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=uA.createElement("input",rn.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,r){this.zoomElementContainer.style.display=r?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var n=at.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(n),this.rangeText.style.marginRight="10px";var s=this;this.rangeInput.addEventListener("input",function(){return s.onValueChange()}),this.rangeInput.addEventListener("change",function(){return s.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=at.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,r,n,s){this.rangeInput.min=t.toString(),this.rangeInput.max=r.toString(),this.rangeInput.step=s.toString(),this.rangeInput.value=n.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,r){var n=new e;return n.render(t,r),n},e}(),qr;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(qr||(qr={}));function _Q(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function kQ(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var QQ=function(){function e(t,r,n){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(r),this.verbose=n===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new UA(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new xC(this.verbose),this.persistedDataManager=new CQ,r.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,r){var n=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(a,c){if(t)t(a,c);else{if(n.lastMatchFound===a)return;n.lastMatchFound=a,n.setHeaderMessage(at.lastMatch(a),qr.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(a,c){r&&r(a,c)};var s=document.getElementById(this.elementId);if(!s)throw"HTML Element with id=".concat(this.elementId," not found");s.innerHTML="",this.createBasicLayout(s),this.html5Qrcode=new Rw(this.getScanRegionId(),kQ(this.config,this.verbose))},e.prototype.pause=function(t){(Jn(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,r=function(){var n=document.getElementById(t.elementId);n&&(n.innerHTML="",t.resetBasicLayout(n))};return this.html5Qrcode?new Promise(function(n,s){if(!t.html5Qrcode){n();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(a){if(!t.html5Qrcode){n();return}t.html5Qrcode.clear(),r(),n()}).catch(function(a){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",a),s(a)}):(t.html5Qrcode.clear(),r(),n())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=Qn.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!Qn.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=Qn.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=Qn.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:Qn.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Qn.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Qn.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var r=document.createElement("div"),n=this.getScanRegionId();r.id=n,r.style.width="100%",r.style.minHeight="100px",r.style.textAlign="center",t.appendChild(r),UA.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var s=document.createElement("div"),a=this.getDashboardId();s.id=a,s.style.width="100%",t.appendChild(s),this.setupInitialDashboard(s)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var r=document.createElement("div");r.style.textAlign="left",r.style.margin="0px",t.appendChild(r);var n=new EQ;n.renderInto(r);var s=document.createElement("div");s.id=this.getHeaderMessageContainerId(),s.style.display="none",s.style.textAlign="center",s.style.fontSize="14px",s.style.padding="2px 10px",s.style.margin="4px",s.style.borderTop="1px solid #f6f6f6",r.appendChild(s)},e.prototype.createSection=function(t){var r=document.createElement("div");r.id=this.getDashboardSectionId(),r.style.width="100%",r.style.padding="10px 0px 10px 0px",r.style.textAlign="left",t.appendChild(r)},e.prototype.createCameraListUi=function(t,r,n){var s=this;s.showHideScanTypeSwapLink(!1),s.setHeaderMessage(at.cameraPermissionRequesting());var a=function(){n||s.createPermissionButton(t,r)};Rw.getCameras().then(function(c){s.persistedDataManager.setHasPermission(!0),s.showHideScanTypeSwapLink(!0),s.resetHeaderMessage(),c&&c.length>0?(t.removeChild(r),s.renderCameraSelection(c)):(s.setHeaderMessage(at.noCameraFound(),qr.STATUS_WARNING),a())}).catch(function(c){s.persistedDataManager.setHasPermission(!1),n?n.disabled=!1:a(),s.setHeaderMessage(c,qr.STATUS_WARNING),s.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,r){var n=this,s=uA.createElement("button",this.getCameraPermissionButtonId());s.innerText=at.cameraPermissionTitle(),s.addEventListener("click",function(){s.disabled=!0,n.createCameraListUi(t,r,s)}),r.appendChild(s)},e.prototype.createPermissionsUi=function(t,r){var n=this;if(UA.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){jw.hasPermissions().then(function(s){s?n.createCameraListUi(t,r):(n.persistedDataManager.setHasPermission(!1),n.createPermissionButton(t,r))}).catch(function(s){n.persistedDataManager.setHasPermission(!1),n.createPermissionButton(t,r)});return}this.createPermissionButton(t,r)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),r=document.createElement("div");t.appendChild(r);var n=document.createElement("div");n.id=this.getDashboardSectionCameraScanRegionId(),n.style.display=UA.isCameraScanType(this.currentScanType)?"block":"none",r.appendChild(n);var s=document.createElement("div");s.style.textAlign="center",n.appendChild(s),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(n,s),this.renderFileScanUi(r)},e.prototype.renderFileScanUi=function(t){var r=UA.isFileScanType(this.currentScanType),n=this,s=function(a){if(!n.html5Qrcode)throw"html5Qrcode not defined";UA.isFileScanType(n.currentScanType)&&(n.setHeaderMessage(at.loadingImage()),n.html5Qrcode.scanFileV2(a,!0).then(function(c){n.resetHeaderMessage(),n.qrCodeSuccessCallback(c.decodedText,c)}).catch(function(c){n.setHeaderMessage(c,qr.STATUS_WARNING),n.qrCodeErrorCallback(c,mC.createFrom(c))}))};this.fileSelectionUi=NQ.create(t,r,s)},e.prototype.renderCameraSelection=function(t){var r=this,n=this,s=document.getElementById(this.getDashboardSectionCameraScanRegionId());s.style.textAlign="center";var a=UQ.create(s,!1),c=function(S){var R=S.zoomFeature();if(R.isSupported()){a.setOnCameraZoomValueChangeCallback(function(I){R.apply(I)});var T=1;r.config.defaultZoomValueIfSupported&&(T=r.config.defaultZoomValueIfSupported),T=qk(T,R.min(),R.max()),a.setValues(R.min(),R.max(),T,R.step()),a.show()}},f=TQ.create(s,t),g=document.createElement("span"),w=uA.createElement("button",rn.CAMERA_START_BUTTON_ID);w.innerText=at.scanButtonStartScanningText(),g.appendChild(w);var B=uA.createElement("button",rn.CAMERA_STOP_BUTTON_ID);B.innerText=at.scanButtonStopScanningText(),B.style.display="none",B.disabled=!0,g.appendChild(B);var x,v=function(S){if(!S.torchFeature().isSupported()){x&&x.hide();return}x?x.updateTorchCapability(S.torchFeature()):x=FQ.create(g,S.torchFeature(),{display:"none",marginLeft:"5px"},function(R){n.setHeaderMessage(R,qr.STATUS_WARNING)}),x.show()};s.appendChild(g);var E=function(S){S||(w.style.display="none"),w.innerText=at.scanButtonStartScanningText(),w.style.opacity="1",w.disabled=!1,S&&(w.style.display="inline-block")};if(w.addEventListener("click",function(S){w.innerText=at.scanButtonScanningStarting(),f.disable(),w.disabled=!0,w.style.opacity="0.5",r.scanTypeSelector.hasMoreThanOneScanType()&&n.showHideScanTypeSwapLink(!1),n.resetHeaderMessage();var R=f.getValue();n.persistedDataManager.setLastUsedCameraId(R),n.html5Qrcode.start(R,_Q(n.config),n.qrCodeSuccessCallback,n.qrCodeErrorCallback).then(function(T){B.disabled=!1,B.style.display="inline-block",E(!1);var I=n.html5Qrcode.getRunningTrackCameraCapabilities();r.config.showTorchButtonIfSupported===!0&&v(I),r.config.showZoomSliderIfSupported===!0&&c(I)}).catch(function(T){n.showHideScanTypeSwapLink(!0),f.enable(),E(!0),n.setHeaderMessage(T,qr.STATUS_WARNING)})}),f.hasSingleItem()&&w.click(),B.addEventListener("click",function(S){if(!n.html5Qrcode)throw"html5Qrcode not defined";B.disabled=!0,n.html5Qrcode.stop().then(function(R){r.scanTypeSelector.hasMoreThanOneScanType()&&n.showHideScanTypeSwapLink(!0),f.enable(),w.disabled=!1,B.style.display="none",w.style.display="inline-block",x&&(x.reset(),x.hide()),a.removeOnCameraZoomValueChangeCallback(),a.hide(),n.insertCameraScanImageToScanRegion()}).catch(function(R){B.disabled=!1,n.setHeaderMessage(R,qr.STATUS_WARNING)})}),n.persistedDataManager.getLastUsedCameraId()){var b=n.persistedDataManager.getLastUsedCameraId();f.hasValue(b)?(f.setValue(b),w.click()):n.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,r=at.textIfCameraScanSelected(),n=at.textIfFileScanSelected(),s=document.getElementById(this.getDashboardSectionId()),a=document.createElement("div");a.style.textAlign="center";var c=uA.createElement("span",this.getDashboardSectionSwapLinkId());c.style.textDecoration="underline",c.style.cursor="pointer",c.innerText=UA.isCameraScanType(this.currentScanType)?r:n,c.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,UA.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),c.innerText=n,t.currentScanType=cs.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),c.innerText=r,t.currentScanType=cs.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),a.appendChild(c),s.appendChild(a)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,r=this;if(this.persistedDataManager.hasCameraPermissions()){jw.hasPermissions().then(function(n){if(n){var s=document.getElementById(r.getCameraPermissionButtonId());if(!s)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";s.click()}else r.persistedDataManager.setHasPermission(!1)}).catch(function(n){r.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,r){r||(r=qr.STATUS_DEFAULT);var n=this.getHeaderMessageDiv();switch(n.innerText=t,n.style.display="block",r){case qr.STATUS_SUCCESS:n.style.background="rgba(106, 175, 80, 0.26)",n.style.color="#477735";break;case qr.STATUS_WARNING:n.style.background="rgba(203, 36, 49, 0.14)",n.style.color="#cb2431";break;case qr.STATUS_DEFAULT:default:n.style.background="rgba(0, 0, 0, 0)",n.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,r=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){r.innerHTML="<br>",r.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(n){r.innerHTML="<br>",r.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=xQ,this.cameraScanImage.alt=at.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,r=document.getElementById(this.getScanRegionId());if(this.fileScanImage){r.innerHTML="<br>",r.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(n){r.innerHTML="<br>",r.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=BQ,this.fileScanImage.alt=at.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return rn.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return rn.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();const bC=({onScanSuccess:e,onClose:t})=>{const r=z.useRef(null),[n,s]=z.useState(""),[a,c]=z.useState(!0);return z.useEffect(()=>{let f=null;return(async()=>{try{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){c(!1),s("Camera access requires a secure connection (HTTPS). Please access the app via https:// or use localhost.");return}(await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}})).getTracks().forEach(B=>B.stop()),c(!1),f=new QQ("reader",{fps:10,qrbox:{width:250,height:150},aspectRatio:1},!1),f.render(B=>{e(B),f.clear()},B=>{}),r.current=f}catch(w){c(!1),w.name==="NotAllowedError"?s("Camera permission denied. Please enable camera access in your browser settings."):w.name==="NotFoundError"?s("No camera found on this device."):s("Failed to access camera: "+w.message)}})(),()=>{r.current&&r.current.clear().catch(w=>{console.error("Failed to clear html5-qrcode scanner. ",w)})}},[e]),h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:h.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl w-full max-w-sm overflow-hidden shadow-2xl relative",children:[h.jsx("button",{onClick:t,className:"absolute top-4 right-4 z-10 p-2 bg-black/20 hover:bg-black/40 text-white rounded-full transition-colors",children:h.jsx(Mn,{size:20})}),h.jsxs("div",{className:"p-4 pt-12",children:[h.jsx("h3",{className:"text-center font-bold text-slate-800 dark:text-white mb-4",children:"Scan Barcode"}),a&&h.jsx("div",{className:"text-center py-8",children:h.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Requesting camera permission..."})}),n&&h.jsxs("div",{className:"text-center py-8",children:[h.jsx("p",{className:"text-red-500 text-sm mb-4",children:n}),h.jsx("button",{onClick:t,className:"px-4 py-2 bg-blue-500 text-white rounded-lg text-sm",children:"Close"})]}),!a&&!n&&h.jsxs(h.Fragment,{children:[h.jsx("div",{id:"reader",className:"w-full rounded-lg overflow-hidden"}),h.jsx("p",{className:"text-center text-xs text-slate-400 mt-4",children:"Point camera at the ISBN barcode on the back of the book."})]})]})]})})},OQ=()=>{var He,Be,gs,ha,cn;const{id:e}=uB(),t=zr(),{books:r,updateBook:n,deleteBook:s,checkDuplicate:a,logReading:c,activeTimer:f,startTimer:g,stopTimer:w,globalSpeed:B}=ln(),[x,v]=z.useState(null),[E,b]=z.useState(!1),[S,R]=z.useState(null),[T,I]=z.useState(!1),[U,k]=z.useState(""),[H,M]=z.useState(null),[L,X]=z.useState(!1),[G,ce]=z.useState(!1),[Ne,fe]=z.useState(!1),[me,Te]=z.useState(null),[D,oe]=z.useState(""),[ge,Ae]=z.useState(!1),[xe,pe]=z.useState(!1),[Me,ie]=z.useState(!1),[J,ne]=z.useState(!1),[Ie,j]=z.useState(0),[V,W]=z.useState(0),te=z.useRef(null);if(z.useEffect(()=>{const re=r.find(Pe=>Pe.id===e);re?(v(re),R(re)):t("/")},[e,r,t]),!x)return null;const ee=()=>{R({...x}),b(!0)},le=()=>{R({...x}),b(!1),k(""),M(null)},Le=()=>{const re=a(S.title,S.isbn,x.id);if(re.exists){M(re);return}n(x.id,S),b(!1)},we=(re,Pe)=>{if(E){const Ht={[re]:Pe};re==="status"&&Pe==="want-to-read"&&(Ht.progress=0),R(xt=>({...xt,...Ht}))}else{if(re==="status"&&Pe==="reading"&&x.status!=="reading"){Te(Pe),ce(!0);return}const Ht={[re]:Pe};re==="status"&&Pe==="read"?x.totalPages?Ht.progress=x.totalPages:x.totalChapters&&(Ht.progress=x.totalChapters):re==="status"&&Pe==="want-to-read"&&(Ht.progress=0),n(x.id,Ht)}},Ze=re=>{var Ht;const Pe=(Ht=re.target.files)==null?void 0:Ht[0];if(Pe){const xt=new FileReader;xt.onloadend=()=>{R(kt=>({...kt,cover:xt.result})),k("")},xt.readAsDataURL(Pe)}},et=async()=>{const re=(S==null?void 0:S.isbn)||(x==null?void 0:x.isbn);if(!re){k("Please enter an ISBN first");return}I(!0),k("");try{const xt=(await(await fetch(`https://openlibrary.org/api/books?bibkeys=ISBN:${re}&format=json&jscmd=data`)).json())[`ISBN:${re}`];if(xt){R(Qr=>{var Xs,It;return{...Qr,title:xt.title||Qr.title,author:((It=(Xs=xt.authors)==null?void 0:Xs[0])==null?void 0:It.name)||Qr.author,totalPages:xt.number_of_pages||Qr.totalPages}});const kt=`https://covers.openlibrary.org/b/isbn/${re}-L.jpg`,Ys=new Image;Ys.onload=()=>{R(Qr=>({...Qr,cover:kt})),I(!1)},Ys.onerror=()=>{var Qr;(Qr=xt.cover)!=null&&Qr.large?R(Xs=>({...Xs,cover:xt.cover.large})):k("High-res cover not found, but metadata updated."),I(!1)},Ys.src=kt}else k("No book found for this ISBN"),I(!1)}catch{k("Failed to fetch book data"),I(!1)}},Xt=re=>{R(Pe=>({...Pe,isbn:re})),X(!1)},mt=re=>{re==="now"?(n(x.id,{status:"reading",startedAt:new Date().toISOString()}),ce(!1)):re==="manual_input"?Ae(!0):re==="manual_save"&&D&&(n(x.id,{status:"reading",startedAt:new Date(D).toISOString()}),ce(!1),Ae(!1),oe(""))},ve=()=>{const re=E?S:x;if(re.status==="want-to-read")return 0;const Pe=re.progress||0;return re.totalPages>0?Math.round(Pe/re.totalPages*100):re.totalChapters>0?Math.round(Pe/re.totalChapters*100):Math.min(Number(Pe)||0,100)},ze=()=>{const re=E?S:x;return re.progressMode==="chapters"?`Ch ${re.progress||0}`:re.progressMode==="pages"?`${re.progress||0}p`:`${ve()}%`};return h.jsxs("div",{className:"pb-8 pt-4",children:[H&&h.jsx("div",{className:"fixed inset-0 z-[100] bg-black/60 backdrop-blur-sm flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-sm rounded-3xl p-6 shadow-2xl animate-fade-in scale-in flex flex-col items-center text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-orange-100 dark:bg-orange-900/30 rounded-full flex items-center justify-center text-orange-600 dark:text-orange-400 mb-4",children:h.jsx(Uu,{size:32})}),h.jsx("h3",{className:"text-xl font-bold dark:text-white mb-2",children:"Duplicate Detected"}),h.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mb-6 text-sm",children:["Another book already uses this ",H.type==="Title"?"title":"ISBN",". Please ensure all entries are unique."]}),h.jsx("button",{onClick:()=>M(null),className:"w-full py-4 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-xl font-bold active:scale-95 transition-transform",children:"Got it"})]})}),G&&h.jsx("div",{className:"fixed inset-0 z-[100] bg-black/60 backdrop-blur-sm flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-sm rounded-3xl p-6 shadow-2xl animate-fade-in scale-in flex flex-col items-center text-center",children:[h.jsx("h3",{className:"text-xl font-bold dark:text-white mb-2",children:"Start Reading?"}),h.jsx("p",{className:"text-slate-500 dark:text-slate-400 mb-6 text-sm",children:"Do you want to set the start date to today?"}),ge?h.jsxs("div",{className:"w-full space-y-4",children:[h.jsx("input",{type:"date",className:"w-full bg-slate-100 dark:bg-slate-800 p-3 rounded-xl outline-none dark:text-white",value:D,onChange:re=>oe(re.target.value)}),h.jsx("button",{onClick:()=>mt("manual_save"),className:"w-full py-3 bg-blue-500 text-white rounded-xl font-bold active:scale-95 transition-transform",children:"Confirm Date"})]}):h.jsxs("div",{className:"flex gap-3 w-full",children:[h.jsx("button",{onClick:()=>mt("now"),className:"flex-1 py-3 bg-blue-500 text-white rounded-xl font-bold active:scale-95 transition-transform",children:"Yes, Start Now"}),h.jsx("button",{onClick:()=>mt("manual_input"),className:"flex-1 py-3 bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 rounded-xl font-bold active:scale-95 transition-transform",children:"Set Manual"})]}),h.jsx("button",{onClick:()=>{ce(!1),Ae(!1)},className:"mt-4 text-slate-400 text-xs font-bold hover:text-slate-600 dark:hover:text-slate-300",children:"Cancel"})]})}),Ne&&h.jsx("div",{className:"fixed inset-0 z-[100] bg-black/60 backdrop-blur-sm flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-sm max-h-[80vh] rounded-3xl p-6 shadow-2xl animate-fade-in scale-in flex flex-col",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-slate-100 dark:border-slate-800 pb-2",children:[h.jsx("h3",{className:"text-xl font-bold dark:text-white",children:"Reading Activity"}),h.jsx("button",{onClick:()=>fe(!1),className:"text-slate-400 hover:text-slate-600",children:h.jsx(Mn,{size:20})})]}),h.jsx("div",{className:"overflow-y-auto pr-2 custom-scrollbar flex-1",children:x.readingLogs&&x.readingLogs.length>0?h.jsx("div",{className:"relative border-l-2 border-slate-200 dark:border-slate-700 ml-3 space-y-6 my-2",children:[...x.readingLogs].sort((re,Pe)=>new Date(Pe.date)-new Date(re.date)).map((re,Pe)=>h.jsxs("div",{className:"relative pl-6",children:[h.jsx("div",{className:"absolute -left-[9px] top-1.5 w-4 h-4 rounded-full bg-white dark:bg-slate-900 border-2 border-blue-500"}),h.jsxs("div",{className:"flex flex-col",children:[h.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase",children:jA(zc(re.date),"MMMM d, yyyy")}),h.jsxs("span",{className:"text-sm font-bold text-slate-900 dark:text-white",children:[re.pagesRead," ",x.progressMode==="chapters"?"Chapters":"Pages"]})]})]},Pe))}):h.jsx("div",{className:"text-center py-8 text-slate-400",children:h.jsx("p",{children:"No activity recorded yet."})})})]})}),xe&&h.jsx("div",{className:"fixed inset-0 z-[100] bg-black/60 backdrop-blur-sm flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-sm rounded-3xl p-8 shadow-2xl animate-fade-in scale-in flex flex-col relative overflow-hidden",children:[h.jsx("div",{className:"absolute top-[-50px] right-[-50px] w-32 h-32 bg-violet-400/20 rounded-full blur-3xl pointer-events-none"}),h.jsx("div",{className:"absolute bottom-[-50px] left-[-50px] w-32 h-32 bg-blue-400/20 rounded-full blur-3xl pointer-events-none"}),h.jsxs("div",{className:"flex justify-between items-center mb-6 z-10",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-violet-600 to-blue-500 bg-clip-text text-transparent",children:"Log Progress"}),h.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-wider",children:"Update your journey"})]}),h.jsx("button",{onClick:()=>pe(!1),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors text-slate-400",children:h.jsx(Mn,{size:24})})]}),h.jsxs("div",{className:"mb-8 z-10",children:[h.jsxs("label",{className:"text-xs font-bold uppercase text-slate-400 mb-2 block",children:["New ",x.format==="Audiobook"||x.progressMode==="chapters"?"Chapter":"Page"," Number"]}),h.jsx("input",{type:"number",className:"w-full text-center text-5xl font-bold bg-transparent outline-none border-b-2 border-violet-500 p-2 dark:text-white",value:Ie,onChange:re=>j(Number(re.target.value)),autoFocus:!0})]}),h.jsx("button",{onClick:()=>{const re=x.progress||0,Pe=Math.max(0,Ie-re);c(x.id,Ie),V>0&&(w(x.id,V,Pe),W(0)),pe(!1)},className:"w-full py-4 bg-gradient-to-r from-violet-600 to-blue-500 text-white rounded-2xl font-bold shadow-lg shadow-violet-500/30 active:scale-95 transition-all z-10",children:"Update Progress"})]})}),L&&h.jsx(bC,{onScanSuccess:Xt,onClose:()=>X(!1)}),h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("button",{onClick:()=>t(-1),className:"bg-blue-500 text-white px-4 py-2 rounded-lg text-sm font-bold flex items-center",children:" Back"}),h.jsx("h1",{className:"text-xl font-bold dark:text-white",children:"Book Details"}),E?h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:le,className:"bg-slate-100 text-slate-600 px-3 py-2 rounded-lg text-sm font-bold flex items-center gap-1",children:h.jsx(Mn,{size:16})}),h.jsx("button",{onClick:Le,className:"bg-blue-100 text-blue-600 px-3 py-2 rounded-lg text-sm font-bold flex items-center gap-1",children:h.jsx(uF,{size:16})})]}):h.jsxs("button",{onClick:ee,className:"bg-blue-100 text-blue-600 px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-1",children:[h.jsx(lF,{size:16})," Edit"]})]}),(x.status==="reading"||x.status==="want-to-read")&&h.jsxs("div",{className:`mt-4 p-4 rounded-2xl flex items-center justify-between transition-all ${(f==null?void 0:f.bookId)===x.id?"bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900 animate-pulse":"bg-slate-50 dark:bg-slate-800/50 border border-slate-100 dark:border-slate-800"}`,children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:`p-2.5 rounded-xl ${(f==null?void 0:f.bookId)===x.id?"bg-red-500 text-white":"bg-white dark:bg-slate-800 text-slate-400 shadow-sm"}`,children:h.jsx(zi,{size:20,className:(f==null?void 0:f.bookId)===x.id?"animate-spin-slow":""})}),h.jsxs("div",{children:[h.jsx("span",{className:"text-[10px] font-bold uppercase text-slate-400 tracking-wider",children:"Reading Timer"}),h.jsx("h4",{className:"text-sm font-bold dark:text-white",children:(f==null?void 0:f.bookId)===x.id?"Session in progress...":"Start tracking time"})]})]}),h.jsx("button",{onClick:()=>{if((f==null?void 0:f.bookId)===x.id){const re=new Date(f.startTime),Ht=(new Date-re)/6e4;W(parseFloat(Math.max(.1,Ht).toFixed(2))),j(x.progress||0),pe(!0)}else x.status==="reading"?g(x.id):ce(!0)},className:`px-6 py-2.5 rounded-xl text-xs font-black uppercase transition-all active:scale-95 shadow-lg ${(f==null?void 0:f.bookId)===x.id?"bg-red-500 text-white shadow-red-500/30":"bg-blue-600 text-white shadow-blue-500/30"}`,children:(f==null?void 0:f.bookId)===x.id?"Stop & Log":"Start Timer"})]}),h.jsxs("div",{className:"space-y-6 my-6",children:[h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsxs("div",{className:"w-48 aspect-[2/3] shadow-lg rounded-lg overflow-hidden bg-slate-200 relative group",children:[h.jsx(sa,{src:E?S.cover:x.cover,title:E?S.title:x.title,author:E?S.author:x.author,className:"w-full h-full object-cover"}),E&&h.jsxs("div",{className:"absolute inset-0 bg-black/40 flex flex-col items-center justify-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[h.jsx("button",{onClick:()=>{var re;return(re=te.current)==null?void 0:re.click()},className:"p-2 bg-white/20 hover:bg-white/40 text-white rounded-full transition-colors",children:h.jsx(_u,{size:20})}),h.jsx("input",{ref:te,type:"file",accept:"image/*",onChange:Ze,className:"hidden"})]})]}),E&&h.jsxs("div",{className:"mt-4 w-full max-w-[200px] space-y-2",children:[h.jsxs("button",{onClick:et,disabled:T,className:"w-full flex items-center justify-center gap-1 px-3 py-2 bg-emerald-100 dark:bg-emerald-900/40 text-emerald-600 dark:text-emerald-400 rounded-lg text-xs font-medium transition-colors",children:[h.jsx($B,{size:14}),T?"Fetching...":"Fetch Book Data"]}),U&&h.jsx("p",{className:"text-[10px] text-red-500 text-center",children:U})]})]}),h.jsx("div",{className:"px-4 space-y-2",children:E?h.jsxs(h.Fragment,{children:[h.jsx("input",{type:"text",value:S.title,onChange:re=>we("title",re.target.value),className:"w-full text-2xl font-bold text-slate-900 dark:text-white bg-slate-100 dark:bg-slate-800 rounded-lg p-2 text-center outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Book Title"}),h.jsx("input",{type:"text",value:S.author,onChange:re=>we("author",re.target.value),className:"w-full text-slate-500 dark:text-slate-400 bg-slate-100 dark:bg-slate-800 rounded-lg p-2 text-center outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Author"}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"text",value:S.isbn||"",onChange:re=>we("isbn",re.target.value),className:"w-full text-xs text-slate-400 dark:text-slate-500 bg-slate-100 dark:bg-slate-800 rounded-lg p-2 text-center outline-none focus:ring-2 focus:ring-blue-500 pr-10",placeholder:"ISBN"}),h.jsx("button",{onClick:()=>X(!0),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 text-slate-400 hover:text-blue-500 transition-colors",title:"Scan Barcode",children:h.jsx(Ay,{size:16})})]})]}):h.jsxs(h.Fragment,{children:[h.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white text-center",children:x.title}),h.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-center",children:x.author}),x.isbn&&h.jsxs("p",{className:"text-xs text-slate-400 dark:text-slate-500 text-center",children:["ISBN: ",x.isbn]})]})})]}),h.jsxs("div",{className:"px-4",children:[h.jsxs("div",{className:"flex flex-wrap gap-2 mb-6 text-sm items-stretch",children:[h.jsxs("button",{onClick:()=>we("isFavorite",E?!S.isFavorite:!x.isFavorite),className:`flex flex-col items-center justify-center gap-1 px-2 rounded-xl border h-20 min-w-[60px] shrink-0 transition-colors ${(E?S.isFavorite:x.isFavorite)?"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800 text-red-600 dark:text-red-400":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 text-slate-500 dark:text-slate-400"}`,children:[h.jsx(As,{size:20,fill:(E?S.isFavorite:x.isFavorite)?"currentColor":"none"}),h.jsx("span",{className:"text-[10px] font-bold",children:"Fav"})]}),h.jsxs("div",{className:`flex flex-col items-center justify-center gap-2 px-2 rounded-xl border select-none transition-all h-20 w-[130px] shrink-0 ${(E?S.isOwned:x.isOwned)?"bg-emerald-100 dark:bg-emerald-900/30 border-emerald-200 dark:border-emerald-700":(E?S.isWantToBuy:x.isWantToBuy)?"bg-orange-100 dark:bg-orange-900/30 border-orange-200 dark:border-orange-700":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700"} ${!E&&x.isOwned?"cursor-default opacity-80":"cursor-pointer hover:shadow-md"}`,onClick:()=>{if(!E&&x.isOwned)return;const re=E?S:x;let Pe;re.isOwned?Pe={isOwned:!1,isWantToBuy:!1}:re.isWantToBuy?Pe={isOwned:!0,isWantToBuy:!1}:Pe={isOwned:!1,isWantToBuy:!0},E?R(Ht=>({...Ht,...Pe})):n(x.id,Pe)},children:[h.jsx("span",{className:`font-bold text-xs transition-colors ${(E?S.isOwned:x.isOwned)?"text-emerald-700 dark:text-emerald-400":(E?S.isWantToBuy:x.isWantToBuy)?"text-orange-700 dark:text-orange-400":"text-slate-500 dark:text-slate-400"}`,children:(E?S.isOwned:x.isOwned)?"Owned":(E?S.isWantToBuy:x.isWantToBuy)?"Want":"Interested?"}),h.jsx("div",{className:`w-8 h-4 rounded-full p-0.5 transition-colors relative shrink-0 ${(E?S.isOwned:x.isOwned)?"bg-emerald-500":(E?S.isWantToBuy:x.isWantToBuy)?"bg-orange-500":"bg-slate-300 dark:bg-slate-600"}`,children:h.jsx("div",{className:`w-3 h-3 bg-white rounded-full shadow-sm transition-all duration-300 absolute top-0.5 ${(E?S.isOwned:x.isOwned)?"left-[18px]":(E?S.isWantToBuy:x.isWantToBuy)?"left-[10px]":"left-[2px]"}`})})]}),(E?S.isOwned:x.isOwned)&&h.jsxs("div",{className:"flex flex-col justify-center px-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 h-20 animate-fade-in shadow-sm min-w-[100px] shrink-0",children:[h.jsx("span",{className:"text-[10px] uppercase text-slate-400 font-bold mb-0.5 text-center",children:"Spent"}),h.jsxs("div",{className:"flex items-center gap-1 justify-center",children:[h.jsx("span",{className:"text-sm font-bold text-slate-500",children:fC()}),h.jsx("input",{type:"number",value:(E?S.price:x.price)||"",onChange:re=>we("price",parseFloat(re.target.value)),className:"w-14 bg-transparent text-sm font-bold text-emerald-600 dark:text-emerald-400 outline-none text-center",placeholder:"0.00"})]}),h.jsx("input",{type:"date",value:((He=E?S.boughtDate:x.boughtDate)==null?void 0:He.split("T")[0])||"",onChange:re=>we("boughtDate",re.target.value),className:"w-full bg-transparent text-[10px] text-slate-400 outline-none text-center"})]}),(E?S.isOwned:x.isOwned)&&h.jsxs("div",{className:"flex flex-col justify-center px-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 h-20 animate-fade-in shadow-sm min-w-[100px] shrink-0",children:[h.jsx("span",{className:"text-[10px] uppercase text-slate-400 font-bold mb-1 text-center",children:"Status"}),h.jsxs("select",{value:(E?S.ownershipStatus:x.ownershipStatus)||"kept",onChange:re=>we("ownershipStatus",re.target.value),className:"w-full bg-transparent text-xs font-bold text-slate-700 dark:text-slate-300 outline-none text-center cursor-pointer",children:[h.jsx("option",{value:"kept",children:"Kept Copy"}),h.jsx("option",{value:"sold",children:"Sold"})]})]}),(E?S.isOwned:x.isOwned)&&h.jsxs("div",{className:"flex flex-col justify-center px-2 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 h-20 animate-fade-in shadow-sm min-w-[100px] shrink-0",children:[h.jsx("span",{className:"text-[10px] uppercase text-slate-400 font-bold mb-1 text-center",children:"Bought At"}),h.jsxs("select",{value:(E?S.purchaseLocation:x.purchaseLocation)||"",onChange:re=>we("purchaseLocation",re.target.value),className:"w-full bg-transparent text-xs font-bold text-slate-700 dark:text-slate-300 outline-none text-center cursor-pointer",children:[h.jsx("option",{value:"",disabled:!0,children:"Select"}),h.jsx("option",{value:"Online",children:"Online"}),h.jsx("option",{value:"Local Bookstore",children:"Local Bookstore"})]})]})]}),x.status==="reading"&&h.jsxs("div",{className:"flex gap-2 mb-6 animate-fade-in",children:[h.jsxs("div",{className:"flex-1 p-3 bg-violet-50 dark:bg-violet-900/20 border border-violet-100 dark:border-violet-800 rounded-xl flex flex-col items-center justify-center",children:[h.jsx("span",{className:"text-[10px] uppercase text-violet-400 font-bold mb-1 tracking-widest text-center",children:"Avg Speed"}),h.jsxs("div",{className:"text-sm font-black text-violet-700 dark:text-violet-300",children:[VB(x,B)," ",h.jsxs("span",{className:"text-[10px] opacity-70",children:[x.progressMode==="chapters"?"CH":"P","/m"]})]})]}),h.jsxs("div",{className:"flex-1 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-800 rounded-xl flex flex-col items-center justify-center",children:[h.jsx("span",{className:"text-[10px] uppercase text-blue-400 font-bold mb-1 tracking-widest text-center",children:"Time Left"}),h.jsxs("div",{className:"text-sm font-black text-blue-700 dark:text-blue-300",children:[W3(x,B)," ",h.jsx("span",{className:"text-[10px] opacity-70",children:"mins"})]})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-6 mb-6",children:[h.jsxs("div",{className:"col-span-2",children:[h.jsx("span",{className:"text-[10px] font-bold uppercase text-slate-400 mb-1.5 block",children:"Genre"}),h.jsxs("div",{className:"relative",children:[h.jsxs("select",{value:(E?(Be=S.genres)==null?void 0:Be[0]:(gs=x.genres)==null?void 0:gs[0])||"",onChange:re=>we("genres",[re.target.value]),className:"w-full bg-slate-100 dark:bg-slate-800 rounded-lg p-3 text-sm font-bold text-slate-700 dark:text-slate-200 outline-none appearance-none",children:[h.jsx("option",{value:"",disabled:!0,children:"Select Genre"}),pC.map(re=>h.jsx("option",{value:re,children:re},re))]}),h.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-slate-400",children:""})]})]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-[10px] font-bold uppercase text-slate-400 mb-2 block",children:"Format"}),h.jsx("div",{className:"grid grid-cols-3 gap-2 bg-slate-100 dark:bg-slate-800 p-1 rounded-xl",children:["Physical","Ebook","Audiobook"].map(re=>h.jsx("button",{onClick:()=>we("format",re),className:`py-2 rounded-lg text-xs font-bold transition-all ${(E?S.format:x.format)===re?"bg-white dark:bg-slate-700 text-slate-900 dark:text-white shadow-sm":"text-slate-400 hover:text-slate-600 dark:hover:text-slate-300"}`,children:re},re))})]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-[10px] font-bold uppercase text-slate-400 mb-2 block",children:"Do you own another version?"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:["Audiobook","Physical","Ebook"].map(re=>h.jsxs("label",{className:"flex items-center gap-2 bg-slate-100 dark:bg-slate-800 px-3 py-2 rounded-lg cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:[h.jsx("input",{type:"checkbox",checked:(E?S.otherVersions||[]:x.otherVersions||[]).includes(re),onChange:Pe=>{const Ht=E?S.otherVersions||[]:x.otherVersions||[];let xt;Pe.target.checked?xt=[...Ht,re]:xt=Ht.filter(kt=>kt!==re),we("otherVersions",xt)},className:"accent-violet-600"}),h.jsx("span",{className:"text-xs font-bold text-slate-700 dark:text-slate-300",children:re})]},re))})]}),h.jsxs("div",{className:"flex justify-between items-center border-b border-slate-200 dark:border-slate-700 pb-1",children:[h.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:"Status:"}),h.jsxs("select",{value:E?S.status:x.status,onChange:re=>we("status",re.target.value),className:"bg-transparent text-right outline-none text-slate-600 dark:text-slate-300",children:[h.jsx("option",{value:"reading",className:"text-slate-900 dark:text-white bg-white dark:bg-slate-900",children:"Reading"}),h.jsx("option",{value:"read",className:"text-slate-900 dark:text-white bg-white dark:bg-slate-900",children:"Read"}),h.jsx("option",{value:"want-to-read",className:"text-slate-900 dark:text-white bg-white dark:bg-slate-900",children:"TBR"}),h.jsx("option",{value:"paused",className:"text-slate-900 dark:text-white bg-white dark:bg-slate-900",children:"Paused"}),h.jsx("option",{value:"dnf",className:"text-slate-900 dark:text-white bg-white dark:bg-slate-900",children:"DNF"})]})]}),h.jsxs("div",{className:"flex justify-between items-center border-b border-slate-200 dark:border-slate-700 pb-1",children:[h.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:"Style:"}),h.jsxs("select",{value:(E?S.progressMode:x.progressMode)||"percent",onChange:re=>we("progressMode",re.target.value),className:"bg-transparent text-right outline-none text-slate-600 dark:text-slate-300",children:[h.jsx("option",{value:"percent",className:"text-slate-900 dark:text-white bg-white dark:bg-slate-900",children:"Percent"}),x.format==="Audiobook"?h.jsx("option",{value:"chapters",className:"text-slate-900 dark:text-white bg-white dark:bg-slate-900",children:"Chapters"}):h.jsx("option",{value:"pages",className:"text-slate-900 dark:text-white bg-white dark:bg-slate-900",children:"Pages"})]})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6 text-sm",children:[h.jsxs("div",{children:[h.jsx("span",{className:"block font-bold text-slate-900 dark:text-white mb-1",children:"Started:"}),h.jsx("input",{type:"date",value:((ha=E?S.startedAt:x.startedAt)==null?void 0:ha.split("T")[0])||"",onChange:re=>we("startedAt",re.target.value),className:"bg-transparent border-b border-slate-300 dark:border-slate-700 w-full dark:text-slate-300"})]}),h.jsxs("div",{children:[h.jsx("span",{className:"block font-bold text-slate-900 dark:text-white mb-1",children:"Finished:"}),h.jsx("input",{type:"date",value:((cn=E?S.finishedAt:x.finishedAt)==null?void 0:cn.split("T")[0])||"",onChange:re=>we("finishedAt",re.target.value),className:"bg-transparent border-b border-slate-300 dark:border-slate-700 w-full dark:text-slate-300"})]}),h.jsxs("div",{children:[h.jsx("span",{className:"block font-bold text-slate-900 dark:text-white mb-1",children:"Read:"}),h.jsx("input",{type:"number",value:(E?S.progress:x.progress)||0,onChange:re=>we("progress",parseInt(re.target.value)),onClick:()=>{const re=E?S.status:x.status;!E&&re!=="want-to-read"&&(j(x.progress||0),pe(!0))},readOnly:!E||(E?S.status:x.status)==="want-to-read",className:`bg-transparent border-b border-slate-300 dark:border-slate-700 w-full dark:text-slate-300 ${!E&&x.status!=="want-to-read"?"cursor-pointer hover:text-blue-500 transition-colors":""} ${(E?S.status:x.status)==="want-to-read"?"opacity-30 cursor-not-allowed":""}`,placeholder:"0"})]}),h.jsxs("div",{children:[h.jsxs("span",{className:"block font-bold text-slate-900 dark:text-white mb-1",children:["Total ",x.format==="Audiobook"?"Chapters":"Pages",":"]}),E?h.jsx("input",{type:"number",value:x.format==="Audiobook"?S.totalChapters||0:S.totalPages||0,onChange:re=>we(x.format==="Audiobook"?"totalChapters":"totalPages",parseInt(re.target.value)),className:"bg-transparent border-b border-slate-300 dark:border-slate-700 w-full dark:text-slate-300 font-bold text-blue-600 dark:text-blue-400",placeholder:"Total"}):h.jsx("div",{className:"bg-slate-100 dark:bg-slate-800 border-b border-slate-300 dark:border-slate-700 w-full py-2 px-1 dark:text-slate-300 text-slate-500",children:x.format==="Audiobook"?x.totalChapters||"-":x.totalPages||"-"})]})]}),h.jsx("div",{className:"mb-6 mt-4",children:h.jsxs("div",{className:"relative w-full h-3 bg-slate-200 dark:bg-slate-700 rounded-full",children:[h.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-blue-400 to-violet-500 rounded-full transition-all duration-300",style:{width:`${ve()}%`}}),h.jsx("div",{className:"absolute top-0 transition-all duration-300 z-10",style:{left:`${ve()}%`,transform:"translateX(-50%)"},children:h.jsxs("div",{className:"relative -top-3 flex flex-col items-center",children:[h.jsx("div",{className:"bg-violet-600 text-white text-[10px] font-bold px-2 py-1 rounded-sm shadow-md min-w-[40px] text-center mb-1 whitespace-nowrap",children:ze()}),h.jsx("div",{className:"w-0 h-0 border-l-[6px] border-l-transparent border-r-[6px] border-r-transparent border-t-[6px] border-t-violet-600"})]})})]})}),h.jsx("h3",{className:"font-bold text-slate-900 dark:text-white mb-2",children:"Description"}),h.jsx("textarea",{value:(E?S.description:x.description)||"",onChange:re=>we("description",re.target.value),className:"w-full h-24 bg-slate-100 dark:bg-slate-800 rounded-lg p-3 text-sm mb-6 outline-none dark:text-slate-200 resize-none",placeholder:"Enter description..."}),!E&&x.status==="read"&&h.jsx("div",{className:"mb-8",children:h.jsxs("button",{onClick:()=>ne(!0),className:"w-full py-4 bg-gradient-to-r from-violet-600 to-fuchsia-500 text-white rounded-2xl font-bold shadow-lg shadow-violet-500/20 active:scale-95 transition-all flex items-center justify-center gap-2 group",children:[h.jsx(sy,{size:20,className:"group-hover:rotate-12 transition-transform"}),"Share Achievement"]})}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Your Review"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-sm font-bold w-16 dark:text-slate-300",children:"Rating:"}),h.jsx(Jk,{value:E?S.rating:x.rating,onChange:re=>we("rating",re)})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-sm font-bold w-16 dark:text-slate-300",children:"Spice:"}),h.jsx(gC,{value:E?S.spiceRating:x.spiceRating,onChange:re=>we("spiceRating",re)}),h.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[h.jsx("span",{className:"text-[10px] font-bold uppercase text-slate-400",children:"Spicy Content?"}),h.jsx("button",{onClick:()=>we("hasSpice",E?!S.hasSpice:!x.hasSpice),className:`w-10 h-5 rounded-full p-0.5 transition-colors relative ${(E?S.hasSpice:x.hasSpice)?"bg-red-500":"bg-slate-300 dark:bg-slate-700"}`,children:h.jsx("div",{className:`w-4 h-4 bg-white rounded-full shadow-sm transition-all duration-300 absolute top-0.5 ${(E?S.hasSpice:x.hasSpice)?"left-[22px]":"left-[2px]"}`})})]})]}),h.jsx("textarea",{value:(E?S.review:x.review)||"",onChange:re=>we("review",re.target.value),className:"w-full h-32 bg-slate-100 dark:bg-slate-800 rounded-lg p-3 text-sm outline-none resize-none dark:text-slate-200",placeholder:"Write your thoughts about the book..."})]}),h.jsxs("div",{className:"flex justify-between items-center mt-6",children:[h.jsx("button",{onClick:()=>t(`/book/${e}/notes`),className:"text-sm font-bold text-blue-500 hover:text-blue-600 transition-colors px-3 py-2 -ml-3 active:scale-95",children:"See all Notes "}),h.jsx("button",{onClick:()=>fe(!0),className:"text-sm font-bold text-blue-500 hover:text-blue-600 transition-colors px-3 py-2 -mr-3 active:scale-95",children:"See all Activity "})]}),!E&&h.jsxs("div",{className:"space-y-4 mt-8",children:[h.jsx("button",{className:"w-full py-4 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 font-bold rounded-xl shadow-sm active:scale-95 transition-transform",onClick:()=>t(-1),children:"Back to Library"}),h.jsx("button",{onClick:()=>ie(!0),className:"w-full text-red-500/60 text-sm font-bold",children:"Delete Book"})]})]}),Me&&h.jsx("div",{className:"fixed inset-0 z-[100] bg-black/60 backdrop-blur-sm flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-sm rounded-3xl p-6 shadow-2xl animate-fade-in scale-in relative overflow-hidden text-center",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Delete Book?"}),h.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Are you sure you want to delete this book? This action cannot be undone."})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:()=>ie(!1),className:"flex-1 py-3 bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 font-bold rounded-xl",children:"No, Keep it"}),h.jsx("button",{onClick:()=>{s(x.id),ie(!1),t("/")},className:"flex-1 py-3 bg-red-500 text-white font-bold rounded-xl shadow-lg shadow-red-500/30",children:"Yes, Delete"})]})]})}),J&&h.jsx(dC,{book:x,onClose:()=>ne(!1)})]})},Pw=async e=>{var t,r,n,s,a,c,f;try{const g=e.replace(/[-\s]/g,"");if(!g||g.length<10)throw new Error("Invalid ISBN format");const w=`https://openlibrary.org/api/books?bibkeys=ISBN:${g}&format=json&jscmd=data`,B=await fetch(w);if(!B.ok)throw new Error("Failed to fetch book data");const x=await B.json(),v=`ISBN:${g}`;if(!x[v])throw new Error("Book not found for this ISBN");const E=x[v];return{success:!0,data:{title:E.title||"",author:((r=(t=E.authors)==null?void 0:t[0])==null?void 0:r.name)||"",cover:((n=E.cover)==null?void 0:n.large)||((s=E.cover)==null?void 0:s.medium)||((a=E.cover)==null?void 0:a.small)||"",totalPages:E.number_of_pages||"",genres:DQ(E.subjects),isbn:g,publisher:((f=(c=E.publishers)==null?void 0:c[0])==null?void 0:f.name)||"",publishDate:E.publish_date||""}}}catch(g){return console.error("Error fetching book by ISBN:",g),{success:!1,error:g.message||"Failed to fetch book data"}}},DQ=e=>{var r,n;if(!e||!Array.isArray(e))return"";const t={fiction:"Fiction",fantasy:"Fantasy","science fiction":"Science Fiction",romance:"Romance",mystery:"Mystery",thriller:"Thriller",horror:"Horror",historical:"Historical Fiction",biography:"Biography","self-help":"Self-Help",business:"Business",poetry:"Poetry","young adult":"Young Adult",children:"Children","graphic novel":"Graphic Novel",memoir:"Memoir",philosophy:"Philosophy",religion:"Religion",science:"Science",history:"History"};for(const s of e){const a=((r=s.name)==null?void 0:r.toLowerCase())||"";for(const[c,f]of Object.entries(t))if(a.includes(c))return f}return((n=e[0])==null?void 0:n.name)||""},RQ=()=>{const e=zr(),{addBook:t,checkDuplicate:r}=ln(),[n,s]=z.useState(!1),[a,c]=z.useState(!1),[f,g]=z.useState(""),[w,B]=z.useState(null),[x,v]=z.useState({}),E=z.useRef(null),[b,S]=z.useState({title:"",author:"",cover:"",status:"want-to-read",isOwned:!1,price:"",boughtDate:"",isFavorite:!1,genres:"",format:"",isWantToBuy:!1,isbn:"",totalPages:"",totalChapters:"",progress:0,progressMode:"pages",startedAt:"",finishedAt:"",ownershipStatus:"kept",purchaseLocation:"",otherVersions:[],hasSpice:!1,spiceRating:0}),R=k=>{k.preventDefault();const H={};b.title.trim()||(H.title="Title is required"),b.author.trim()||(H.author="Author is required");const M=b.format==="Audiobook"?b.totalChapters:b.totalPages;if((!M||M<=0)&&(H.pages=`${b.format==="Audiobook"?"Total Chapters":"Total Pages"} is required`),b.genres||(H.genres="Genre is required"),b.format||(H.format="Format is required"),Object.keys(H).length>0){v(H);return}v({});const L=r(b.title,b.isbn);if(L.exists){B(L);return}const X={...b,genres:[b.genres],cover:b.cover||dg(b.title,b.author),progressMode:b.format==="Audiobook"?"chapters":"pages",otherVersions:b.otherVersions||[],startedAt:b.status==="reading"||b.status==="read"?b.startedAt||new Date().toISOString():null,finishedAt:b.status==="read"?b.finishedAt||new Date().toISOString():null};t(X),e("/")},T=async k=>{S(M=>({...M,isbn:k})),s(!1),c(!0);const H=await Pw(k);H.success?(S(M=>({...M,...H.data,genres:H.data.genres||M.genres})),g("")):g(H.error),c(!1)},I=k=>{var M;const H=(M=k.target.files)==null?void 0:M[0];if(H){const L=new FileReader;L.onloadend=()=>{S(X=>({...X,cover:L.result})),g("")},L.readAsDataURL(H)}},U=async()=>{if(!b.isbn){g("Please enter an ISBN first");return}c(!0),g("");const k=await Pw(b.isbn);k.success?(S(H=>({...H,...k.data,genres:k.data.genres||H.genres})),g("")):g(k.error),c(!1)};return h.jsxs("div",{className:"pb-10 pt-2",children:[w&&h.jsx("div",{className:"fixed inset-0 z-[100] bg-black/60 backdrop-blur-sm flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-sm rounded-3xl p-6 shadow-2xl animate-fade-in scale-in flex flex-col items-center text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-orange-100 dark:bg-orange-900/30 rounded-full flex items-center justify-center text-orange-600 dark:text-orange-400 mb-4",children:h.jsx(Uu,{size:32})}),h.jsx("h3",{className:"text-xl font-bold dark:text-white mb-2",children:"Book Already Exists"}),h.jsxs("p",{className:"text-slate-500 dark:text-slate-400 mb-6 text-sm",children:["A book with this ",w.type==="Title"?"title":"ISBN"," is already in your library. Please use a unique title or ISBN."]}),h.jsx("button",{onClick:()=>B(null),className:"w-full py-4 bg-slate-900 dark:bg-white text-white dark:text-slate-900 rounded-xl font-bold active:scale-95 transition-transform",children:"Got it"})]})}),n&&h.jsx(bC,{onScanSuccess:T,onClose:()=>s(!1)}),h.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[h.jsx("button",{onClick:()=>e(-1),className:"p-2 -ml-2 text-slate-800 dark:text-white",children:h.jsx(tg,{size:24})}),h.jsx("h1",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Add Book"})]}),h.jsxs("form",{onSubmit:R,className:"space-y-6",children:[h.jsxs("div",{className:"space-y-3",children:[h.jsx("div",{className:"flex justify-center",children:h.jsx("div",{className:"w-32 aspect-[2/3] bg-slate-200 dark:bg-slate-800 rounded-lg overflow-hidden shadow-md",children:b.cover?h.jsx("img",{src:b.cover,alt:"Book cover",className:"w-full h-full object-cover"}):h.jsxs("div",{className:"w-full h-full flex flex-col gap-2 items-center justify-center text-slate-300 dark:text-slate-600 bg-slate-50 dark:bg-slate-900/50",children:[h.jsx(Ef,{size:48,strokeWidth:1.5}),h.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider opacity-50",children:"No Cover"})]})})}),h.jsxs("div",{className:"flex gap-2 justify-center",children:[h.jsxs("button",{type:"button",onClick:()=>{var k;return(k=E.current)==null?void 0:k.click()},className:"flex items-center gap-1 px-3 py-2 bg-blue-100 dark:bg-blue-900/40 text-blue-600 dark:text-blue-400 rounded-lg text-xs font-medium hover:bg-blue-200 dark:hover:bg-blue-900/60 transition-colors",children:[h.jsx(_u,{size:14}),"Upload"]}),h.jsxs("button",{type:"button",onClick:U,disabled:!b.isbn||a,className:"flex items-center gap-1 px-3 py-2 bg-emerald-100 dark:bg-emerald-900/40 text-emerald-600 dark:text-emerald-400 rounded-lg text-xs font-medium hover:bg-emerald-200 dark:hover:bg-emerald-900/60 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[h.jsx($B,{size:14}),a?"Fetching...":"Fetch Book Data"]})]}),f&&h.jsx("p",{className:"text-xs text-red-500 text-center",children:f}),h.jsx("input",{ref:E,type:"file",accept:"image/*",onChange:I,className:"hidden"})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-bold text-slate-800 dark:text-slate-200 mb-1 flex justify-between",children:["Title ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",className:`w-full bg-slate-100 dark:bg-slate-800 rounded-lg p-3 outline-none focus:ring-2 focus:ring-violet-500 transition-shadow dark:text-white ${x.title?"ring-2 ring-red-500":""}`,placeholder:"Enter book title",value:b.title,onChange:k=>{S({...b,title:k.target.value}),x.title&&v({...x,title:null})}}),x.title&&h.jsx("p",{className:"text-[10px] text-red-500 font-bold mt-1 uppercase tracking-wider",children:x.title})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-bold text-slate-800 dark:text-slate-200 mb-1 flex justify-between",children:["Author ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"text",className:`w-full bg-slate-100 dark:bg-slate-800 rounded-lg p-3 outline-none focus:ring-2 focus:ring-violet-500 transition-shadow dark:text-white ${x.author?"ring-2 ring-red-500":""}`,placeholder:"Enter author name",value:b.author,onChange:k=>{S({...b,author:k.target.value}),x.author&&v({...x,author:null})}}),x.author&&h.jsx("p",{className:"text-[10px] text-red-500 font-bold mt-1 uppercase tracking-wider",children:x.author})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-bold text-slate-800 dark:text-slate-200 mb-1",children:"ISBN"}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"text",className:"w-full bg-slate-100 dark:bg-slate-800 rounded-lg p-3 pr-12 outline-none focus:ring-2 focus:ring-violet-500 transition-shadow dark:text-white",placeholder:"Enter ISBN or Scan",value:b.isbn,onChange:k=>S({...b,isbn:k.target.value})}),h.jsx("button",{type:"button",onClick:()=>s(!0),className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",children:h.jsx(Ay,{size:20})})]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-bold text-slate-800 dark:text-slate-200 mb-1 flex justify-between",children:[b.format==="Audiobook"?"Total Chapters":"Total Pages"," ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("input",{type:"number",className:`w-full bg-slate-100 dark:bg-slate-800 rounded-lg p-3 outline-none focus:ring-2 focus:ring-violet-500 transition-shadow dark:text-white ${x.pages?"ring-2 ring-red-500":""}`,placeholder:"0",value:b.format==="Audiobook"?b.totalChapters:b.totalPages,onChange:k=>{const H=parseInt(k.target.value)||"";b.format==="Audiobook"?S({...b,totalChapters:H}):S({...b,totalPages:H}),x.pages&&v({...x,pages:null})}}),x.pages&&h.jsx("p",{className:"text-[10px] text-red-500 font-bold mt-1 uppercase tracking-wider",children:x.pages})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-bold text-slate-800 dark:text-slate-200 mb-1 flex justify-between",children:["Genre ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsxs("select",{className:`w-full bg-slate-100 dark:bg-slate-800 rounded-lg p-3 outline-none dark:text-white ${x.genres?"ring-2 ring-red-500":""}`,value:b.genres,onChange:k=>{S({...b,genres:k.target.value}),x.genres&&v({...x,genres:null})},children:[h.jsx("option",{value:"",disabled:!0,children:"Select Genre"}),pC.map(k=>h.jsx("option",{value:k,className:"text-slate-900 bg-white dark:bg-slate-900 dark:text-white",children:k},k))]}),x.genres&&h.jsx("p",{className:"text-[10px] text-red-500 font-bold mt-1 uppercase tracking-wider",children:x.genres})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-bold text-slate-800 dark:text-slate-200 mb-1 flex justify-between",children:["Status ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsxs("select",{className:"w-full bg-slate-100 dark:bg-slate-800 rounded-lg p-3 outline-none dark:text-white",value:b.status,onChange:k=>{const H=k.target.value;let M={status:H};if(H==="read"){const L=b.format==="Audiobook"?b.totalChapters:b.totalPages;L&&(M.progress=L);const X=new Date().toISOString().split("T")[0];b.startedAt||(M.startedAt=X),b.finishedAt||(M.finishedAt=X)}else if(H==="reading"){const L=new Date().toISOString().split("T")[0];b.startedAt||(M.startedAt=L)}else H==="want-to-read"&&(M.progress=0);S({...b,...M})},children:[h.jsx("option",{value:"want-to-read",className:"text-slate-900 bg-white dark:bg-slate-900 dark:text-white",children:"Want to Read"}),h.jsx("option",{value:"reading",className:"text-slate-900 bg-white dark:bg-slate-900 dark:text-white",children:"Reading"}),h.jsx("option",{value:"read",className:"text-slate-900 bg-white dark:bg-slate-900 dark:text-white",children:"Read"})]})]})]}),(b.status==="reading"||b.status==="read")&&h.jsxs("div",{className:"space-y-4 animate-fade-in bg-slate-50 dark:bg-slate-900/50 p-4 rounded-xl",children:[h.jsxs("div",{className:"flex justify-between items-center mb-1",children:[h.jsxs("label",{className:"text-sm font-bold text-slate-800 dark:text-slate-200",children:["Current ",b.format==="Audiobook"?"Chapter":"Page"]}),h.jsxs("span",{className:"text-[10px] font-black text-violet-600 dark:text-violet-400 uppercase",children:[Math.round((b.progress||0)/(b.format==="Audiobook"?b.totalChapters:b.totalPages||1)*100),"% Complete"]})]}),h.jsx("input",{type:"number",className:"w-full bg-white dark:bg-slate-800 rounded-lg p-3 outline-none focus:ring-2 focus:ring-violet-500 transition-shadow dark:text-white",placeholder:"0",value:b.progress||"",onChange:k=>S({...b,progress:parseInt(k.target.value)||0})}),h.jsx("div",{className:"w-full bg-slate-200 dark:bg-slate-700 h-2 rounded-full overflow-hidden",children:h.jsx("div",{className:"bg-violet-600 h-full rounded-full transition-all duration-500",style:{width:`${Math.min(100,(b.progress||0)/(b.format==="Audiobook"?b.totalChapters:b.totalPages||1)*100)}%`}})}),h.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-[10px] font-black uppercase text-slate-400 mb-1",children:"Date Started"}),h.jsx("input",{type:"date",className:"w-full bg-white dark:bg-slate-800 rounded-lg p-2 text-xs outline-none dark:text-white",value:b.startedAt,onChange:k=>S({...b,startedAt:k.target.value})})]}),b.status==="read"&&h.jsxs("div",{children:[h.jsx("label",{className:"block text-[10px] font-black uppercase text-slate-400 mb-1",children:"Date Finished"}),h.jsx("input",{type:"date",className:"w-full bg-white dark:bg-slate-800 rounded-lg p-2 text-xs outline-none dark:text-white",value:b.finishedAt,onChange:k=>S({...b,finishedAt:k.target.value})})]})]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-bold text-slate-800 dark:text-slate-200 mb-1 flex justify-between",children:["Format ",h.jsx("span",{className:"text-red-500",children:"*"})]}),h.jsx("div",{className:`flex bg-slate-100 dark:bg-slate-800 p-1 rounded-lg ${x.format?"ring-2 ring-red-500":""}`,children:["Physical","Ebook","Audiobook"].map(k=>h.jsx("button",{type:"button",onClick:()=>{S({...b,format:k}),x.format&&v({...x,format:null})},className:`flex-1 py-2 text-xs font-medium rounded-md transition-colors ${b.format===k?"bg-white dark:bg-slate-600 shadow-sm text-slate-900 dark:text-white":"text-slate-500 dark:text-slate-400"}`,children:k},k))}),x.format&&h.jsx("p",{className:"text-[10px] text-red-500 font-bold mt-1 uppercase tracking-wider",children:x.format})]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-[10px] font-bold uppercase text-slate-400 mb-2 block",children:"Do you own another version?"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:["Audiobook","Physical","Ebook"].map(k=>h.jsxs("label",{className:"flex items-center gap-2 bg-slate-100 dark:bg-slate-800 px-3 py-2 rounded-lg cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",children:[h.jsx("input",{type:"checkbox",checked:(b.otherVersions||[]).includes(k),onChange:H=>{const M=b.otherVersions||[];let L;H.target.checked?L=[...M,k]:L=M.filter(X=>X!==k),S({...b,otherVersions:L})},className:"accent-violet-600"}),h.jsx("span",{className:"text-xs font-bold text-slate-700 dark:text-slate-300",children:k})]},k))})]}),h.jsxs("div",{className:"space-y-4 bg-slate-50 dark:bg-slate-900 rounded-xl p-4",children:[h.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[h.jsxs("button",{type:"button",onClick:()=>S({...b,isFavorite:!b.isFavorite}),className:`flex flex-col items-center justify-center gap-1 px-4 rounded-xl border h-20 min-w-[80px] transition-colors ${b.isFavorite?"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800 text-red-600 dark:text-red-400":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700 text-slate-500 dark:text-slate-400"}`,children:[h.jsx(As,{size:20,fill:b.isFavorite?"currentColor":"none"}),h.jsx("span",{className:"text-xs font-bold",children:"Favorite"})]}),h.jsxs("div",{className:`flex flex-col items-center justify-center gap-2 px-4 rounded-xl border cursor-pointer select-none transition-all h-20 min-w-[140px] ${b.isOwned?"bg-emerald-100 dark:bg-emerald-900/30 border-emerald-200 dark:border-emerald-700":b.isWantToBuy?"bg-orange-100 dark:bg-orange-900/30 border-orange-200 dark:border-orange-700":"bg-white dark:bg-slate-800 border-slate-200 dark:border-slate-700"}`,onClick:()=>{b.isOwned?S({...b,isOwned:!1,isWantToBuy:!1}):b.isWantToBuy?S({...b,isOwned:!0,isWantToBuy:!1}):S({...b,isOwned:!1,isWantToBuy:!0})},children:[h.jsx("span",{className:`font-bold text-sm transition-colors ${b.isOwned?"text-emerald-700 dark:text-emerald-400":b.isWantToBuy?"text-orange-700 dark:text-orange-400":"text-slate-500 dark:text-slate-400"}`,children:b.isOwned?"Owned":b.isWantToBuy?"Want":"Interested?"}),h.jsx("div",{className:`w-10 h-5 rounded-full p-1 transition-colors relative shrink-0 ${b.isOwned?"bg-emerald-500":b.isWantToBuy?"bg-orange-500":"bg-slate-300 dark:bg-slate-600"}`,children:h.jsx("div",{className:`w-3 h-3 bg-white rounded-full shadow-sm transition-all duration-300 absolute top-1 ${b.isOwned?"left-[22px]":b.isWantToBuy?"left-[14px]":"left-[4px]"}`})})]}),b.isOwned&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"flex flex-col justify-center px-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 h-20 animate-fade-in shadow-sm min-w-[120px]",children:[h.jsx("span",{className:"text-[10px] uppercase text-slate-400 font-bold mb-0.5",children:"Spent"}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx("span",{className:"text-sm font-bold text-slate-500",children:fC()}),h.jsx("input",{type:"number",placeholder:"0.00",className:"w-16 bg-transparent text-sm font-bold text-emerald-600 dark:text-emerald-400 outline-none",value:b.price,onChange:k=>S({...b,price:parseFloat(k.target.value)})})]}),h.jsx("input",{type:"date",className:"w-full bg-transparent text-xs text-slate-400 outline-none",value:b.boughtDate,onChange:k=>S({...b,boughtDate:k.target.value})})]}),h.jsxs("div",{className:"flex flex-col justify-center px-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 h-20 animate-fade-in shadow-sm min-w-[100px]",children:[h.jsx("span",{className:"text-[10px] uppercase text-slate-400 font-bold mb-1",children:"Status"}),h.jsxs("select",{className:"w-full bg-transparent text-xs font-bold text-slate-700 dark:text-slate-300 outline-none cursor-pointer",value:b.ownershipStatus,onChange:k=>S({...b,ownershipStatus:k.target.value}),children:[h.jsx("option",{value:"kept",children:"Kept Copy"}),h.jsx("option",{value:"sold",children:"Sold"})]})]}),h.jsxs("div",{className:"flex flex-col justify-center px-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 h-20 animate-fade-in shadow-sm min-w-[100px]",children:[h.jsx("span",{className:"text-[10px] uppercase text-slate-400 font-bold mb-1",children:"Bought At"}),h.jsxs("select",{className:"w-full bg-transparent text-xs font-bold text-slate-700 dark:text-slate-300 outline-none cursor-pointer",value:b.purchaseLocation,onChange:k=>S({...b,purchaseLocation:k.target.value}),children:[h.jsx("option",{value:"",disabled:!0,children:"Select"}),h.jsx("option",{value:"Online",children:"Online"}),h.jsx("option",{value:"Local Bookstore",children:"Local Bookstore"})]})]})]})]}),h.jsxs("div",{className:"pt-2 border-t border-slate-200 dark:border-slate-800",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(qn,{size:20,className:b.hasSpice?"text-red-500":"text-slate-400"}),h.jsx("span",{className:"text-sm font-bold text-slate-800 dark:text-slate-200",children:"Spicy Content?"})]}),h.jsx("button",{type:"button",onClick:()=>S({...b,hasSpice:!b.hasSpice,spiceRating:b.hasSpice?0:b.spiceRating}),className:`w-12 h-6 rounded-full p-1 transition-colors relative ${b.hasSpice?"bg-red-500":"bg-slate-300 dark:bg-slate-700"}`,children:h.jsx("div",{className:`w-4 h-4 bg-white rounded-full shadow-sm transition-all duration-300 absolute top-1 ${b.hasSpice?"left-[26px]":"left-[4px]"}`})})]}),b.hasSpice&&h.jsxs("div",{className:"flex items-center gap-4 py-2 px-3 bg-white dark:bg-slate-800 rounded-xl border border-red-100 dark:border-red-900/30 animate-fade-in shadow-sm",children:[h.jsx("span",{className:"text-[10px] font-black uppercase text-slate-400 min-w-[50px]",children:"Intensity:"}),h.jsx(gC,{value:b.spiceRating,onChange:k=>S({...b,spiceRating:k})})]})]})]})]}),h.jsx("button",{type:"submit",className:"w-full bg-slate-900 dark:bg-white text-white dark:text-slate-900 font-bold py-4 rounded-xl mt-6 active:scale-95 transition-transform",children:"Save Book"})]})]})},Yi=({title:e,data:t,colors:r})=>{const n=t.reduce((f,g)=>f+g.value,0),s=35,a=2*Math.PI*s;let c=0;return h.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-100 dark:border-slate-800 contrast-card",children:[h.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase mb-6",children:e}),h.jsxs("div",{className:"flex items-center gap-8",children:[h.jsxs("div",{className:"relative w-32 h-32 flex-shrink-0",children:[h.jsx("svg",{viewBox:"0 0 100 100",className:"w-full h-full -rotate-90",children:n>0?t.map((f,g)=>{const w=f.value/n*100,B=`${w*a/100} ${a}`,x=-c;return c+=w*a/100,h.jsx("circle",{cx:"50",cy:"50",r:s,fill:"transparent",stroke:r[g%r.length],strokeWidth:"12",strokeDasharray:B,strokeDashoffset:x,className:"transition-all duration-1000 ease-out"},g)}):h.jsx("circle",{cx:"50",cy:"50",r:s,fill:"transparent",stroke:"#E2E8F0",strokeWidth:"8"})}),h.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[h.jsx("span",{className:"text-xl font-black text-slate-900 dark:text-white leading-none",children:n}),h.jsx("span",{className:"text-[10px] text-slate-400 uppercase font-bold tracking-tighter",children:"Total"})]})]}),h.jsx("div",{className:"flex-1 space-y-3",children:t.length>0?t.map((f,g)=>h.jsxs("div",{className:"flex items-center justify-between group",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:r[g%r.length]}}),h.jsx("span",{className:"text-xs font-bold text-slate-600 dark:text-slate-400 group-hover:text-slate-900 dark:group-hover:text-white truncate max-w-[80px]",children:f.name})]}),h.jsxs("span",{className:"text-[10px] font-black text-slate-400 group-hover:text-violet-500",children:[Math.round(f.value/n*100),"%"]})]},g)):h.jsx("div",{className:"text-xs text-slate-400 font-medium italic",children:"No data yet"})})]})]})},MQ=()=>{const{books:e,getYearlyStats:t,getStreak:r,readingGoal:n,setReadingGoal:s}=ln(),{themePreset:a}=qo(),c=t(),f=r(),g=zr(),[w,B]=z.useState(!1),[x,v]=z.useState(new Date),E=()=>{v(J=>new Date(J.getFullYear(),J.getMonth()-1,1))},b=()=>{v(J=>new Date(J.getFullYear(),J.getMonth()+1,1))},S=()=>{v(new Date)},[R,T]=z.useState({yearly:n.yearly,monthly:n.monthly}),I=()=>{T({yearly:n.yearly,monthly:n.monthly}),B(!0)},U=GE({start:zE(x),end:VE(x)}),k=x.getFullYear(),H=x.getMonth(),M=e.filter(J=>{if(J.status!=="read"||!J.finishedAt)return!1;const ne=new Date(J.finishedAt);return ne.getFullYear()===k&&ne.getMonth()===H}),L=M.filter(J=>J.rating>0&&J.rating<=2).length,X=e.filter(J=>{if(!J.isFavorite||!J.addedAt)return!1;const ne=new Date(J.addedAt);return ne.getFullYear()===k&&ne.getMonth()===H}).length,G={};M.forEach(J=>{(J.genres||[]).forEach(ne=>{G[ne]=(G[ne]||0)+1})});const ce=Object.entries(G).sort((J,ne)=>ne[1]-J[1]).slice(0,5).map(([J,ne])=>({name:J,value:ne})),Ne={};M.forEach(J=>{const ne=J.format||"Unknown";Ne[ne]=(Ne[ne]||0)+1});const fe=Object.entries(Ne).map(([J,ne])=>({name:J,value:ne})),me={};e.filter(J=>{if(!J.isOwned||!J.purchaseLocation)return!1;if(J.boughtDate){const ne=new Date(J.boughtDate);return ne.getFullYear()===k&&ne.getMonth()===H}if(J.addedAt){const ne=new Date(J.addedAt);return ne.getFullYear()===k&&ne.getMonth()===H}return!1}).forEach(J=>{const ne=J.purchaseLocation;me[ne]=(me[ne]||0)+1});const Te=Object.entries(me).map(([J,ne])=>({name:J,value:ne})),D=M.reduce((J,ne)=>J+(ne.isOwned&&parseFloat(ne.price)||0),0),oe=e.reduce((J,ne)=>{const Ie=ne.readingLogs||[],j=Ie.filter(ee=>{const le=new Date(ee.date);return le.getFullYear()===k&&le.getMonth()===H});if(j.length===0)return J;const V=Math.max(...j.map(ee=>ee.pagesRead||0)),W=Ie.filter(ee=>new Date(ee.date)<new Date(k,H,1)),te=W.length>0?Math.max(...W.map(ee=>ee.pagesRead||0)):0;return J+Math.max(0,V-te)},0),ge=e.reduce((J,ne)=>{const V=(ne.readingLogs||[]).filter(W=>{const te=new Date(W.date);return te.getFullYear()===k&&te.getMonth()===H}).reduce((W,te)=>W+(te.minutesRead||0),0);return J+V},0),Ae=J=>{if(!J)return"0m";const ne=Math.floor(J/60),Ie=Math.round(J%60);return ne>0?`${ne}h ${Ie}m`:`${Ie}m`},xe=e.filter(J=>{if(!J.addedAt)return!1;const ne=new Date(J.addedAt);return ne.getFullYear()===k&&ne.getMonth()===H}).length,pe=e.filter(J=>{if(!J.addedAt||J.status!=="want-to-read")return!1;const ne=new Date(J.addedAt);return ne.getFullYear()===k&&ne.getMonth()===H}).length,Me=e.filter(J=>J.status==="want-to-read").length,ie=M.filter(J=>J.hasSpice).length;return h.jsxs("div",{className:"pb-24 pt-4",children:[w&&h.jsx("div",{className:"fixed inset-0 z-[60] bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:h.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-sm rounded-[32px] p-8 shadow-2xl animate-fade-in scale-in flex flex-col",children:[h.jsxs("div",{className:"flex justify-between items-center mb-8",children:[h.jsxs("h3",{className:"text-2xl font-bold dark:text-white flex items-center gap-2",children:[h.jsx(iy,{className:"text-blue-500"})," Set Goals"]}),h.jsx("button",{onClick:()=>B(!1),className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:h.jsx(Mn,{size:24,className:"text-slate-400"})})]}),h.jsxs("div",{className:"space-y-8 mb-10",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-xs font-bold uppercase text-slate-400 mb-3 block tracking-wider",children:"Monthly Goal"}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("input",{type:"number",className:"flex-1 min-w-0 text-center text-3xl font-black bg-slate-50 dark:bg-slate-800/50 rounded-2xl py-3 outline-none border-2 border-transparent focus:border-blue-500 transition-all dark:text-white",value:R.monthly,onChange:J=>T(ne=>({...ne,monthly:Number(J.target.value)}))}),h.jsx("span",{className:"text-slate-400 font-bold uppercase text-xs",children:"Books / Mo"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-xs font-bold uppercase text-slate-400 mb-3 block tracking-wider",children:"Yearly Goal"}),h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("input",{type:"number",className:"flex-1 min-w-0 text-center text-3xl font-black bg-slate-50 dark:bg-slate-800/50 rounded-2xl py-3 outline-none border-2 border-transparent focus:border-emerald-500 transition-all dark:text-white",value:R.yearly,onChange:J=>T(ne=>({...ne,yearly:Number(J.target.value)}))}),h.jsx("span",{className:"text-slate-400 font-bold uppercase text-xs",children:"Books / Yr"})]})]})]}),h.jsx("button",{onClick:saveGoals,className:"w-full py-5 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-2xl font-black text-lg shadow-xl shadow-blue-500/20 active:scale-95 transition-all",children:"Save Goals"})]})}),h.jsx(Ku,{}),h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Calendar"}),h.jsxs("button",{onClick:()=>g("/annual"),className:"flex items-center gap-1.5 px-3 py-2 bg-violet-100 dark:bg-violet-900/30 text-violet-600 dark:text-violet-400 rounded-xl hover:bg-violet-200 dark:hover:bg-violet-900/50 transition-colors text-xs font-black uppercase tracking-wider shadow-sm contrast-card",children:[h.jsx(hF,{size:14}),"Report"]})]}),h.jsxs("div",{className:"flex gap-4 mb-8",children:[h.jsxs("div",{className:"w-1/4 bg-sky-200 dark:bg-sky-900 rounded-2xl p-4 flex flex-col items-center justify-center text-center shadow-sm min-h-[120px] contrast-card",children:[h.jsx("div",{className:"mb-2 bg-slate-900 text-white p-2 rounded-full",children:h.jsx(hc,{size:20})}),h.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-white leading-none mb-1",children:f}),h.jsxs("div",{className:"text-xs font-bold text-slate-600 dark:text-slate-300 uppercase leading-tight",children:["Day",h.jsx("br",{}),"Streak"]})]}),h.jsxs("div",{className:"flex-1 grid grid-cols-4 gap-2",children:[h.jsx(YA,{label:"Reading",count:c.reading,colorClass:"bg-[var(--color-pastel-blue)] dark:bg-blue-900/40",onClick:()=>g("/library",{state:{statusFilter:"Reading"}})}),h.jsx(YA,{label:"Read",count:c.read,colorClass:"bg-[var(--color-pastel-green)] dark:bg-emerald-900/40",onClick:()=>g("/library",{state:{statusFilter:"Read"}})}),h.jsx(YA,{label:"TBR",count:c.tbr,colorClass:"bg-[var(--color-pastel-pink)] dark:bg-fuchsia-900/40",onClick:()=>g("/library",{state:{statusFilter:"Want to Read"}})}),h.jsx(YA,{label:"Added",count:c.addedThisMonth,colorClass:"bg-[var(--color-pastel-orange)] dark:bg-amber-900/40",onClick:()=>g("/library")})]})]}),h.jsxs("div",{className:"mb-8",children:[h.jsxs("div",{className:"flex justify-between items-center mb-2",children:[h.jsx("h2",{className:"text-xl font-bold text-slate-800 dark:text-white",children:"Goals This Month"}),h.jsx("button",{onClick:I,className:"text-sm font-bold text-blue-500 hover:text-blue-600 transition-colors px-3 py-2 -mr-3 active:scale-95",children:"Set Goals "})]}),h.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/10 rounded-2xl p-5 relative overflow-hidden ring-1 ring-blue-100 dark:ring-blue-900/30 contrast-card",children:[h.jsx("div",{className:"absolute left-0 top-0 bottom-0 bg-blue-500/10 dark:bg-blue-500/20 transition-all duration-1000 ease-out",style:{width:`${Math.min(c.readThisMonth/n.monthly*100,100)}%`}}),h.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[h.jsxs("div",{className:"flex items-baseline gap-2",children:[h.jsx("span",{className:"text-4xl font-black text-blue-600 dark:text-blue-400",children:c.readThisMonth}),h.jsxs("span",{className:"text-lg font-bold text-slate-400",children:["/ ",n.monthly]})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("div",{className:"flex items-center justify-end gap-1.5",children:[h.jsx("span",{className:"block text-sm font-black text-slate-800 dark:text-slate-200",children:"Books Read"}),c.readThisMonth>=n.monthly&&h.jsx("div",{className:"bg-blue-500 text-white p-0.5 rounded-full shadow-lg shadow-blue-500/40 animate-scale-in",children:h.jsx(hc,{size:12,strokeWidth:4})})]}),h.jsx("span",{className:"text-[10px] font-bold text-blue-500/80 uppercase tracking-tighter",children:"Monthly Target"})]})]})]}),h.jsxs("div",{className:"mt-3 bg-slate-100 dark:bg-white/5 rounded-xl py-3 px-4 flex items-center justify-between border border-slate-200 dark:border-white/10 contrast-card",children:[h.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:"Yearly Progress"}),h.jsxs("div",{className:"flex items-baseline gap-1",children:[h.jsx("span",{className:"text-base font-bold dark:text-white",children:c.readThisYear}),h.jsxs("span",{className:"text-xs font-bold text-slate-400",children:["/ ",n.yearly]})]})]})]}),h.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:"Books this Month"}),h.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl p-4 shadow-sm border border-slate-100 dark:border-slate-800 contrast-card",children:[h.jsxs("div",{className:"mb-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:jA(x,"MMMM yyyy")}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:E,className:"p-2 rounded-lg bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",title:"Previous Month",children:h.jsx(tF,{size:20})}),h.jsx("button",{onClick:S,className:"px-3 py-2 rounded-lg bg-violet-100 dark:bg-violet-900/30 text-violet-600 dark:text-violet-400 hover:bg-violet-200 dark:hover:bg-violet-900/50 transition-colors text-xs font-bold",children:"Today"}),h.jsx("button",{onClick:b,className:"p-2 rounded-lg bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",title:"Next Month",children:h.jsx(Ga,{size:20})})]})]}),h.jsxs("div",{className:"text-sm font-bold text-slate-400 bg-slate-100 dark:bg-slate-800 px-3 py-1 rounded-full",children:[jA(x,"yyyy")," "]})]}),h.jsx("div",{className:"grid grid-cols-7 gap-1 text-center mb-2",children:["S","M","T","W","T","F","S"].map((J,ne)=>h.jsx("div",{className:"text-xs font-bold text-slate-400",children:J},`${J}-${ne}`))}),h.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[Array.from({length:U[0].getDay()}).map((J,ne)=>h.jsx("div",{className:"min-h-[8rem]"},`empty-${ne}`)),U.map(J=>{const Ie=e.filter(V=>{var le;const W=(le=V.readingLogs)==null?void 0:le.some(Le=>Fr(new Date(Le.date),J)),te=V.startedAt&&Fr(new Date(V.startedAt),J),ee=V.finishedAt&&Fr(new Date(V.finishedAt),J);return W||te||ee}).sort((V,W)=>{const te=ee=>{var we;const le=[];return ee.finishedAt&&Fr(new Date(ee.finishedAt),J)&&le.push(new Date(ee.finishedAt).getTime()),(((we=ee.readingLogs)==null?void 0:we.filter(Ze=>Fr(new Date(Ze.date),J)))||[]).forEach(Ze=>le.push(new Date(Ze.date).getTime())),le.length>0?Math.min(...le):0};return te(V)-te(W)}),j=Fr(J,new Date);return h.jsxs("div",{className:`min-h-[8rem] relative flex flex-col rounded-lg overflow-hidden transition-all ${j?"bg-violet-100 dark:bg-violet-900/30 ring-2 ring-violet-500 dark:ring-violet-400":"bg-slate-50 dark:bg-slate-800/50"}`,children:[h.jsx("div",{className:"h-6 flex items-center justify-center shrink-0 z-20",children:h.jsx("span",{className:`text-xs font-bold ${j?"text-violet-700 dark:text-violet-300":Ie.length>0?"text-slate-900 dark:text-white":"text-slate-500"}`,children:jA(J,"d")})}),h.jsx("div",{className:`flex-1 grid gap-1 px-1 pb-1 ${Ie.length>1?"grid-cols-2":"grid-cols-1"}`,children:Ie.length>0&&Ie.map(V=>h.jsx("div",{onClick:()=>g(`/book/${V.id}`),className:"relative w-full cursor-pointer hover:opacity-80 transition-opacity",style:{aspectRatio:"2/3"},children:h.jsx(sa,{src:V.cover,title:V.title,author:V.author,className:"w-full h-full object-cover rounded-md shadow-sm"})},V.id))})]},J.toString())})]})]}),h.jsxs("div",{className:"mt-8 bg-white dark:bg-slate-900 rounded-2xl p-6 shadow-sm border border-slate-100 dark:border-slate-800 contrast-card",children:[h.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4",children:"This Week's Progress"}),h.jsx("div",{className:"grid grid-cols-7 gap-2",children:(()=>{const J=new Date,ne=na(J,{weekStartsOn:0}),Ie=Array.from({length:7},(V,W)=>pB(ne,W)),j=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return Ie.map((V,W)=>{const te=e.some(le=>{var et;const Le=(et=le.readingLogs)==null?void 0:et.some(Xt=>Fr(new Date(Xt.date),V)),we=le.startedAt&&Fr(new Date(le.startedAt),V),Ze=le.finishedAt&&Fr(new Date(le.finishedAt),V);return Le||we||Ze}),ee=Fr(V,J);return V<J&&Fr(V,J),h.jsxs("div",{className:`flex flex-col items-center justify-center p-3 rounded-xl transition-all ${te?"bg-emerald-100 dark:bg-emerald-900/30 border-2 border-emerald-500":ee?"bg-blue-100 dark:bg-blue-900/30 border-2 border-blue-500":"bg-slate-50 dark:bg-slate-800 border-2 border-slate-200 dark:border-slate-700"}`,children:[h.jsx("div",{className:`text-xs font-bold uppercase mb-2 ${te?"text-emerald-700 dark:text-emerald-400":ee?"text-blue-700 dark:text-blue-400":"text-slate-400"}`,children:j[W]}),h.jsx("div",{className:`text-lg font-bold mb-2 ${te?"text-emerald-900 dark:text-emerald-300":ee?"text-blue-900 dark:text-blue-300":"text-slate-500 dark:text-slate-400"}`,children:jA(V,"d")}),h.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${te?"bg-emerald-500":"bg-slate-200 dark:bg-slate-700"}`,children:te&&h.jsx(hc,{size:16,className:"text-white"})})]},W)})})()}),h.jsxs("div",{className:"mt-4 flex items-center justify-center gap-4 text-xs text-slate-500 dark:text-slate-400",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-4 h-4 rounded-full bg-emerald-500"}),h.jsx("span",{children:"Activity logged"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-4 h-4 rounded-full bg-blue-500"}),h.jsx("span",{children:"Today"})]})]})]}),h.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white mt-8 mb-4",children:"Monthly Analytics"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 pb-6",children:[h.jsx(Yi,{title:"Monthly Top Genres",data:ce,colors:a==="paper-ink"?["#333333","#555555","#777777","#999999","#BBBBBB"]:["#8B5CF6","#EC4899","#3B82F6","#10B981","#F59E0B"]}),h.jsx(Yi,{title:"Monthly Book Formats",data:fe,colors:a==="paper-ink"?["#333333","#666666","#999999","#CCCCCC","#EEEEEE"]:["#6366F1","#F43F5E","#84CC16","#06B6D4","#D946EF"]}),h.jsx(Yi,{title:"Monthly Purchase Locations",data:Te,colors:a==="paper-ink"?["#333333","#555555","#777777","#999999","#BBBBBB"]:["#10B981","#F59E0B","#3B82F6","#EC4899","#8B5CF6"]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[h.jsx("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-100 dark:border-slate-800 flex items-center justify-between shadow-sm contrast-card",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-900/30 p-3 rounded-xl",children:h.jsx(qB,{className:"text-emerald-600 dark:text-emerald-400",size:24})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Monthly Spent"}),h.jsx("p",{className:"text-2xl font-black text-slate-900 dark:text-white leading-none mt-1",children:hC(D)})]})]})}),h.jsx("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-100 dark:border-slate-800 flex items-center justify-between shadow-sm contrast-card",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"bg-violet-100 dark:bg-violet-900/30 p-3 rounded-xl",children:h.jsx(ZB,{className:"text-violet-600 dark:text-violet-400",size:24})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Time Read"}),h.jsx("p",{className:"text-2xl font-black text-slate-900 dark:text-white leading-none mt-1",children:Ae(ge)})]})]})}),h.jsx("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-100 dark:border-slate-800 flex items-center justify-between shadow-sm contrast-card",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-3 rounded-xl",children:h.jsx(XB,{className:"text-blue-600 dark:text-blue-400",size:24})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Pages Read"}),h.jsx("p",{className:"text-2xl font-black text-slate-900 dark:text-white leading-none mt-1",children:oe.toLocaleString()})]})]})}),h.jsx("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-100 dark:border-slate-800 flex items-center justify-between shadow-sm contrast-card",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"bg-red-100 dark:bg-red-900/30 p-3 rounded-xl",children:h.jsx(qn,{size:24,className:"text-red-500 fill-current"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Spicy Reads"}),h.jsx("p",{className:"text-2xl font-black text-slate-900 dark:text-white leading-none mt-1",children:ie})]})]})}),h.jsx("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-100 dark:border-slate-800 flex items-center justify-between shadow-sm contrast-card",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"bg-amber-100 dark:bg-amber-900/30 p-3 rounded-xl",children:h.jsx(ry,{className:"text-amber-600 dark:text-amber-400",size:24})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Paused"}),h.jsx("p",{className:"text-2xl font-black text-slate-900 dark:text-white leading-none mt-1",children:c.pausedThisMonth})]})]})}),h.jsx("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-100 dark:border-slate-800 flex items-center justify-between shadow-sm contrast-card",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"bg-slate-100 dark:bg-slate-800 p-3 rounded-xl",children:h.jsx(oy,{className:"text-slate-600 dark:text-slate-400",size:24})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"DNF"}),h.jsx("p",{className:"text-2xl font-black text-slate-900 dark:text-white leading-none mt-1",children:c.dnfThisMonth})]})]})}),h.jsx("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-100 dark:border-slate-800 flex items-center justify-between shadow-sm contrast-card",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"bg-red-100 dark:bg-red-900/30 p-3 rounded-xl",children:h.jsx($n,{className:"text-red-600 dark:text-red-400",size:24})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Worst Review"}),h.jsx("p",{className:"text-2xl font-black text-slate-900 dark:text-white leading-none mt-1",children:L})]})]})}),h.jsx("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-100 dark:border-slate-800 flex items-center justify-between shadow-sm",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"bg-pink-100 dark:bg-pink-900/30 p-3 rounded-xl",children:h.jsx(As,{className:"text-pink-600 dark:text-pink-400",size:24})}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider",children:"Favorites"}),h.jsx("p",{className:"text-2xl font-black text-slate-900 dark:text-white leading-none mt-1",children:X})]})]})}),h.jsxs("div",{className:"bg-slate-900 dark:bg-slate-800 p-6 rounded-2xl border border-slate-700 dark:border-slate-700 col-span-1 md:col-span-3 text-white shadow-xl shadow-slate-200 dark:shadow-none relative overflow-hidden contrast-card",children:[h.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:h.jsx(ng,{size:80})}),h.jsxs("div",{className:"relative z-10",children:[h.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-4",children:["Monthly Growth (",jA(x,"MMMM"),")"]}),h.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-black",children:xe}),h.jsx("div",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Added"})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-black text-amber-400",children:pe}),h.jsx("div",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"TBR Added"})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-2xl font-black text-emerald-400",children:Me}),h.jsx("div",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"TBR Total"})]})]})]})]})]})]})},LQ=()=>{const{toggleTheme:e,theme:t,themePreset:r,setThemePreset:n}=qo(),{user:s,signOut:a}=ua(),{syncLocalToCloud:c,books:f,exportData:g,importData:w,userProfile:B,updateUserProfile:x}=ln(),v=zr(),E=z.useRef(null),b=z.useRef(null),[S,R]=z.useState(!1),[T,I]=z.useState("feedback"),[U,k]=z.useState(""),[H,M]=z.useState(!1),[L,X]=z.useState(!1),[G,ce]=z.useState({name:"",avatar:""}),Ne=J=>{I(J),k(""),R(!0)},fe=()=>{const J=encodeURIComponent(`[BookTracker] ${T==="bug"?"Bug Report":"Feedback"}`),ne=encodeURIComponent(`${U}

--
Sent from Book Tracker Web App`);window.location.href=`mailto:lbbookspr@gmail.com?subject=${J}&body=${ne}`,R(!1)},me=async()=>{M(!0);try{const J=await c();J.success?alert(` Sync Complete!

`+J.message):alert(` Sync Failed

`+J.message)}catch(J){alert(` Sync Error

`+J.message)}finally{M(!1)}},Te=()=>g(),D=()=>{var J;return(J=E.current)==null?void 0:J.click()},oe=async J=>{const ne=J.target.files[0];if(!ne)return;if(confirm("Importing data will overwrite your current library. Are you sure?"))try{const j=await w(ne);alert(`Successfully imported ${j.bookCount} books!`),window.location.href="/library"}catch(j){console.error(" Import error:",j),alert("Failed to import: "+j.message)}J.target.value=""},ge=()=>{ce({name:B.name||(s?s.email.split("@")[0]:"Guest User"),avatar:B.avatar}),X(!0)},Ae=()=>{x(G),X(!1)},xe=J=>{const ne=J.target.files[0];if(ne){const Ie=new FileReader;Ie.onloadend=()=>{ce(j=>({...j,avatar:Ie.result}))},Ie.readAsDataURL(ne)}},pe=[{title:"App Settings",items:[{icon:h.jsx(oF,{size:20}),label:"Dark Mode",action:r==="default"?e:void 0,isToggle:!0,value:t==="dark",disabled:r!=="default",description:r!=="default"?"Only available in Default theme":null},{icon:h.jsx(Wd,{size:20}),label:"Theme Preset",value:h.jsxs("select",{value:r,onChange:J=>n(J.target.value),className:"bg-transparent border-none text-slate-500 dark:text-slate-400 font-medium outline-none cursor-pointer text-right",onClick:J=>J.stopPropagation(),children:[h.jsx("option",{value:"default",children:"Default"}),h.jsx("option",{value:"cozy-lofi",children:"Cozy Lofi"}),h.jsx("option",{value:"paper-ink",children:"Paper & Ink"})]}),noChevron:!0},{icon:h.jsx(AF,{size:20}),label:"Language",value:"English"},{icon:h.jsx(rF,{size:20}),label:"Currency",value:"USD ($)"}]},{title:"Data Management",items:[{icon:h.jsx(rg,{size:20}),label:"Export Data",action:Te},{icon:h.jsx(_u,{size:20}),label:"Import Data",action:D}]},{title:"Support",items:[{icon:h.jsx(aF,{size:20}),label:"Send Feedback",action:()=>Ne("feedback")},{icon:h.jsx($3,{size:20}),label:"Report a Bug",action:()=>Ne("bug")}]}],Me=B.name||(s?s.email.split("@")[0]:"Guest User"),ie=B.avatar;return h.jsxs("div",{className:"pb-24 pt-4",children:[h.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-8",children:"Settings"}),h.jsxs("div",{className:"flex items-center gap-4 mb-8 bg-white dark:bg-slate-900 p-4 rounded-2xl shadow-sm border border-slate-100 dark:border-slate-800 relative",children:[h.jsx("div",{className:"w-16 h-16 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-blue-600 dark:text-blue-400 overflow-hidden ring-2 ring-white dark:ring-slate-800 shadow-md",children:ie?h.jsx("img",{src:ie,alt:"Profile",className:"w-full h-full object-cover"}):h.jsx(Ff,{size:32})}),h.jsxs("div",{children:[h.jsx("h2",{className:"font-bold text-lg text-slate-900 dark:text-white",children:Me}),h.jsx("p",{className:"text-slate-500 text-sm",children:s?"Cloud Sync Enabled":"Local Profile"})]}),h.jsx("button",{onClick:ge,className:"absolute right-4 top-1/2 -translate-y-1/2 p-2 bg-slate-100 dark:bg-slate-800 rounded-full hover:bg-violet-100 dark:hover:bg-violet-900/30 text-slate-400 hover:text-violet-600 dark:hover:text-violet-400 transition-colors",children:h.jsx(Wd,{size:18})})]}),h.jsxs("div",{className:"space-y-6",children:[pe.map((J,ne)=>h.jsxs("div",{children:[h.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase mb-2 px-2",children:J.title}),h.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-xl overflow-hidden border border-slate-100 dark:border-slate-800",children:J.items.map((Ie,j)=>h.jsxs("div",{onClick:Ie.disabled?void 0:Ie.action,className:`
                                    flex items-center justify-between p-4 transition-colors
                                    ${Ie.disabled?"opacity-50 cursor-not-allowed":"cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-800/50"}
                                    ${j!==J.items.length-1?"border-b border-slate-100 dark:border-slate-800":""}
                                  `,children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:Ie.className||"text-slate-400",children:Ie.icon}),h.jsxs("div",{children:[h.jsx("span",{className:`font-medium ${Ie.className||"text-slate-700 dark:text-slate-200"}`,children:Ie.label}),Ie.description&&h.jsx("p",{className:"text-[10px] text-red-500 font-bold uppercase tracking-wider mt-0.5",children:Ie.description})]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[Ie.value!==void 0&&h.jsx("span",{className:"text-slate-400 text-sm",children:Ie.value===!0?"On":Ie.value===!1?"Off":Ie.value}),Ie.isToggle?h.jsx("div",{className:`w-10 h-6 rounded-full relative transition-colors ${Ie.value?"bg-blue-500":"bg-slate-200"}`,children:h.jsx("div",{className:`w-4 h-4 rounded-full bg-white absolute top-1 transition-transform ${Ie.value?"left-5":"left-1"}`})}):!Ie.noChevron&&h.jsx(Ga,{size:16,className:"text-slate-300"})]})]},j))})]},ne)),h.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-xl overflow-hidden border border-slate-100 dark:border-slate-800",children:s?h.jsxs(h.Fragment,{children:[h.jsxs("div",{onClick:H?void 0:me,className:`flex items-center justify-between p-4 border-b border-slate-100 dark:border-slate-800 ${H?"opacity-50 cursor-not-allowed":"cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-800/50"}`,children:[h.jsxs("div",{className:"flex items-center gap-3 text-blue-500",children:[h.jsx(gF,{size:20,className:H?"animate-pulse":""}),h.jsx("span",{className:"font-medium text-slate-700 dark:text-slate-200",children:H?"Syncing...":"Sync to Cloud"})]}),!H&&h.jsx(Ga,{size:16,className:"text-slate-300"})]}),h.jsxs("div",{onClick:()=>a(),className:"flex items-center justify-between p-4 cursor-pointer hover:bg-slate-50",children:[h.jsxs("div",{className:"flex items-center gap-3 text-red-500",children:[h.jsx(iF,{size:20}),h.jsx("span",{className:"font-medium",children:"Sign Out"})]}),h.jsx(Ga,{size:16,className:"text-slate-300"})]})]}):h.jsxs("div",{onClick:()=>v("/signup"),className:"flex items-center justify-between p-4 cursor-pointer hover:bg-slate-50",children:[h.jsxs("div",{className:"flex items-center gap-3 text-green-500",children:[h.jsx(ey,{size:20}),h.jsx("span",{className:"font-medium",children:"Sign In / Sign Up"})]}),h.jsx(Ga,{size:16,className:"text-slate-300"})]})})]}),h.jsxs("div",{className:"text-center mt-8 text-xs text-slate-400",children:["Ver 3.2.0 ",s?"(Cloud Sync Enabled )":"(Local Storage Only)"]}),h.jsx("input",{type:"file",ref:E,onChange:oe,className:"hidden",accept:".json"}),h.jsx("input",{type:"file",ref:b,onChange:xe,className:"hidden",accept:"image/*"}),L&&h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:h.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-sm rounded-[32px] p-8 shadow-2xl animate-scale-in flex flex-col items-center",children:[h.jsxs("div",{className:"flex justify-between items-center w-full mb-6",children:[h.jsx("h3",{className:"text-xl font-bold dark:text-white",children:"Edit Profile"}),h.jsx("button",{onClick:()=>X(!1),children:h.jsx(Mn,{className:"text-slate-400"})})]}),h.jsxs("div",{className:"relative mb-8 group cursor-pointer",onClick:()=>{var J;return(J=b.current)==null?void 0:J.click()},children:[h.jsx("div",{className:"w-24 h-24 rounded-full bg-slate-100 dark:bg-slate-800 overflow-hidden ring-4 ring-white dark:ring-slate-700 shadow-xl",children:G.avatar?h.jsx("img",{src:G.avatar,className:"w-full h-full object-cover",alt:"Preview"}):h.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-300",children:h.jsx(Ff,{size:40})})}),h.jsx("div",{className:"absolute inset-0 bg-black/30 rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:h.jsx(eF,{className:"text-white"})}),h.jsx("div",{className:"absolute bottom-0 right-0 bg-blue-500 p-2 rounded-full ring-2 ring-white",children:h.jsx(Wd,{size:12,className:"text-white"})})]}),h.jsxs("div",{className:"w-full mb-8",children:[h.jsx("label",{className:"text-xs font-bold uppercase text-slate-400 mb-2 block tracking-wider",children:"Display Name"}),h.jsx("input",{type:"text",className:"w-full text-center text-xl font-bold bg-slate-50 dark:bg-slate-800/50 rounded-xl py-3 outline-none border-2 border-transparent focus:border-blue-500 transition-all dark:text-white",value:G.name,onChange:J=>ce(ne=>({...ne,name:J.target.value})),placeholder:"Enter name"})]}),h.jsx("button",{onClick:Ae,className:"w-full py-4 bg-violet-600 text-white rounded-xl font-bold text-lg shadow-lg shadow-violet-500/30 active:scale-95 transition-all",children:"Save Changes"})]})}),S&&h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:h.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-2xl shadow-2xl p-6 animate-scale-in",children:[h.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:T==="bug"?"Report a Bug":"Send Feedback"}),h.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-4",children:"We'll format this into an email for you."}),h.jsx("textarea",{className:"w-full h-32 p-3 bg-slate-50 dark:bg-slate-800 rounded-xl border border-slate-200 dark:border-slate-700 focus:outline-none focus:ring-2 focus:ring-violet-500 text-slate-900 dark:text-white resize-none mb-4",placeholder:"Type your message...",value:U,onChange:J=>k(J.target.value)}),h.jsxs("div",{className:"flex gap-3 justify-end",children:[h.jsx("button",{onClick:()=>R(!1),className:"px-4 py-2 text-slate-600 dark:text-slate-300 hover:bg-slate-100 rounded-lg",children:"Cancel"}),h.jsx("button",{onClick:fe,disabled:!U.trim(),className:"px-4 py-2 bg-violet-600 text-white rounded-lg hover:bg-violet-700 disabled:opacity-50",children:"Send Email"})]})]})})]})},jQ=()=>{const{books:e,getYearlyStats:t}=ln(),{themePreset:r}=qo(),n=zr(),[s,a]=z.useState(null),c=new Date().getFullYear(),f=[...new Set(e.filter(D=>D.finishedAt||D.addedAt).map(D=>(D.finishedAt?new Date(D.finishedAt):new Date(D.addedAt)).getFullYear()))].sort((D,oe)=>oe-D);f.includes(c)||f.unshift(c);const[g,w]=z.useState(c),x=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((D,oe)=>{const ge=e.filter(Ae=>{if(!Ae.finishedAt||Ae.status!=="read")return!1;const xe=new Date(Ae.finishedAt);return xe.getFullYear()===g&&xe.getMonth()===oe}).length;return{month:D,count:ge,index:oe}}),v=e.filter(D=>D.addedAt?new Date(D.addedAt).getFullYear()===g:!1).length,E=e.filter(D=>!D.addedAt||D.status!=="want-to-read"?!1:new Date(D.addedAt).getFullYear()===g).length,b=e.filter(D=>D.status==="want-to-read").length,S=Math.max(...x.map(D=>D.count),1),R=x.reduce((D,oe)=>oe.count>D.count?oe:D,{month:"-",count:0}),T=e.filter(D=>D.status!=="read"||!D.finishedAt?!1:new Date(D.finishedAt).getFullYear()===g),I=T.filter(D=>D.hasSpice).length,U=e.filter(D=>!D.isFavorite||!D.addedAt?!1:new Date(D.addedAt).getFullYear()===g).length,k=e.filter(D=>D.status==="read"&&D.finishedAt&&new Date(D.finishedAt).getFullYear()===g),H={readThisYear:k.length,dnfThisYear:e.filter(D=>D.status!=="dnf"||!D.dnfAt?!1:new Date(D.dnfAt).getFullYear()===g).length,pausedThisYear:e.filter(D=>D.status!=="paused"||!D.pausedAt?!1:new Date(D.pausedAt).getFullYear()===g).length,spent:e.filter(D=>!D.price||parseFloat(D.price)===0?!1:D.boughtDate?new Date(D.boughtDate).getFullYear()===g:D.addedAt?new Date(D.addedAt).getFullYear()===g:!1).reduce((D,oe)=>D+(parseFloat(oe.price)||0),0),worstBook:k.filter(D=>D.rating>0).sort((D,oe)=>D.rating-oe.rating)[0]},M=e.reduce((D,oe)=>{const xe=(oe.readingLogs||[]).filter(pe=>new Date(pe.date).getFullYear()===g).reduce((pe,Me)=>pe+(Me.minutesRead||0),0);return D+xe},0),L=e.reduce((D,oe)=>{const ge=oe.readingLogs||[],Ae=ge.filter(ie=>new Date(ie.date).getFullYear()===g);if(Ae.length===0)return D;const xe=Math.max(...Ae.map(ie=>ie.pagesRead||0)),pe=ge.filter(ie=>new Date(ie.date).getFullYear()<g),Me=pe.length>0?Math.max(...pe.map(ie=>ie.pagesRead||0)):0;return D+Math.max(0,xe-Me)},0),X=D=>{if(!D)return"0m";const oe=Math.floor(D/60),ge=Math.round(D%60);return oe>0?`${oe}h ${ge}m`:`${ge}m`},G={};T.forEach(D=>{(D.genres||[]).forEach(oe=>{G[oe]=(G[oe]||0)+1})});const ce=Object.entries(G).sort((D,oe)=>oe[1]-D[1]).slice(0,5).map(([D,oe])=>({name:D,value:oe})),Ne={};T.forEach(D=>{const oe=D.format||"Unknown";Ne[oe]=(Ne[oe]||0)+1});const fe=Object.entries(Ne).map(([D,oe])=>({name:D,value:oe})),me={};e.filter(D=>!D.isOwned||!D.purchaseLocation?!1:D.boughtDate?new Date(D.boughtDate).getFullYear()===g:D.addedAt?new Date(D.addedAt).getFullYear()===g:!1).forEach(D=>{const oe=D.purchaseLocation;me[oe]=(me[oe]||0)+1});const Te=Object.entries(me).map(([D,oe])=>({name:D,value:oe}));return h.jsxs("div",{className:"pb-24 pt-4",children:[h.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[h.jsx("button",{onClick:()=>n(-1),className:"p-2 -ml-2 text-slate-800 dark:text-white",children:h.jsx(tg,{size:24})}),h.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:"Annual Report"})]}),h.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[h.jsx("span",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Year"}),h.jsx("select",{value:g,onChange:D=>w(parseInt(D.target.value)),className:"text-violet-600 dark:text-violet-400 font-medium bg-transparent border-2 border-violet-200 dark:border-violet-800 rounded-lg px-3 py-1 cursor-pointer hover:border-violet-400 dark:hover:border-violet-600 transition-colors",children:f.map(D=>h.jsx("option",{value:D,className:"bg-white dark:bg-slate-900",children:D},D))})]}),h.jsxs("div",{className:"bg-white dark:bg-slate-900 p-3 sm:p-6 rounded-2xl border border-slate-100 dark:border-slate-800 mb-6 overflow-hidden contrast-card",children:[h.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase mb-4",children:"Books Read Per Month"}),h.jsx("div",{className:"flex items-end justify-between gap-0.5 sm:gap-2 h-44 sm:h-48 relative",children:x.map((D,oe)=>{const ge=S>0?D.count/S*100:0,Ae=s===oe;return h.jsxs("div",{className:"flex-1 flex flex-col items-center justify-end relative group h-full",onMouseEnter:()=>a(oe),onMouseLeave:()=>a(null),onClick:()=>a(Ae?null:oe),children:[Ae&&h.jsxs("div",{className:"absolute -top-16 left-1/2 -translate-x-1/2 bg-slate-900 dark:bg-white text-white dark:text-slate-900 px-3 py-2 rounded-lg shadow-lg z-10 whitespace-nowrap animate-fade-in pointer-events-none chart-tooltip",style:r==="paper-ink"?{color:"#FFFFFF",backgroundColor:"#333333"}:{},children:[h.jsx("div",{className:"text-[10px] sm:text-xs font-bold",children:D.month}),h.jsxs("div",{className:"text-xs sm:text-sm font-black",children:[D.count," ",D.count===1?"book":"books"]}),h.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 translate-y-full w-0 h-0 border-l-4 border-l-transparent border-r-4 border-r-transparent border-t-4 border-t-slate-900 dark:border-t-white",style:r==="paper-ink"?{borderTopColor:"#333333"}:{}})]}),h.jsx("div",{className:`w-full rounded-t sm:rounded-t-lg cursor-pointer transition-all duration-500 chart-bar-fill ${r!=="paper-ink"?Ae?"bg-red-600":"bg-red-500":""}`,style:{height:`${ge}%`,minHeight:D.count>0?"8px":"0px",backgroundColor:r==="paper-ink"?Ae?"#000000":"#333333":void 0}}),h.jsx("div",{className:`text-[9px] sm:text-xs font-bold mt-2 transition-colors ${Ae?"text-violet-600 dark:text-violet-400":"text-slate-400"}`,children:D.month})]},oe)})})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[h.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-100 dark:border-slate-800 shadow-sm flex items-center gap-4 contrast-card",children:[h.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-xl flex items-center justify-center text-blue-600 dark:text-blue-400",children:h.jsx(ZB,{size:24})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-wider",children:"Time Read"}),h.jsx("p",{className:"text-3xl font-black text-slate-900 dark:text-white mt-1",children:X(M)})]})]}),h.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-100 dark:border-slate-800 shadow-sm flex items-center gap-4 contrast-card",children:[h.jsx("div",{className:"w-12 h-12 bg-violet-100 dark:bg-violet-900/30 rounded-xl flex items-center justify-center text-violet-600 dark:text-violet-400",children:h.jsx(XB,{size:24})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-wider",children:"Pages Read"}),h.jsx("p",{className:"text-3xl font-black text-slate-900 dark:text-white mt-1",children:L.toLocaleString()})]})]}),h.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-100 dark:border-slate-800 shadow-sm flex items-center gap-4 contrast-card",children:[h.jsx("div",{className:"w-12 h-12 bg-emerald-100 dark:bg-emerald-900/30 rounded-xl flex items-center justify-center text-emerald-600 dark:text-emerald-400",children:h.jsx(qB,{size:24})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-wider",children:"Money Spent"}),h.jsx("p",{className:"text-3xl font-black text-slate-900 dark:text-white mt-1",children:hC(H.spent)})]})]}),h.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-100 dark:border-slate-800 shadow-sm flex items-center gap-4 contrast-card",children:[h.jsx("div",{className:"w-12 h-12 bg-red-100 dark:bg-red-900/30 rounded-xl flex items-center justify-center text-red-600 dark:text-red-400",children:h.jsx(qn,{size:24,className:"fill-current"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-wider",children:"Spicy Reads"}),h.jsx("p",{className:"text-3xl font-black text-slate-900 dark:text-white mt-1",children:I})]})]}),h.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-100 dark:border-slate-800 shadow-sm flex items-center gap-4 contrast-card",children:[h.jsx("div",{className:"w-12 h-12 bg-amber-100 dark:bg-amber-900/30 rounded-xl flex items-center justify-center text-amber-600 dark:text-amber-400",children:h.jsx(fF,{size:24})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-wider",children:"Best Month"}),h.jsx("p",{className:"text-xl font-black text-slate-900 dark:text-white mt-1",children:R.month}),h.jsxs("p",{className:"text-xs text-slate-500 font-bold",children:[R.count," books"]})]})]}),h.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-100 dark:border-slate-800 shadow-sm flex items-center gap-4 contrast-card",children:[h.jsx("div",{className:"w-12 h-12 bg-slate-100 dark:bg-slate-800 rounded-xl flex items-center justify-center text-slate-500 dark:text-slate-400",children:h.jsx(ry,{size:24})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-wider",children:"Paused"}),h.jsx("p",{className:"text-3xl font-black text-slate-900 dark:text-white mt-1",children:H.pausedThisYear})]})]}),h.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-100 dark:border-slate-800 shadow-sm flex items-center gap-4 contrast-card",children:[h.jsx("div",{className:"w-12 h-12 bg-slate-100 dark:bg-slate-800 rounded-xl flex items-center justify-center text-slate-500 dark:text-slate-400",children:h.jsx(oy,{size:24})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-wider",children:"DNF"}),h.jsx("p",{className:"text-3xl font-black text-slate-900 dark:text-white mt-1",children:H.dnfThisYear})]})]}),h.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-2xl border border-slate-100 dark:border-slate-800 shadow-sm flex items-center gap-4 contrast-card",children:[h.jsx("div",{className:"w-12 h-12 bg-pink-100 dark:bg-pink-900/30 rounded-xl flex items-center justify-center text-pink-600 dark:text-pink-400",children:h.jsx(As,{size:24})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-wider",children:"Favorites"}),h.jsx("p",{className:"text-3xl font-black text-slate-900 dark:text-white mt-1",children:U})]})]})]}),H.worstBook&&H.worstBook.rating<=2&&h.jsx("div",{onClick:()=>n("/?maxRating=2"),className:"bg-red-50 dark:bg-red-900/10 p-6 rounded-2xl border border-red-100 dark:border-red-900/30 flex items-center justify-between shadow-sm cursor-pointer hover:shadow-md transition-shadow group col-span-full md:col-span-1 contrast-card",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"w-12 h-16 bg-slate-200 dark:bg-slate-800 rounded bg-cover bg-center shadow-sm",style:{backgroundImage:`url(${H.worstBook.cover})`}}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-xs font-bold text-red-400 uppercase tracking-wider group-hover:underline",children:"Worst of the Year"}),h.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-white leading-tight mt-1 line-clamp-1",children:H.worstBook.title}),h.jsxs("div",{className:"flex items-center gap-1 mt-1 text-red-500",children:[h.jsx("span",{className:"font-black text-lg",children:H.worstBook.rating}),h.jsx("span",{className:"text-[10px] font-bold opacity-60",children:"Stars"})]})]}),h.jsx("div",{className:"ml-auto text-red-300",children:h.jsx(Uu,{size:24})})]})}),h.jsx("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-xl border border-slate-100 dark:border-slate-700 col-span-full md:col-span-2 lg:col-span-4 contrast-card",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-amber-500 mb-2",children:h.jsx($n,{size:24})}),h.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"4.5"}),h.jsx("div",{className:"text-xs text-slate-400",children:"Rating Avg"})]}),h.jsxs("div",{className:"flex-1 ml-6 space-y-2",children:[h.jsx("div",{className:"w-full bg-slate-100 h-2 rounded-full overflow-hidden",children:h.jsx("div",{className:"bg-amber-400 w-3/4 h-full"})}),h.jsx("div",{className:"w-full bg-slate-100 h-2 rounded-full overflow-hidden",children:h.jsx("div",{className:"bg-amber-400 w-1/2 h-full"})})]})]})}),h.jsxs("div",{className:"bg-slate-900 dark:bg-slate-800 p-6 rounded-2xl border border-slate-700 dark:border-slate-700 col-span-full text-white shadow-xl shadow-slate-200 dark:shadow-none relative overflow-hidden contrast-card",children:[h.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:h.jsx(ng,{size:80})}),h.jsxs("div",{className:"relative z-10",children:[h.jsxs("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider mb-4",children:["Library Growth ",g]}),h.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-3xl font-black",children:v}),h.jsx("div",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Added"})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-3xl font-black text-amber-400",children:E}),h.jsx("div",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"TBR Added"})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-3xl font-black text-emerald-400",children:b}),h.jsx("div",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"TBR Left"})]})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 pb-6",children:[h.jsx(Yi,{title:"Top Genres",data:ce,colors:r==="paper-ink"?["#333333","#555555","#777777","#999999","#BBBBBB"]:["#8B5CF6","#EC4899","#3B82F6","#10B981","#F59E0B"]}),h.jsx(Yi,{title:"Book Formats",data:fe,colors:r==="paper-ink"?["#333333","#666666","#999999","#CCCCCC","#EEEEEE"]:["#6366F1","#F43F5E","#84CC16","#06B6D4","#D946EF"]}),h.jsx(Yi,{title:"Purchase Locations",data:Te,colors:r==="paper-ink"?["#333333","#555555","#777777","#999999","#BBBBBB"]:["#10B981","#F59E0B","#3B82F6","#EC4899","#8B5CF6"]})]})]})},HQ=()=>{const[e,t]=z.useState(""),[r,n]=z.useState(""),[s,a]=z.useState(""),[c,f]=z.useState(!1),{signIn:g}=ua(),w=zr(),B=async x=>{x.preventDefault(),a(""),f(!0);try{const{error:v}=await g(e,r);if(v)throw v;w("/")}catch(v){a(v.message)}finally{f(!1)}};return h.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center px-4 py-8 bg-slate-50 dark:bg-slate-900 transition-colors",children:h.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-slate-800 rounded-3xl p-8 shadow-xl border border-slate-200 dark:border-slate-700",children:[h.jsxs("div",{className:"flex flex-col items-center mb-8",children:[h.jsx("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-2xl flex items-center justify-center mb-4",children:h.jsx(ey,{size:32})}),h.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Welcome Back"}),h.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:"Log in to sync your library"})]}),s&&h.jsxs("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl flex items-center gap-3 text-red-600 dark:text-red-400 text-sm",children:[h.jsx(WB,{size:18,className:"shrink-0"}),h.jsx("span",{children:s})]}),h.jsxs("form",{onSubmit:B,className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 ml-1",children:"Email"}),h.jsxs("div",{className:"relative",children:[h.jsx(ty,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),h.jsx("input",{type:"email",value:e,onChange:x=>t(x.target.value),className:"w-full bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-12 pr-4 outline-none focus:ring-2 focus:ring-blue-500 transition-all dark:text-white",placeholder:"name@example.com",required:!0})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 ml-1",children:"Password"}),h.jsxs("div",{className:"relative",children:[h.jsx(Sf,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),h.jsx("input",{type:"password",value:r,onChange:x=>n(x.target.value),className:"w-full bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-12 pr-4 outline-none focus:ring-2 focus:ring-blue-500 transition-all dark:text-white",placeholder:"",required:!0})]})]}),h.jsx("button",{type:"submit",disabled:c,className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-4 rounded-xl shadow-lg shadow-blue-500/30 active:scale-[0.98] transition-all disabled:opacity-50 disabled:scale-100 flex items-center justify-center gap-2",children:c?h.jsx("div",{className:"w-6 h-6 border-2 border-white/30 border-t-white rounded-full animate-spin"}):"Sign In"})]}),h.jsxs("div",{className:"mt-8 text-center text-sm",children:[h.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Don't have an account? "}),h.jsx(X0,{to:"/signup",className:"text-blue-600 dark:text-blue-400 font-bold hover:underline",children:"Sign Up"})]})]})})},PQ=()=>{const[e,t]=z.useState(""),[r,n]=z.useState(""),[s,a]=z.useState(""),[c,f]=z.useState(""),[g,w]=z.useState(!1),{signUp:B}=ua(),x=zr(),v=async E=>{if(E.preventDefault(),f(""),r!==s)return f("Passwords do not match");if(r.length<6)return f("Password must be at least 6 characters");w(!0);try{const{error:b}=await B(e,r);if(b)throw b.message.includes("already registered")||b.message.includes("already been registered")||b.message.includes("User already registered")?new Error("This email is already registered. Please login instead."):b;alert("Check your email for the confirmation link!"),x("/login")}catch(b){f(b.message)}finally{w(!1)}};return h.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center px-4 py-8 bg-slate-50 dark:bg-slate-900 transition-colors",children:h.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-slate-800 rounded-3xl p-8 shadow-xl border border-slate-200 dark:border-slate-700",children:[h.jsxs("div",{className:"flex flex-col items-center mb-8",children:[h.jsx("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-2xl flex items-center justify-center mb-4",children:h.jsx(pF,{size:32})}),h.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Create Account"}),h.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:"Start syncing your books today"})]}),c&&h.jsxs("div",{className:"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-xl flex items-center gap-3 text-red-600 dark:text-red-400 text-sm",children:[h.jsx(WB,{size:18,className:"shrink-0"}),h.jsx("span",{children:c})]}),h.jsxs("form",{onSubmit:v,className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 ml-1",children:"Email"}),h.jsxs("div",{className:"relative",children:[h.jsx(ty,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),h.jsx("input",{type:"email",value:e,onChange:E=>t(E.target.value),className:"w-full bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-12 pr-4 outline-none focus:ring-2 focus:ring-blue-500 transition-all dark:text-white",placeholder:"name@example.com",required:!0})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 ml-1",children:"Password"}),h.jsxs("div",{className:"relative",children:[h.jsx(Sf,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),h.jsx("input",{type:"password",value:r,onChange:E=>n(E.target.value),className:"w-full bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-12 pr-4 outline-none focus:ring-2 focus:ring-blue-500 transition-all dark:text-white",placeholder:"",required:!0})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300 ml-1",children:"Confirm Password"}),h.jsxs("div",{className:"relative",children:[h.jsx(Sf,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:18}),h.jsx("input",{type:"password",value:s,onChange:E=>a(E.target.value),className:"w-full bg-slate-50 dark:bg-slate-900/50 border border-slate-200 dark:border-slate-700 rounded-xl py-3 pl-12 pr-4 outline-none focus:ring-2 focus:ring-blue-500 transition-all dark:text-white",placeholder:"",required:!0})]})]}),h.jsx("button",{type:"submit",disabled:g,className:"w-full bg-blue-500 hover:bg-blue-600 text-white font-bold py-4 rounded-xl shadow-lg shadow-blue-500/30 active:scale-[0.98] transition-all disabled:opacity-50 disabled:scale-100 flex items-center justify-center gap-2",children:g?h.jsx("div",{className:"w-6 h-6 border-2 border-white/30 border-t-white rounded-full animate-spin"}):"Sign Up"})]}),h.jsxs("div",{className:"mt-8 text-center text-sm",children:[h.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Already have an account? "}),h.jsx(X0,{to:"/login",className:"text-blue-600 dark:text-blue-400 font-bold hover:underline",children:"Log In"})]})]})})},KQ=()=>{const{books:e,loading:t}=ln(),r=zr(),[n,s]=z.useState("Recently Added"),[a,c]=z.useState(!1);if(t)return h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx(Ag,{className:"animate-spin text-blue-500",size:40})});const f=["Alphabetical","Recently Added","Recently Bought"];let g=e.filter(w=>w.isFavorite);return g.sort((w,B)=>n==="Alphabetical"?w.title.localeCompare(B.title):n==="Recently Added"?new Date(B.addedAt)-new Date(w.addedAt):n==="Recently Bought"?new Date(B.boughtDate||0)-new Date(w.boughtDate||0):0),h.jsxs("div",{className:"pb-24 pt-2 min-h-screen relative",children:[h.jsx(Ku,{}),h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-white",children:"Favorites"}),h.jsxs("div",{className:"relative",children:[h.jsxs("button",{onClick:()=>c(!a),className:"flex items-center gap-1 text-xs font-bold uppercase text-slate-500",children:[n," ",h.jsx(YB,{size:14})]}),a&&h.jsx("div",{className:"absolute right-0 top-8 bg-white dark:bg-slate-900 rounded-xl shadow-lg border border-slate-100 dark:border-slate-800 p-2 min-w-[160px] z-10",children:f.map(w=>h.jsx("button",{onClick:()=>{s(w),c(!1)},className:`w-full text-left px-3 py-2 rounded-lg text-sm font-medium ${n===w?"bg-violet-600 text-white":"text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800"}`,children:w},w))})]})]}),h.jsx("div",{className:"mb-4",children:h.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[g.length," ",g.length===1?"book":"books"]})}),g.length>0?h.jsx("div",{className:"space-y-3",children:g.map(w=>h.jsx(hg,{book:w,variant:"list",onClick:()=>r(`/book/${w.id}`)},w.id))}):h.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[h.jsx("div",{className:"text-slate-400 dark:text-slate-500 mb-4",children:h.jsx("svg",{className:"w-24 h-24 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),h.jsx("h3",{className:"text-lg font-bold text-slate-700 dark:text-slate-300 mb-2",children:"No Favorites Yet"}),h.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 max-w-sm",children:"Mark books as favorites by tapping the heart icon in their details page."})]})]})},VQ=()=>{var R;const{id:e}=uB(),t=zr(),{books:r,addNote:n,deleteNote:s}=ln(),a=r.find(T=>T.id===e),[c,f]=z.useState("All"),[g,w]=z.useState(""),[B,x]=z.useState(!1),[v,E]=z.useState(""),b=z.useMemo(()=>{if(!(a!=null&&a.notes))return[];let T=[...a.notes].sort((I,U)=>new Date(U.date)-new Date(I.date));if(c==="Today")T=T.filter(I=>z4(new Date(I.date)));else if(c==="Last 7 Days"){const I=W4(new Date);T=T.filter(U=>new Date(U.date)>=I)}else c==="Custom"&&g&&(T=T.filter(I=>Fr(new Date(I.date),zc(g))));return T},[a==null?void 0:a.notes,c,g]),S=()=>{v.trim()&&(n(e,v),E(""),x(!1))};return a?h.jsxs("div",{className:"min-h-screen bg-white dark:bg-slate-950 pb-20",children:[h.jsxs("div",{className:"sticky top-0 z-10 bg-white dark:bg-slate-950 px-4 py-4 flex items-center gap-4 shadow-sm border-b border-slate-100 dark:border-slate-800",children:[h.jsxs("button",{onClick:()=>t(-1),className:"p-2 bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-200 rounded-lg px-3 flex items-center gap-2 font-bold text-xs transition-colors active:scale-95",children:[h.jsx(tg,{size:16})," Back"]}),h.jsx("h1",{className:"text-lg font-bold flex-1 text-center pr-10 text-slate-900 dark:text-white",children:"Notes Details"}),h.jsx("button",{onClick:()=>x(!0),className:"p-2 bg-violet-600 hover:bg-violet-700 text-white rounded-lg flex items-center justify-center shadow-lg shadow-violet-500/30 transition-all active:scale-95",children:h.jsx(ny,{size:20})})]}),h.jsxs("div",{className:"p-6 max-w-2xl mx-auto",children:[h.jsxs("div",{className:"flex gap-6 mb-8 items-center bg-slate-50 dark:bg-slate-900/50 p-4 rounded-2xl",children:[h.jsx("div",{className:"w-20 shrink-0 shadow-md rounded-lg overflow-hidden",children:h.jsx(sa,{src:a.cover,title:a.title,className:"w-full h-auto aspect-[2/3] object-cover"})}),h.jsxs("div",{className:"flex flex-col justify-center",children:[h.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white mb-1 leading-tight",children:a.title}),h.jsx("p",{className:"text-xs font-medium text-slate-500",children:a.author}),h.jsxs("div",{className:"mt-3 text-xs font-bold text-violet-600 dark:text-violet-400 bg-violet-100 dark:bg-violet-900/20 px-3 py-1 rounded-full self-start inline-flex items-center gap-1",children:[h.jsx("span",{className:"opacity-70",children:"Total Notes:"})," ",((R=a.notes)==null?void 0:R.length)||0]})]})]}),h.jsxs("div",{className:"flex items-center gap-2 mb-6 flex-wrap sticky top-[72px] bg-white dark:bg-slate-950 py-2 z-10",children:[h.jsx("div",{className:"flex items-center gap-2 bg-slate-100 dark:bg-slate-900 p-1 rounded-lg",children:["All","Today","Last 7 Days","Custom"].map(T=>h.jsx("button",{onClick:()=>f(T),className:`px-3 py-1.5 rounded-md text-xs font-bold transition-all ${c===T?"bg-white dark:bg-slate-800 text-slate-900 dark:text-white shadow-sm":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"} `,children:T},T))}),c==="Custom"&&h.jsx("div",{className:"flex items-center gap-2 animate-fade-in",children:h.jsx("input",{type:"date",value:g,onChange:T=>w(T.target.value),className:"bg-slate-100 dark:bg-slate-900 border-none rounded-lg px-3 py-1.5 text-xs font-bold outline-none focus:ring-2 focus:ring-violet-500 text-slate-700 dark:text-slate-300"})})]}),b.length===0?h.jsxs("div",{className:"text-center py-12 opacity-50",children:[h.jsx(JB,{size:48,className:"mx-auto mb-4 text-slate-300"}),h.jsx("p",{className:"font-bold text-slate-400",children:"No notes found"}),h.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Tap the + button to add a new note"})]}):h.jsx("div",{className:"space-y-4",children:b.map(T=>h.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl p-5 border border-slate-100 dark:border-slate-800 shadow-sm relative group animate-fade-in",children:[h.jsxs("div",{className:"flex justify-between items-center mb-3",children:[h.jsxs("div",{className:"flex gap-2",children:[h.jsx("span",{className:"bg-violet-50 dark:bg-violet-900/20 text-[10px] font-bold px-2 py-1 rounded-md text-violet-600 dark:text-violet-300 uppercase tracking-wide",children:jA(new Date(T.date),"MMM d, yyyy")}),h.jsx("span",{className:"bg-slate-100 dark:bg-slate-800 text-[10px] font-bold px-2 py-1 rounded-md text-slate-500 dark:text-slate-400",children:jA(new Date(T.date),"h:mm a")})]}),h.jsx("button",{onClick:()=>s(e,T.id),className:"text-slate-300 hover:text-red-500 transition-colors p-1",children:h.jsx(ay,{size:14})})]}),h.jsx("div",{className:"text-sm font-medium text-slate-700 dark:text-slate-300 leading-relaxed whitespace-pre-wrap",children:T.content})]},T.id))})]}),B&&h.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-end sm:items-center justify-center p-4 animate-fade-in",children:h.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-lg rounded-2xl p-6 shadow-2xl animate-scale-in",children:[h.jsxs("div",{className:"flex justify-between items-center mb-4",children:[h.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"New Note"}),h.jsx("button",{onClick:()=>x(!1),className:"p-1 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:h.jsx(Mn,{size:20,className:"text-slate-500"})})]}),h.jsx("textarea",{value:v,onChange:T=>E(T.target.value),placeholder:"Write your note here...",className:"w-full h-40 bg-slate-50 dark:bg-slate-800/50 rounded-xl p-4 text-sm font-medium outline-none focus:ring-2 focus:ring-violet-500 resize-none mb-4 dark:text-white",autoFocus:!0}),h.jsxs("div",{className:"flex justify-end gap-3",children:[h.jsx("button",{onClick:()=>x(!1),className:"px-4 py-2 rounded-lg text-sm font-bold text-slate-500 hover:bg-slate-100 dark:hover:bg-slate-800 transition-colors",children:"Cancel"}),h.jsx("button",{onClick:S,disabled:!v.trim(),className:"px-6 py-2 rounded-lg text-sm font-bold bg-violet-600 text-white hover:bg-violet-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg shadow-violet-500/20",children:"Save Note"})]})]})})]}):h.jsx("div",{className:"p-8 text-center",children:"Book not found"})};function GQ(){return h.jsx(X3,{children:h.jsx(V3,{children:h.jsx(Y3,{children:h.jsx(FE,{children:h.jsxs(BE,{children:[h.jsx(Yr,{path:"/login",element:h.jsx(HQ,{})}),h.jsx(Yr,{path:"/signup",element:h.jsx(PQ,{})}),h.jsxs(Yr,{path:"/",element:h.jsx(Vk,{}),children:[h.jsx(Yr,{index:!0,element:h.jsx(Wk,{})}),h.jsx(Yr,{path:"library",element:h.jsx(Xk,{})}),h.jsx(Yr,{path:"calendar",element:h.jsx(MQ,{})}),h.jsx(Yr,{path:"add",element:h.jsx(RQ,{})}),h.jsx(Yr,{path:"book/:id",element:h.jsx(OQ,{})}),h.jsx(Yr,{path:"settings",element:h.jsx(LQ,{})}),h.jsx(Yr,{path:"annual",element:h.jsx(jQ,{})}),h.jsx(Yr,{path:"favorites",element:h.jsx(KQ,{})}),h.jsx(Yr,{path:"book/:id/notes",element:h.jsx(VQ,{})})]})]})})})})})}gh.createRoot(document.getElementById("root")).render(h.jsx(po.StrictMode,{children:h.jsx(GQ,{})}));
